<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--  This file is generated by Nim. -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Favicon -->
<link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAUAAAAF////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAIAAABbAAAAlQAAAKIAAACbAAAAmwAAAKIAAACVAAAAWwAAAAL///8A////AP///wD///8A////AAAAABQAAADAAAAAYwAAAA3///8A////AP///wD///8AAAAADQAAAGMAAADAAAAAFP///wD///8A////AP///wAAAACdAAAAOv///wD///8A////AP///wD///8A////AP///wD///8AAAAAOgAAAJ3///8A////AP///wAAAAAnAAAAcP///wAAAAAoAAAASv///wD///8A////AP///wAAAABKAAAAKP///wAAAABwAAAAJ////wD///8AAAAAgQAAABwAAACIAAAAkAAAAJMAAACtAAAAFQAAABUAAACtAAAAkwAAAJAAAACIAAAAHAAAAIH///8A////AAAAAKQAAACrAAAAaP///wD///8AAAAARQAAANIAAADSAAAARf///wD///8AAAAAaAAAAKsAAACk////AAAAADMAAACcAAAAnQAAABj///8A////AP///wAAAAAYAAAAGP///wD///8A////AAAAABgAAACdAAAAnAAAADMAAAB1AAAAwwAAAP8AAADpAAAAsQAAAE4AAAAb////AP///wAAAAAbAAAATgAAALEAAADpAAAA/wAAAMMAAAB1AAAAtwAAAOkAAAD/AAAA/wAAAP8AAADvAAAA3gAAAN4AAADeAAAA3gAAAO8AAAD/AAAA/wAAAP8AAADpAAAAtwAAAGUAAAA/AAAA3wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADfAAAAPwAAAGX///8A////AAAAAEgAAADtAAAAvwAAAL0AAADGAAAA7wAAAO8AAADGAAAAvQAAAL8AAADtAAAASP///wD///8A////AP///wD///8AAAAAO////wD///8A////AAAAAIcAAACH////AP///wD///8AAAAAO////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A//8AAP//AAD4HwAA7/cAAN/7AAD//wAAoYUAAJ55AACf+QAAh+EAAAAAAADAAwAA4AcAAP5/AAD//wAA//8AAA=="/>
<link rel="icon" type="image/png" sizes="32x32" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4QQQEwksSS9ZWwAAAk1JREFUWMPtll2ITVEUx39nn/O7Y5qR8f05wtCUUr6ZIS++8pEnkZInPImneaCQ5METNdOkeFBKUhMPRIkHKfEuUZSUlGlKPN2TrgfncpvmnntnmlEyq1Z7t89/rf9a6+y99oZxGZf/XeIq61EdtgKXgdXA0xrYAvBjOIF1AI9zvjcC74BSpndrJPkBWDScTF8Aa4E3wDlgHbASaANmVqlcCnwHvgDvgVfAJ+AikAAvgfVZwLnSVZHZaOuKoQi3ZOMi4NkYkpe1p4J7A8BpYAD49hfIy/oqG0+hLomiKP2L5L+1ubn5115S+3OAn4EnwBlgMzCjyt6ZAnQCJ4A7wOs88iRJHvw50HoujuPBoCKwHWiosy8MdfZnAdcHk8dxXFJ3VQbQlCTJvRBCGdRbD4M6uc5glpY3eAihpN5S5w12diSEcCCEcKUO4ljdr15T76ur1FDDLIQQ3qv71EdDOe3Kxj3leRXyk+pxdWnFWod6Wt2bY3de3aSuUHcPBVimHs7mK9WrmeOF6lR1o9qnzskh2ar2qm1qizpfXaPeVGdlmGN5pb09qMxz1Xb1kLqgzn1RyH7JUXW52lr5e/Kqi9qpto7V1atuUzfnARrV7jEib1T76gG2qxdGmXyiekkt1GswPTtek0aBfJp6YySGBfWg2tPQ0FAYgf1stUfdmdcjarbYJEniKIq6gY/Aw+zWHAC+p2labGpqiorFYgGYCEzN7oQdQClN07O1/EfDyGgC0ALMBdYAi4FyK+4H3gLPsxfR1zRNi+NP7nH5J+QntnXe5B5mpfQAAAAASUVORK5CYII=">

<!-- Google fonts -->
<link href='https://fonts.googleapis.com/css?family=Lato:400,600,900' rel='stylesheet' type='text/css'/>
<link href='https://fonts.googleapis.com/css?family=Source+Code+Pro:400,500,600' rel='stylesheet' type='text/css'/>

<!-- CSS -->
<title>Nim DocGen Tools Guide</title>
<link rel="stylesheet" type="text/css" href="nimdoc.out.css">

<script type="text/javascript" src="dochack.js"></script>

<script type="text/javascript">
function main() {
  var pragmaDots = document.getElementsByClassName("pragmadots");
  for (var i = 0; i < pragmaDots.length; i++) {
    pragmaDots[i].onclick = function(event) {
      // Hide tease
      event.target.parentNode.style.display = "none";
      // Show actual
      event.target.parentNode.nextElementSibling.style.display = "inline";
    }
  }

  function switchTheme(e) {
      if (e.target.checked) {
          document.documentElement.setAttribute('data-theme', 'dark');
          localStorage.setItem('theme', 'dark');
      } else {
          document.documentElement.setAttribute('data-theme', 'light');
          localStorage.setItem('theme', 'light');
      }
  }

  const toggleSwitch = document.querySelector('.theme-switch input[type="checkbox"]');
  if (toggleSwitch !== null) {
    toggleSwitch.addEventListener('change', switchTheme, false);
  }

  var currentTheme = localStorage.getItem('theme');
  if (!currentTheme && window.matchMedia('(prefers-color-scheme: dark)').matches) {
    currentTheme = 'dark';
  }
  if (currentTheme) {
    document.documentElement.setAttribute('data-theme', currentTheme);

    if (currentTheme === 'dark' && toggleSwitch !== null) {
      toggleSwitch.checked = true;
    }
  }
}

window.addEventListener('DOMContentLoaded', main);
</script>

</head>
<body>
<div class="document" id="documentId">
  <div class="container">
    <h1 class="title">Nim DocGen Tools Guide</h1>
    <div class="row">
  <div class="three columns">
  <div class="theme-switch-wrapper">
    <label class="theme-switch" for="checkbox">
      <input type="checkbox" id="checkbox" />
      <div class="slider round"></div>
    </label>
    &nbsp;&nbsp;&nbsp; <em>Dark Mode</em>
  </div>
  <div id="global-links">
    <ul class="simple-boot">
      <li><a href="manual.html">Manual</a></li>
      <li><a href="lib.html">Standard library</a></li>
      <li> <a href="theindex.html">Index</a></li>
      <li><a href="compiler/theindex.html">Compiler docs</a></li>
      <li><a href="https://nim-lang.github.io/fusion/theindex.html">Fusion docs</a></li>
      <li><a href="https://nim-lang.github.io/Nim/">devel</a>, <a href="https://nim-lang.org/documentation.html">stable</a></li>
    </ul>
  </div>
  <div id="searchInputDiv">
    Search: <input type="text" id="searchInput"
      onkeyup="search()" />
  </div>
    <div class="search-groupby">
    Group by:
    <select onchange="groupBy(this.value)">
      <option value="section">Section</option>
      <option value="type">Type</option>
    </select>
  </div>

  <ul class="simple simple-toc" id="toc-list">
<li><a class="reference" id="introduction_toc" href="#introduction">Introduction</a></li>
<ul class="simple"><li><a class="reference" id="introduction-quick-start_toc" href="#introduction-quick-start">Quick start</a></li>
<li><a class="reference" id="introduction-documentation-comments_toc" href="#introduction-documentation-comments">Documentation Comments</a></li>
</ul><li><a class="reference" id="document-types_toc" href="#document-types">Document Types</a></li>
<ul class="simple"><li><a class="reference" id="document-types-example-of-nim-file-input_toc" href="#document-types-example-of-nim-file-input">Example of Nim file input</a></li>
<li><a class="reference" id="document-types-html_toc" href="#document-types-html">HTML</a></li>
<li><a class="reference" id="document-types-latex_toc" href="#document-types-latex">LaTeX</a></li>
<li><a class="reference" id="document-types-json_toc" href="#document-types-json">JSON</a></li>
</ul><li><a class="reference" id="related-options_toc" href="#related-options">Related Options</a></li>
<ul class="simple"><li><a class="reference" id="related-options-project-switch_toc" href="#related-options-project-switch">Project switch</a></li>
<li><a class="reference" id="related-options-index-switch_toc" href="#related-options-index-switch">Index switch</a></li>
<li><a class="reference" id="related-options-see-source-switch_toc" href="#related-options-see-source-switch">See source switch</a></li>
</ul><li><a class="reference" id="other-input-formats_toc" href="#other-input-formats">Other Input Formats</a></li>
<li><a class="reference" id="html-anchor-generation_toc" href="#html-anchor-generation">HTML anchor generation</a></li>
<li><a class="reference" id="index-idx-file-format_toc" href="#index-idx-file-format">Index (idx) file format</a></li>
<li><a class="reference" id="additional-resources_toc" href="#additional-resources">Additional resources</a></li>

</ul>

  </div>
  &nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/doc/docgen.rst#L1"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-lang/Nim/edit/devel/doc/docgen.rst#L1" class="link-seesrc" target="_blank" >Edit</a>

  <div class="nine columns" id="content">
  <div id="tocRoot"></div>
  
  <p class="module-desc"><table class="docinfo" frame="void" rules="none"><col class="docinfo-name" /><col class="docinfo-content" /><tbody valign="top"><tr><th class="docinfo-name">Author:</th><td>Erik O'Leary</td></tr>
<tr><th class="docinfo-name">Version:</th><td>1.5.1</td></tr>
</tbody></table>
<h1><a class="toc-backref" id="introduction" href="#introduction">Introduction</a></h1><p>This document describes the <span id="documentation-generation-tools_1">documentation generation tools</span> built into the <a class="reference external" href="nimc.html">Nim compiler</a>, which can generate HTML, Latex and JSON output from input <tt class="docutils literal"><span class="pre">.nim</span></tt> files and projects, as well as HTML and LaTeX from input RST (reStructuredText) files. The output documentation will include the module dependencies (<tt class="docutils literal"><span class="pre"><span class="Keyword">import</span></span></tt>), any top-level documentation comments (<tt class="docutils literal"><span class="pre"><span class="Comment">##</span></span></tt>), and exported symbols (<tt class="docutils literal"><span class="pre"><span class="Operator">*</span></span></tt>), including procedures, types, and variables.</p>
<table border="1" class="docutils"><tr><th>command</th><th>runs on...</th><th>input format</th><th>output format</th></tr>
<tr><td><tt class="docutils literal"><span class="pre"><span class="program">nim</span> <span class="option">doc</span></span></tt></td><td>documentation comments</td><td><tt class="docutils literal"><span class="pre">.nim</span></tt></td><td><tt class="docutils literal"><span class="pre">.html</span></tt> HTML</td></tr>
<tr><td><tt class="docutils literal"><span class="pre"><span class="program">nim</span> <span class="option">doc2tex</span></span></tt></td><td>″</td><td>″</td><td><tt class="docutils literal"><span class="pre">.tex</span></tt> LaTeX</td></tr>
<tr><td><tt class="docutils literal"><span class="pre"><span class="program">nim</span> <span class="option">jsondoc</span></span></tt></td><td>″</td><td>″</td><td><tt class="docutils literal"><span class="pre">.json</span></tt> JSON</td></tr>
<tr><td><tt class="docutils literal"><span class="pre"><span class="program">nim</span> <span class="option">rst2html</span></span></tt></td><td>standalone rst files</td><td><tt class="docutils literal"><span class="pre">.rst</span></tt></td><td><tt class="docutils literal"><span class="pre">.html</span></tt> HTML</td></tr>
<tr><td><tt class="docutils literal"><span class="pre"><span class="program">nim</span> <span class="option">rst2tex</span></span></tt></td><td>″</td><td>″</td><td><tt class="docutils literal"><span class="pre">.tex</span></tt> LaTeX</td></tr>
</table>
<h2><a class="toc-backref" id="introduction-quick-start" href="#introduction-quick-start">Quick start</a></h2><p>Generate HTML documentation for a file:</p>
<pre class="listing"><span class="program">nim</span> <span class="option">doc</span> <span class="Identifier">&lt;filename&gt;.nim</span></pre><p>Generate HTML documentation for a whole project:</p>
<pre class="listing"><span class="Comment"># delete any htmldocs/*.idx file before starting</span>
<span class="program">nim</span> <span class="option">doc</span> <span class="option">--project</span> <span class="option">--index:on</span> <span class="Identifier">--git.url:&lt;url&gt;</span> <span class="Identifier">--git.commit:&lt;tag&gt;</span> <span class="option">--outdir:htmldocs</span> <span class="Identifier">&lt;main_filename&gt;.nim</span>
<span class="Comment"># this will generate html files, a theindex.html index, css and js under `htmldocs`</span>
<span class="Comment"># See also `--docroot` to specify a relative root.</span>
<span class="Comment"># to get search (dochacks.js) to work locally, you need a server otherwise</span>
<span class="Comment"># CORS will prevent opening file:// urls; this works:</span>
<span class="program">python3</span> <span class="option">-m</span> <span class="Identifier">http.server</span> <span class="option">7029</span> <span class="option">--directory</span> <span class="option">htmldocs</span>
<span class="Comment"># When --outdir is omitted it defaults to $projectPath/htmldocs,</span>
<span class="Comment"># or `$nimcache/htmldocs` with `--usenimcache` which avoids clobbering your sources;</span>
<span class="Comment"># and likewise without `--project`.</span>
<span class="Comment"># Adding `-r` will open in a browser directly.</span></pre>
<h2><a class="toc-backref" id="introduction-documentation-comments" href="#introduction-documentation-comments">Documentation Comments</a></h2><p>Any comments which are preceded by a double-hash (<tt class="docutils literal"><span class="pre"><span class="Comment">##</span></span></tt>), are interpreted as documentation.  Comments are parsed as RST (see <a class="reference external" href="http://docutils.sourceforge.net/docs/user/rst/quickref.html">reference</a>), providing Nim module authors the ability to easily generate richly formatted documentation with only their well-documented code! Basic Markdown syntax is also supported inside the doc comments.</p>
<p>Example:</p>
<pre class="listing"><span class="Keyword">type</span> <span class="Identifier">Person</span><span class="Operator">*</span> <span class="Operator">=</span> <span class="Keyword">object</span>
  <span class="Comment">## This type contains a description of a person</span>
  <span class="Identifier">name</span><span class="Punctuation">:</span> <span class="Identifier">string</span>
  <span class="Identifier">age</span><span class="Punctuation">:</span> <span class="Identifier">int</span></pre><p>Outputs:<pre>Person* = object
  name: string
  age: int

This type contains a description of a person</pre>
</p>
<p>Field documentation comments can be added to fields like so:</p>
<pre class="listing"><span class="Keyword">var</span> <span class="Identifier">numValues</span><span class="Punctuation">:</span> <span class="Identifier">int</span> <span class="Comment">## \</span>
  <span class="Comment">## `numValues` stores the number of values</span></pre><p>Note that without the <tt class="docutils literal"><span class="pre"><span class="Operator">*</span></span></tt> following the name of the type, the documentation for this type would not be generated. Documentation will only be generated for <em>exported</em> types/procedures/etc.</p>
<p>It's recommended to always add exactly <strong>one</strong> space after <tt class="docutils literal"><span class="pre"><span class="Comment">##</span></span></tt> for readability of comments — this extra space will be cropped from the parsed comments and won't influence RST formatting.</p>
<div class="admonition admonition-info"><span class="admonition-info-text"><b>Note:</b></span>
Generally, this baseline indentation level inside a documentation comment may not be 1: it can be any since it is determined by the offset of the first non-whitespace character in the comment. After that indentation <strong>must</strong> be consistent on the following lines of the same comment. If you still need to add an additional indentation at the very beginning (for RST block quote syntax) use backslash \ before it:<pre class="listing"><span class="Comment">## \</span>
<span class="Comment">##</span>
<span class="Comment">##    Block quote at the first line.</span>
<span class="Comment">##</span>
<span class="Comment">## Paragraph.</span></pre></div>

<h1><a class="toc-backref" id="document-types" href="#document-types">Document Types</a></h1>
<h2><a class="toc-backref" id="document-types-example-of-nim-file-input" href="#document-types-example-of-nim-file-input">Example of Nim file input</a></h2><p>The following examples will generate documentation for this sample <em>Nim</em> module, aptly named <tt class="docutils literal"><span class="pre">doc/docgen_sample.nim</span></tt>:</p>
<pre class="listing"><span class="Comment">## This module is a sample.</span>

<span class="Keyword">import</span> <span class="Identifier">strutils</span>

<span class="Keyword">proc</span> <span class="Identifier">helloWorld</span><span class="Operator">*</span><span class="Punctuation">(</span><span class="Identifier">times</span><span class="Punctuation">:</span> <span class="Identifier">int</span><span class="Punctuation">)</span> <span class="Operator">=</span>
  <span class="Comment">## Takes an integer and outputs</span>
  <span class="Comment">## as many indented &quot;hello world!&quot;s</span>

  <span class="Keyword">for</span> <span class="Identifier">i</span> <span class="Keyword">in</span> <span class="DecNumber">0</span> <span class="Operator">..</span> <span class="Identifier">times</span><span class="Operator">-</span><span class="DecNumber">1</span><span class="Punctuation">:</span>
    <span class="Identifier">echo</span> <span class="StringLit">&quot;hello world!&quot;</span><span class="Operator">.</span><span class="Identifier">indent</span><span class="Punctuation">(</span><span class="DecNumber">2</span><span class="Punctuation">)</span> <span class="Comment"># using indent to avoid `UnusedImport`</span>

<span class="Identifier">helloWorld</span><span class="Punctuation">(</span><span class="DecNumber">5</span><span class="Punctuation">)</span>
</pre><p>All the below commands save their output to <tt class="docutils literal"><span class="pre">htmldocs</span></tt> directory relative to the directory of file; hence the output for this sample will be in <tt class="docutils literal"><span class="pre">doc/htmldocs</span></tt>.</p>

<h2><a class="toc-backref" id="document-types-html" href="#document-types-html">HTML</a></h2><p>The generation of HTML documents is done via the <tt class="docutils literal"><span class="pre option">doc</span></tt> command. This command takes either a single <tt class="docutils literal"><span class="pre">.nim</span></tt> file, outputting a single <tt class="docutils literal"><span class="pre">.html</span></tt> file with the same base filename, or multiple <tt class="docutils literal"><span class="pre">.nim</span></tt> files, outputting multiple <tt class="docutils literal"><span class="pre">.html</span></tt> files and, optionally, an index file.</p>
<p>The <tt class="docutils literal"><span class="pre option">doc</span></tt> command:</p>
<pre class="listing"><span class="program">nim</span> <span class="option">doc</span> <span class="Identifier">docgen_sample.nim</span></pre><p>Partial Output:<pre>...
proc helloWorld(times: int) {.raises: [], tags: [].}
...</pre>
</p>
<p>The full output can be seen here: <a class="reference external" href="docgen_sample.html">docgen_sample.html</a>. It runs after semantic checking and includes pragmas attached implicitly by the compiler.</p>

<h2><a class="toc-backref" id="document-types-latex" href="#document-types-latex">LaTeX</a></h2><p>LaTeX files are intended to be converted to PDF, especially for offline reading or making hard copies. (LaTeX output is oftentimes better than HTML -&gt; PDF conversion).</p>
<p>The <tt class="docutils literal"><span class="pre option">doc2tex</span></tt> command:</p>
<pre class="listing"><span class="program">nim</span> <span class="option">doc2tex</span> <span class="Identifier">docgen_sample.nim</span>
<span class="program">cd</span> <span class="option">htmldocs</span>
<span class="program">xelatex</span> <span class="Identifier">docgen_sample.tex</span>
<span class="program">xelatex</span> <span class="Identifier">docgen_sample.tex</span>
<span class="Comment"># It is usually necessary to run `xelatex` 2 times (or even 3 times for</span>
<span class="Comment"># large documents) to get all labels generated.</span>
<span class="Comment"># That depends on this warning in the end of `xelatex` output:</span>
<span class="Comment">#   LaTeX Warning: Label(s) may have changed. Rerun to get cross-references right.</span></pre><p>The output is <tt class="docutils literal"><span class="pre">docgen_sample.pdf</span></tt>.</p>

<h2><a class="toc-backref" id="document-types-json" href="#document-types-json">JSON</a></h2><p>The generation of JSON documents is done via the <tt class="docutils literal"><span class="pre option">jsondoc</span></tt> command. This command takes in a <tt class="docutils literal"><span class="pre">.nim</span></tt> file and outputs a <tt class="docutils literal"><span class="pre">.json</span></tt> file with the same base filename. Note that this tool is built off of the <tt class="docutils literal"><span class="pre option">doc</span></tt> command (previously <tt class="docutils literal"><span class="pre option">doc2</span></tt>), and contains the same information.</p>
<p>The <tt class="docutils literal"><span class="pre option">jsondoc</span></tt> command:</p>
<pre class="listing"><span class="program">nim</span> <span class="option">jsondoc</span> <span class="Identifier">docgen_sample.nim</span></pre><p>Output:<pre>{
  &quot;orig&quot;: &quot;docgen_sample.nim&quot;,
  &quot;nimble&quot;: &quot;&quot;,
  &quot;moduleDescription&quot;: &quot;This module is a sample&quot;,
  &quot;entries&quot;: [
    {
      &quot;name&quot;: &quot;helloWorld&quot;,
      &quot;type&quot;: &quot;skProc&quot;,
      &quot;line&quot;: 5,
      &quot;col&quot;: 0,
      &quot;description&quot;: &quot;Takes an integer and outputs as many &amp;quot;hello world!&amp;quot;s&quot;,
      &quot;code&quot;: &quot;proc helloWorld(times: int) {.raises: [], tags: [].}&quot;
    }
  ]
}</pre>
</p>
<p>Similarly to the old <tt class="docutils literal"><span class="pre option">doc</span></tt> command, the old <tt class="docutils literal"><span class="pre option">jsondoc</span></tt> command has been renamed to <tt class="docutils literal"><span class="pre option">jsondoc0</span></tt>.</p>
<p>The <tt class="docutils literal"><span class="pre option">jsondoc0</span></tt> command:</p>
<pre class="listing"><span class="program">nim</span> <span class="option">jsondoc0</span> <span class="Identifier">docgen_sample.nim</span></pre><p>Output:<pre>[
  {
    &quot;comment&quot;: &quot;This module is a sample.&quot;
  },
  {
    &quot;name&quot;: &quot;helloWorld&quot;,
    &quot;type&quot;: &quot;skProc&quot;,
    &quot;description&quot;: &quot;Takes an integer and outputs as many &amp;quot;hello world!&amp;quot;s&quot;,
    &quot;code&quot;: &quot;proc helloWorld*(times: int)&quot;
  }
]</pre>
</p>
<p>Note that the <tt class="docutils literal"><span class="pre option">jsondoc</span></tt> command outputs its JSON without pretty-printing it, while <tt class="docutils literal"><span class="pre option">jsondoc0</span></tt> outputs pretty-printed JSON.</p>

<h1><a class="toc-backref" id="related-options" href="#related-options">Related Options</a></h1>
<h2><a class="toc-backref" id="related-options-project-switch" href="#related-options-project-switch">Project switch</a></h2><pre class="listing"><span class="program">nim</span> <span class="option">doc</span> <span class="option">--project</span> <span class="Identifier">filename.nim</span></pre><p>This will recursively generate documentation of all Nim modules imported into the input module that belong to the Nimble package that <tt class="docutils literal"><span class="pre">filename.nim</span></tt> belongs to. The index files and the corresponding <tt class="docutils literal"><span class="pre">theindex.html</span></tt> will also be generated.</p>

<h2><a class="toc-backref" id="related-options-index-switch" href="#related-options-index-switch">Index switch</a></h2><pre class="listing"><span class="program">nim</span> <span class="option">doc</span> <span class="option">--index:on</span> <span class="Identifier">filename.nim</span></pre><p>This will generate an index of all the exported symbols in the input Nim module, and put it into a neighboring file with the extension of <tt class="docutils literal"><span class="pre">.idx</span></tt>. The index file is line-oriented (newlines have to be escaped). Each line represents a tab-separated record of several columns, the first two mandatory, the rest optional. See the <a class="reference internal" href="#index-idx-file-format">Index (idx) file format</a> section for details.</p>
<p>Once index files have been generated for one or more modules, the Nim compiler command <tt class="docutils literal"><span class="pre"><span class="Identifier">buildIndex</span> <span class="Identifier">directory</span></span></tt> can be run to go over all the index files in the specified directory to generate a <a class="reference external" href="theindex.html">theindex.html</a> file.</p>

<h2><a class="toc-backref" id="related-options-see-source-switch" href="#related-options-see-source-switch">See source switch</a></h2><pre class="listing"><span class="program">nim</span> <span class="option">doc</span> <span class="Identifier">--git.url:&lt;url&gt;</span> <span class="Identifier">filename.nim</span></pre><p>With the <tt class="docutils literal"><span class="pre option">git.url</span></tt> switch the <em>See source</em> hyperlink will appear below each documented item in your source code pointing to the implementation of that item on a GitHub repository. You can click the link to see the implementation of the item.</p>
<p>The <tt class="docutils literal"><span class="pre option">git.commit</span></tt> switch overrides the hardcoded <tt class="docutils literal"><span class="pre"><span class="Identifier">devel</span></span></tt> branch in <tt class="docutils literal"><span class="pre">config/nimdoc.cfg</span></tt>. This is useful to link to a different branch e.g. <tt class="docutils literal"><span class="pre option">--git.commit:master</span></tt>, or to a tag e.g. <tt class="docutils literal"><span class="pre option">--git.commit:1.2.3</span></tt> or a commit.</p>
<p>Source URLs are generated as <tt class="docutils literal"><span class="pre">href=&quot;${url}/tree/${commit}/${path}#L${line}&quot;</span></tt> by default and thus compatible with GitHub but not with GitLab.</p>
<p>Similarly, <tt class="docutils literal"><span class="pre option">git.devel</span></tt> switch overrides the hardcoded <tt class="docutils literal"><span class="pre"><span class="Identifier">devel</span></span></tt> branch for the <tt class="docutils literal"><span class="pre"><span class="Identifier">Edit</span></span></tt> link which is also useful if you have a different working branch than <tt class="docutils literal"><span class="pre"><span class="Identifier">devel</span></span></tt> e.g. <tt class="docutils literal"><span class="pre option">--git.devel:master</span></tt>.</p>
<p>Edit URLs are generated as <tt class="docutils literal"><span class="pre">href=&quot;${url}/tree/${devel}/${path}#L${line}&quot;</span></tt> by default.</p>
<p>You can edit <tt class="docutils literal"><span class="pre">config/nimdoc.cfg</span></tt> and modify the <tt class="docutils literal"><span class="pre">doc.item.seesrc</span></tt> value with a hyperlink to your own code repository.</p>
<p>In the case of Nim's own documentation, the <tt class="docutils literal"><span class="pre"><span class="Identifier">commit</span></span></tt> value is just a commit hash to append to a formatted URL to <a class="reference external" href="https://github.com/nim-lang/Nim">https://github.com/nim-lang/Nim</a>. The <tt class="docutils literal"><span class="pre">tools/nimweb.nim</span></tt> helper queries the current git commit hash during the doc generation, but since you might be working on an unpublished repository, it also allows specifying a <tt class="docutils literal"><span class="pre"><span class="Identifier">githash</span></span></tt> value in <tt class="docutils literal"><span class="pre">web/website.ini</span></tt> to force a specific commit in the output.</p>

<h1><a class="toc-backref" id="other-input-formats" href="#other-input-formats">Other Input Formats</a></h1><p>The <em>Nim compiler</em> also has support for RST (reStructuredText) files with the <tt class="docutils literal"><span class="pre option">rst2html</span></tt> and <tt class="docutils literal"><span class="pre option">rst2tex</span></tt> commands. Documents like this one are initially written in a dialect of RST which adds support for Nim source code highlighting with the <tt class="docutils literal"><span class="pre">.. code-block:: nim</span></tt> prefix. <tt class="docutils literal"><span class="pre">code-block</span></tt> also supports highlighting of a few other languages supported by the <a class="reference external" href="highlite.html">packages/docutils/highlite module</a>.</p>
<p>Usage:</p>
<pre class="listing"><span class="program">nim</span> <span class="option">rst2html</span> <span class="Identifier">docgen.rst</span></pre><p>Output:<pre>You're reading it!</pre>
</p>
<p>The <tt class="docutils literal"><span class="pre option">rst2tex</span></tt> command is invoked identically to <tt class="docutils literal"><span class="pre option">rst2html</span></tt>, but outputs a <tt class="docutils literal"><span class="pre">.tex</span></tt> file instead of <tt class="docutils literal"><span class="pre">.html</span></tt>.</p>

<h1><a class="toc-backref" id="html-anchor-generation" href="#html-anchor-generation">HTML anchor generation</a></h1><p>When you run the <tt class="docutils literal"><span class="pre option">rst2html</span></tt> command, all sections in the RST document will get an anchor you can hyperlink to. Usually, you can guess the anchor lower casing the section title and replacing spaces with dashes, and in any case, you can get it from the table of contents. But when you run the <tt class="docutils literal"><span class="pre option">doc</span></tt> command to generate API documentation, some symbol get one or two anchors at the same time: a numerical identifier, or a plain name plus a complex name.</p>
<p>The numerical identifier is just a random number. The number gets assigned according to the section and position of the symbol in the file being processed and you should not rely on it being constant: if you add or remove a symbol the numbers may shuffle around.</p>
<p>The plain name of a symbol is a simplified version of its fully exported signature. Variables or constants have the same plain name symbol as their complex name. The plain name for procs, templates, and other callable types will be their unquoted value after removing parameters, return types, and pragmas. The plain name allows short and nice linking of symbols that works unless you have a module with collisions due to overloading.</p>
<p>If you hyperlink a plain name symbol and there are other matches on the same HTML file, most browsers will go to the first one. To differentiate the rest, you will need to use the complex name. A complex name for a callable type is made up of several parts:</p>
<blockquote><p>(<strong>plain symbol</strong>)(<strong>.type</strong>),(<strong>first param</strong>)?(<strong>,param type</strong>)*</p></blockquote>
<p>The first thing to note is that all callable types have at least a comma, even if they don't have any parameters. If there are parameters, they are represented by their types and will be comma-separated. To the plain symbol a suffix may be added depending on the type of the callable:</p>
<table border="1" class="docutils"><tr><th>Callable type</th><th>Suffix</th></tr>
<tr><td><tt class="docutils literal"><span class="pre"><span class="Keyword">proc</span></span></tt>, <tt class="docutils literal"><span class="pre"><span class="Keyword">func</span></span></tt></td><td><em>empty string</em></td></tr>
<tr><td><tt class="docutils literal"><span class="pre"><span class="Keyword">macro</span></span></tt></td><td><tt class="docutils literal"><span class="pre">.m</span></tt></td></tr>
<tr><td><tt class="docutils literal"><span class="pre"><span class="Keyword">method</span></span></tt></td><td><tt class="docutils literal"><span class="pre">.e</span></tt></td></tr>
<tr><td><tt class="docutils literal"><span class="pre"><span class="Keyword">iterator</span></span></tt></td><td><tt class="docutils literal"><span class="pre">.i</span></tt></td></tr>
<tr><td><tt class="docutils literal"><span class="pre"><span class="Keyword">template</span></span></tt></td><td><tt class="docutils literal"><span class="pre">.t</span></tt></td></tr>
<tr><td><tt class="docutils literal"><span class="pre"><span class="Keyword">converter</span></span></tt></td><td><tt class="docutils literal"><span class="pre">.c</span></tt></td></tr>
</table><p>The relationship of type to suffix is made by the proc <tt class="docutils literal"><span class="pre"><span class="Identifier">complexName</span></span></tt> in the <tt class="docutils literal"><span class="pre">compiler/docgen.nim</span></tt> file. Here are some examples of complex names for symbols in the <a class="reference external" href="system.html">system module</a>.</p>
<ul class="simple"><li><tt class="docutils literal"><span class="pre"><span class="Keyword">type</span> <span class="Identifier">SomeSignedInt</span> <span class="Operator">=</span> <span class="Identifier">int</span> <span class="Operator">|</span> <span class="Identifier">int8</span> <span class="Operator">|</span> <span class="Identifier">int16</span> <span class="Operator">|</span> <span class="Identifier">int32</span> <span class="Operator">|</span> <span class="Identifier">int64</span></span></tt> <strong>=&gt;</strong> <a class="reference external" href="system.html#SomeSignedInt">#SomeSignedInt</a></li>
<li><tt class="docutils literal"><span class="pre"><span class="Keyword">var</span> <span class="Identifier">globalRaiseHook</span><span class="Punctuation">:</span> <span class="Keyword">proc</span> <span class="Punctuation">(</span><span class="Identifier">e</span><span class="Punctuation">:</span> <span class="Keyword">ref</span> <span class="Identifier">E_Base</span><span class="Punctuation">)</span><span class="Punctuation">:</span> <span class="Identifier">bool</span> <span class="Punctuation">{</span><span class="Operator">.</span><span class="Identifier">nimcall</span><span class="Operator">.</span><span class="Punctuation">}</span></span></tt> <strong>=&gt;</strong> <a class="reference external" href="system.html#globalRaiseHook">#globalRaiseHook</a></li>
<li><tt class="docutils literal"><span class="pre"><span class="Keyword">const</span> <span class="Identifier">NimVersion</span> <span class="Operator">=</span> <span class="StringLit">&quot;0.0.0&quot;</span></span></tt> <strong>=&gt;</strong> <a class="reference external" href="system.html#NimVersion">#NimVersion</a></li>
<li><tt class="docutils literal"><span class="pre"><span class="Keyword">proc</span> <span class="Identifier">getTotalMem</span><span class="Punctuation">(</span><span class="Punctuation">)</span><span class="Punctuation">:</span> <span class="Identifier">int</span> <span class="Punctuation">{</span><span class="Operator">.</span><span class="Identifier">rtl</span><span class="Punctuation">,</span> <span class="Identifier">raises</span><span class="Punctuation">:</span> <span class="Punctuation">[</span><span class="Punctuation">]</span><span class="Punctuation">,</span> <span class="Identifier">tags</span><span class="Punctuation">:</span> <span class="Punctuation">[</span><span class="Punctuation">]</span><span class="Operator">.</span><span class="Punctuation">}</span></span></tt> <strong>=&gt;</strong> <a class="reference external" href="system.html#getTotalMem">#getTotalMem,</a></li>
<li><tt class="docutils literal"><span class="pre"><span class="Keyword">proc</span> <span class="Identifier">len</span><span class="Punctuation">[</span><span class="Identifier">T</span><span class="Punctuation">]</span><span class="Punctuation">(</span><span class="Identifier">x</span><span class="Punctuation">:</span> <span class="Identifier">seq</span><span class="Punctuation">[</span><span class="Identifier">T</span><span class="Punctuation">]</span><span class="Punctuation">)</span><span class="Punctuation">:</span> <span class="Identifier">int</span> <span class="Punctuation">{</span><span class="Operator">.</span><span class="Identifier">magic</span><span class="Punctuation">:</span> <span class="StringLit">&quot;LengthSeq&quot;</span><span class="Punctuation">,</span> <span class="Identifier">noSideEffect</span><span class="Operator">.</span><span class="Punctuation">}</span></span></tt> <strong>=&gt;</strong> <a class="reference external" href="system.html#len,seq[T]">#len,seq[T]</a></li>
<li><tt class="docutils literal"><span class="pre"><span class="Keyword">iterator</span> <span class="Identifier">pairs</span><span class="Punctuation">[</span><span class="Identifier">T</span><span class="Punctuation">]</span><span class="Punctuation">(</span><span class="Identifier">a</span><span class="Punctuation">:</span> <span class="Identifier">seq</span><span class="Punctuation">[</span><span class="Identifier">T</span><span class="Punctuation">]</span><span class="Punctuation">)</span><span class="Punctuation">:</span> <span class="Keyword">tuple</span><span class="Punctuation">[</span><span class="Identifier">key</span><span class="Punctuation">:</span> <span class="Identifier">int</span><span class="Punctuation">,</span> <span class="Identifier">val</span><span class="Punctuation">:</span> <span class="Identifier">T</span><span class="Punctuation">]</span> <span class="Punctuation">{</span><span class="Operator">.</span><span class="Identifier">inline</span><span class="Operator">.</span><span class="Punctuation">}</span></span></tt> <strong>=&gt;</strong> <a class="reference external" href="iterators.html#pairs.i,seq[T]">#pairs.i,seq[T]</a></li>
<li><tt class="docutils literal"><span class="pre"><span class="Keyword">template</span> <span class="Identifier">newException</span><span class="Punctuation">[</span><span class="Punctuation">]</span><span class="Punctuation">(</span><span class="Identifier">exceptn</span><span class="Punctuation">:</span> <span class="Identifier">typedesc</span><span class="Punctuation">;</span> <span class="Identifier">message</span><span class="Punctuation">:</span> <span class="Identifier">string</span><span class="Punctuation">;</span> <span class="Identifier">parentException</span><span class="Punctuation">:</span> <span class="Keyword">ref</span> <span class="Identifier">Exception</span> <span class="Operator">=</span> <span class="Keyword">nil</span><span class="Punctuation">)</span><span class="Punctuation">:</span> <span class="Identifier">untyped</span></span></tt> <strong>=&gt;</strong> <a class="reference external" href="system.html#newException.t,typedesc,string,ref.Exception">#newException.t,typedesc,string,ref.Exception</a></li>
</ul>

<h1><a class="toc-backref" id="index-idx-file-format" href="#index-idx-file-format">Index (idx) file format</a></h1><p>Files with the <tt class="docutils literal"><span class="pre">.idx</span></tt> extension are generated when you use the <a class="reference external" href="#related-options-index-switch">Index switch</a> along with commands to generate documentation from source or text files. You can programmatically generate indices with the <a class="reference external" href="rstgen.html#setIndexTerm,RstGenerator,string,string,string,string,string">setIndexTerm()</a> and <a class="reference external" href="rstgen.html#writeIndexFile,RstGenerator,string">writeIndexFile()</a> procs. The purpose of <tt class="docutils literal"><span class="pre"><span class="Identifier">idx</span></span></tt> files is to hold the interesting symbols and their HTML references so they can be later concatenated into a big index file with <a class="reference external" href="rstgen.html#mergeIndexes,string">mergeIndexes()</a>.  This section documents the file format in detail.</p>
<p>Index files are line-oriented and tab-separated (newline and tab characters have to be escaped). Each line represents a record with at least two fields but can have up to four (additional columns are ignored). The content of these columns is:</p>
<ol class="simple"><li>Mandatory term being indexed. Terms can include quoting according to Nim's rules (e.g. `^`).</li>
<li>Base filename plus anchor hyperlink (e.g. <tt class="docutils literal"><span class="pre">algorithm.html#*,int,SortOrder</span></tt>).</li>
<li>Optional human-readable string to display as a hyperlink. If the value is not present or is the empty string, the hyperlink will be rendered using the term. Prefix whitespace indicates that this entry is not for an API symbol but for a TOC entry.</li>
<li>Optional title or description of the hyperlink. Browsers usually display this as a tooltip after hovering a moment over the hyperlink.</li>
</ol>
<p>The index generation tools try to differentiate between documentation generated from <tt class="docutils literal"><span class="pre">.nim</span></tt> files and documentation generated from <tt class="docutils literal"><span class="pre">.txt</span></tt> or <tt class="docutils literal"><span class="pre">.rst</span></tt> files. The former are always closely related to source code and consist mainly of API entries. The latter are generic documents meant for human reading.</p>
<p>To differentiate both types (documents and APIs), the index generator will add to the index of documents an entry with the title of the document. Since the title is the topmost element, it will be added with a second field containing just the filename without any HTML anchor.  By convention, this entry without anchor is the <em>title entry</em>, and since entries in the index file are added as they are scanned, the title entry will be the first line. The title for APIs is not present because it can be generated concatenating the name of the file to the word <strong>Module</strong>.</p>
<p>Normal symbols are added to the index with surrounding whitespaces removed. An exception to this are the table of content (TOC) entries. TOC entries are added to the index file with their third column having as much prefix spaces as their level is in the TOC (at least 1 character). The prefix whitespace helps to filter TOC entries from API or text symbols. This is important because the amount of spaces is used to replicate the hierarchy for document TOCs in the final index, and TOC entries found in <tt class="docutils literal"><span class="pre">.nim</span></tt> files are discarded.</p>

<h1><a class="toc-backref" id="additional-resources" href="#additional-resources">Additional resources</a></h1><ul class="simple"><li><a class="reference external" href="nimc.html#compiler-usage-commandminusline-switches">Nim Compiler User Guide</a></li>
<li>Documentation for <a class="reference external" href="rst.html">rst module</a> -- Nim RST/Markdown parser.</li>
<li><a class="reference external" href="http://docutils.sourceforge.net/docs/user/rst/quickref.html">RST Quick Reference</a></li>
</ul>
<p>The output for HTML and LaTeX comes from the <tt class="docutils literal"><span class="pre">config/nimdoc.cfg</span></tt> and <tt class="docutils literal"><span class="pre">config/nimdoc.tex.cfg</span></tt> configuration files. You can add and modify these files to your project to change the look of the docgen output.</p>
<p>You can import the <a class="reference external" href="rstgen.html">packages/docutils/rstgen module</a> in your programs if you want to reuse the compiler's documentation generation procs. </p>
</p>
  
  </div>
</div>

    <div class="row">
      <div class="twelve-columns footer">
        <span class="nim-sprite"></span>
        <br/>
        <small style="color: var(--hint);">Made with Nim. Generated: 2021-09-29 00:53:37 UTC</small>
      </div>
    </div>
  </div>
</div>

</body>
</html>
