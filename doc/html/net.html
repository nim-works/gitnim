<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--  This file is generated by Nim. -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Favicon -->
<link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAUAAAAF////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAIAAABbAAAAlQAAAKIAAACbAAAAmwAAAKIAAACVAAAAWwAAAAL///8A////AP///wD///8A////AAAAABQAAADAAAAAYwAAAA3///8A////AP///wD///8AAAAADQAAAGMAAADAAAAAFP///wD///8A////AP///wAAAACdAAAAOv///wD///8A////AP///wD///8A////AP///wD///8AAAAAOgAAAJ3///8A////AP///wAAAAAnAAAAcP///wAAAAAoAAAASv///wD///8A////AP///wAAAABKAAAAKP///wAAAABwAAAAJ////wD///8AAAAAgQAAABwAAACIAAAAkAAAAJMAAACtAAAAFQAAABUAAACtAAAAkwAAAJAAAACIAAAAHAAAAIH///8A////AAAAAKQAAACrAAAAaP///wD///8AAAAARQAAANIAAADSAAAARf///wD///8AAAAAaAAAAKsAAACk////AAAAADMAAACcAAAAnQAAABj///8A////AP///wAAAAAYAAAAGP///wD///8A////AAAAABgAAACdAAAAnAAAADMAAAB1AAAAwwAAAP8AAADpAAAAsQAAAE4AAAAb////AP///wAAAAAbAAAATgAAALEAAADpAAAA/wAAAMMAAAB1AAAAtwAAAOkAAAD/AAAA/wAAAP8AAADvAAAA3gAAAN4AAADeAAAA3gAAAO8AAAD/AAAA/wAAAP8AAADpAAAAtwAAAGUAAAA/AAAA3wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADfAAAAPwAAAGX///8A////AAAAAEgAAADtAAAAvwAAAL0AAADGAAAA7wAAAO8AAADGAAAAvQAAAL8AAADtAAAASP///wD///8A////AP///wD///8AAAAAO////wD///8A////AAAAAIcAAACH////AP///wD///8AAAAAO////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A//8AAP//AAD4HwAA7/cAAN/7AAD//wAAoYUAAJ55AACf+QAAh+EAAAAAAADAAwAA4AcAAP5/AAD//wAA//8AAA=="/>
<link rel="icon" type="image/png" sizes="32x32" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4QQQEwksSS9ZWwAAAk1JREFUWMPtll2ITVEUx39nn/O7Y5qR8f05wtCUUr6ZIS++8pEnkZInPImneaCQ5METNdOkeFBKUhMPRIkHKfEuUZSUlGlKPN2TrgfncpvmnntnmlEyq1Z7t89/rf9a6+y99oZxGZf/XeIq61EdtgKXgdXA0xrYAvBjOIF1AI9zvjcC74BSpndrJPkBWDScTF8Aa4E3wDlgHbASaANmVqlcCnwHvgDvgVfAJ+AikAAvgfVZwLnSVZHZaOuKoQi3ZOMi4NkYkpe1p4J7A8BpYAD49hfIy/oqG0+hLomiKP2L5L+1ubn5115S+3OAn4EnwBlgMzCjyt6ZAnQCJ4A7wOs88iRJHvw50HoujuPBoCKwHWiosy8MdfZnAdcHk8dxXFJ3VQbQlCTJvRBCGdRbD4M6uc5glpY3eAihpN5S5w12diSEcCCEcKUO4ljdr15T76ur1FDDLIQQ3qv71EdDOe3Kxj3leRXyk+pxdWnFWod6Wt2bY3de3aSuUHcPBVimHs7mK9WrmeOF6lR1o9qnzskh2ar2qm1qizpfXaPeVGdlmGN5pb09qMxz1Xb1kLqgzn1RyH7JUXW52lr5e/Kqi9qpto7V1atuUzfnARrV7jEib1T76gG2qxdGmXyiekkt1GswPTtek0aBfJp6YySGBfWg2tPQ0FAYgf1stUfdmdcjarbYJEniKIq6gY/Aw+zWHAC+p2labGpqiorFYgGYCEzN7oQdQClN07O1/EfDyGgC0ALMBdYAi4FyK+4H3gLPsxfR1zRNi+NP7nH5J+QntnXe5B5mpfQAAAAASUVORK5CYII=">

<!-- Google fonts -->
<link href='https://fonts.googleapis.com/css?family=Lato:400,600,900' rel='stylesheet' type='text/css'/>
<link href='https://fonts.googleapis.com/css?family=Source+Code+Pro:400,500,600' rel='stylesheet' type='text/css'/>

<!-- CSS -->
<title>net</title>
<link rel="stylesheet" type="text/css" href="nimdoc.out.css">

<script type="text/javascript" src="dochack.js"></script>

<script type="text/javascript">
function main() {
  var pragmaDots = document.getElementsByClassName("pragmadots");
  for (var i = 0; i < pragmaDots.length; i++) {
    pragmaDots[i].onclick = function(event) {
      // Hide tease
      event.target.parentNode.style.display = "none";
      // Show actual
      event.target.parentNode.nextElementSibling.style.display = "inline";
    }
  }

  const toggleSwitch = document.querySelector('.theme-switch input[type="checkbox"]');
  function switchTheme(e) {
      if (e.target.checked) {
          document.documentElement.setAttribute('data-theme', 'dark');
          localStorage.setItem('theme', 'dark');
      } else {
          document.documentElement.setAttribute('data-theme', 'light');
          localStorage.setItem('theme', 'light');
      }
  }

  toggleSwitch.addEventListener('change', switchTheme, false);


  if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
    document.documentElement.setAttribute('data-theme', "dark");
    toggleSwitch.checked = true;
  } else if (window.matchMedia && window.matchMedia('(prefers-color-scheme: light)').matches) {
    document.documentElement.setAttribute('data-theme', "light");
    toggleSwitch.checked = false;
  } else {
    const currentTheme = localStorage.getItem('theme') ? localStorage.getItem('theme') : null;
    if (currentTheme) {
      document.documentElement.setAttribute('data-theme', currentTheme);

      if (currentTheme === 'dark') {
        toggleSwitch.checked = true;
      }
    }
  }
}
</script>

</head>
<body onload="main()">
<div class="document" id="documentId">
  <div class="container">
    <h1 class="title">net</h1>
    <div class="row">
  <div class="three columns">
  <div class="theme-switch-wrapper">
    <label class="theme-switch" for="checkbox">
      <input type="checkbox" id="checkbox" />
      <div class="slider round"></div>
    </label>
    &nbsp;&nbsp;&nbsp; <em>Dark Mode</em>
  </div>
  <div id="global-links">
    <ul class="simple-boot">
      <li><a href="manual.html">Manual</a></li>
      <li><a href="lib.html">Standard library</a></li>
      <li><a href="theindex.html">Index</a></li>
      <li><a href="https://nim-lang.github.io/Nim/">devel</a>, <a href="https://nim-lang.org/documentation.html">stable</a></li>
    </ul>
  </div>
  <div id="searchInputDiv">
    Search: <input type="text" id="searchInput"
      onkeyup="search()" />
  </div>
  <div class="search-groupby">
    Group by:
    <select onchange="groupBy(this.value)">
      <option value="section">Section</option>
      <option value="type">Type</option>
    </select>
  </div>
  <ul class="simple simple-toc" id="toc-list">
<li><a class="reference" id="ssl_toc" href="#ssl">SSL</a></li>
<li><a class="reference" id="ssl-on-windows_toc" href="#ssl-on-windows">SSL on Windows</a></li>
<li><a class="reference" id="examples_toc" href="#examples">Examples</a></li>
<ul class="simple"><li><a class="reference" id="examples-connecting-to-a-server_toc" href="#examples-connecting-to-a-server">Connecting to a server</a></li>
<li><a class="reference" id="examples-creating-a-server_toc" href="#examples-creating-a-server">Creating a server</a></li>
</ul><li>
  <a class="reference reference-toplevel" href="#6" id="56">Imports</a>
  <ul class="simple simple-toc-section">
    
  </ul>
</li>
<li>
  <a class="reference reference-toplevel" href="#7" id="57">Types</a>
  <ul class="simple simple-toc-section">
      <li><a class="reference" href="#Certificate"
    title="Certificate = string"><wbr />Certificate<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#SslError"
    title="SslError = object of Exception"><wbr />Ssl<wbr />Error<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#SslCVerifyMode"
    title="SslCVerifyMode = enum
  CVerifyNone, CVerifyPeer, CVerifyPeerUseEnvVars"><wbr />Ssl<wbr />CVerify<wbr />Mode<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#SslProtVersion"
    title="SslProtVersion = enum
  protSSLv2, protSSLv3, protTLSv1, protSSLv23"><wbr />Ssl<wbr />Prot<wbr />Version<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#SslContext"
    title="SslContext = ref object
  context*: SslCtx
  referencedData: HashSet[int]
  extraInternal: SslContextExtraInternal"><wbr />Ssl<wbr />Context<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#SslAcceptResult"
    title="SslAcceptResult = enum
  AcceptNoClient = 0, AcceptNoHandshake, AcceptSuccess"><wbr />Ssl<wbr />Accept<wbr />Result<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#SslHandshakeType"
    title="SslHandshakeType = enum
  handshakeAsClient, handshakeAsServer"><wbr />Ssl<wbr />Handshake<wbr />Type<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#SslClientGetPskFunc"
    title="SslClientGetPskFunc = proc (hint: string): tuple[identity: string, psk: string]"><wbr />Ssl<wbr />Client<wbr />Get<wbr />Psk<wbr />Func<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#SslServerGetPskFunc"
    title="SslServerGetPskFunc = proc (identity: string): string"><wbr />Ssl<wbr />Server<wbr />Get<wbr />Psk<wbr />Func<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#SocketImpl"
    title="SocketImpl = object
  fd: SocketHandle
  isBuffered: bool
  buffer: array[0 .. BufferSize, char]
  currPos: int
  bufLen: int
  when defineSsl:
      isSsl: bool
      sslHandle: SslPtr
      sslContext: SslContext
      sslNoHandshake: bool
      sslHasPeekChar: bool
      sslPeekChar: char

  lastError: OSErrorCode     ## stores the last error on this socket
  domain: Domain
  sockType: SockType
  protocol: Protocol"><wbr />Socket<wbr />Impl<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#Socket"
    title="Socket = ref SocketImpl"><wbr />Socket<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#SOBool"
    title="SOBool = enum
  OptAcceptConn, OptBroadcast, OptDebug, OptDontRoute, OptKeepAlive,
  OptOOBInline, OptReuseAddr, OptReusePort, OptNoDelay"><wbr />SOBool<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#ReadLineResult"
    title="ReadLineResult = enum
  ReadFullLine, ReadPartialLine, ReadDisconnected, ReadNone"><wbr />Read<wbr />Line<wbr />Result<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#TimeoutError"
    title="TimeoutError = object of Exception"><wbr />Timeout<wbr />Error<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#SocketFlag"
    title="SocketFlag {.pure.} = enum
  Peek, SafeDisconn          ## Ensures disconnection exceptions (ECONNRESET, EPIPE etc) are not thrown."><wbr />Socket<wbr />Flag<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#IpAddressFamily"
    title="IpAddressFamily {.pure.} = enum
  IPv6,                     ## IPv6 address
  IPv4                       ## IPv4 address"><wbr />Ip<wbr />Address<wbr />Family<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#IpAddress"
    title="IpAddress = object
  case family*: IpAddressFamily ## the type of the IP address (IPv4 or IPv6)
  of IpAddressFamily.IPv6:
      address_v6*: array[0 .. 15, uint8] ## Contains the IP address in bytes in
                                         ## case of IPv6
    
  of IpAddressFamily.IPv4:
      address_v4*: array[0 .. 3, uint8] ## Contains the IP address in bytes in
                                        ## case of IPv4"><wbr />Ip<wbr />Address<span class="attachedType"></span></a></li>

  </ul>
</li>
<li>
  <a class="reference reference-toplevel" href="#10" id="60">Consts</a>
  <ul class="simple simple-toc-section">
      <li><a class="reference" href="#BufferSize"
    title="BufferSize: int = 4000"><wbr />Buffer<wbr />Size<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#MaxLineLength"
    title="MaxLineLength = 1000000"><wbr />Max<wbr />Line<wbr />Length<span class="attachedType"></span></a></li>

  </ul>
</li>
<li>
  <a class="reference reference-toplevel" href="#12" id="62">Procs</a>
  <ul class="simple simple-toc-section">
      <li><a class="reference" href="#isDisconnectionError%2Cset%5BSocketFlag%5D%2COSErrorCode"
    title="isDisconnectionError(flags: set[SocketFlag]; lastError: OSErrorCode): bool"><wbr />is<wbr />Disconnection<wbr />Error<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#toOSFlags%2Cset%5BSocketFlag%5D"
    title="toOSFlags(socketFlags: set[SocketFlag]): cint"><wbr />to<wbr />OSFlags<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#newSocket%2CSocketHandle%2CDomain%2CSockType%2CProtocol"
    title="newSocket(fd: SocketHandle; domain: Domain = AF_INET;
          sockType: SockType = SOCK_STREAM; protocol: Protocol = IPPROTO_TCP;
          buffered = true): owned(Socket)"><wbr />new<wbr />Socket<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#newSocket%2Ccint%2Ccint%2Ccint"
    title="newSocket(domain, sockType, protocol: cint; buffered = true): owned(Socket)"><wbr />new<wbr />Socket<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#newSocket%2CDomain%2CSockType%2CProtocol"
    title="newSocket(domain: Domain = AF_INET; sockType: SockType = SOCK_STREAM;
          protocol: Protocol = IPPROTO_TCP; buffered = true): owned(Socket)"><wbr />new<wbr />Socket<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#parseIpAddress%2Cstring"
    title="parseIpAddress(addressStr: string): IpAddress"><wbr />parse<wbr />Ip<wbr />Address<span class="attachedType">IpAddress</span></a></li>
  <li><a class="reference" href="#isIpAddress%2Cstring"
    title="isIpAddress(addressStr: string): bool"><wbr />is<wbr />Ip<wbr />Address<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#toSockAddr%2CIpAddress%2CPort%2CSockaddr_storage%2CSockLen"
    title="toSockAddr(address: IpAddress; port: Port; sa: var Sockaddr_storage;
           sl: var SockLen)"><wbr />to<wbr />Sock<wbr />Addr<span class="attachedType">IpAddress</span></a></li>
  <li><a class="reference" href="#fromSockAddr%2C%2CSockLen%2CIpAddress%2CPort"
    title="fromSockAddr(sa: Sockaddr_storage | SockAddr | Sockaddr_in | Sockaddr_in6;
             sl: SockLen; address: var IpAddress; port: var Port)"><wbr />from<wbr />Sock<wbr />Addr<span class="attachedType">IpAddress</span></a></li>
  <li><a class="reference" href="#raiseSSLError%2Cstring"
    title="raiseSSLError(s = &quot;&quot;)"><wbr />raise<wbr />SSLError<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#getExtraData%2CSslContext%2Cint"
    title="getExtraData(ctx: SslContext; index: int): RootRef"><wbr />get<wbr />Extra<wbr />Data<span class="attachedType">SslContext</span></a></li>
  <li><a class="reference" href="#setExtraData%2CSslContext%2Cint%2CRootRef"
    title="setExtraData(ctx: SslContext; index: int; data: RootRef)"><wbr />set<wbr />Extra<wbr />Data<span class="attachedType">SslContext</span></a></li>
  <li><a class="reference" href="#newContext%2Cstring%2Cstring%2Cstring%2Cstring%2Cstring"
    title="newContext(protVersion = protSSLv23; verifyMode = CVerifyPeer; certFile = &quot;&quot;;
           keyFile = &quot;&quot;; cipherList = &quot;ALL&quot;; caDir = &quot;&quot;; caFile = &quot;&quot;): SslContext"><wbr />new<wbr />Context<span class="attachedType">SslContext</span></a></li>
  <li><a class="reference" href="#destroyContext%2CSslContext"
    title="destroyContext(ctx: SslContext)"><wbr />destroy<wbr />Context<span class="attachedType">SslContext</span></a></li>
  <li><a class="reference" href="#pskIdentityHint%3D%2CSslContext%2Cstring"
    title="pskIdentityHint=(ctx: SslContext; hint: string)"><wbr />psk<wbr />Identity<wbr />Hint=<span class="attachedType">SslContext</span></a></li>
  <li><a class="reference" href="#clientGetPskFunc%2CSslContext"
    title="clientGetPskFunc(ctx: SslContext): SslClientGetPskFunc"><wbr />client<wbr />Get<wbr />Psk<wbr />Func<span class="attachedType">SslContext</span></a></li>
  <li><a class="reference" href="#clientGetPskFunc%3D%2CSslContext%2CSslClientGetPskFunc"
    title="clientGetPskFunc=(ctx: SslContext; fun: SslClientGetPskFunc)"><wbr />client<wbr />Get<wbr />Psk<wbr />Func=<span class="attachedType">SslContext</span></a></li>
  <li><a class="reference" href="#serverGetPskFunc%2CSslContext"
    title="serverGetPskFunc(ctx: SslContext): SslServerGetPskFunc"><wbr />server<wbr />Get<wbr />Psk<wbr />Func<span class="attachedType">SslContext</span></a></li>
  <li><a class="reference" href="#serverGetPskFunc%3D%2CSslContext%2CSslServerGetPskFunc"
    title="serverGetPskFunc=(ctx: SslContext; fun: SslServerGetPskFunc)"><wbr />server<wbr />Get<wbr />Psk<wbr />Func=<span class="attachedType">SslContext</span></a></li>
  <li><a class="reference" href="#getPskIdentity%2CSocket"
    title="getPskIdentity(socket: Socket): string"><wbr />get<wbr />Psk<wbr />Identity<span class="attachedType">Socket</span></a></li>
  <li><a class="reference" href="#wrapSocket%2CSslContext%2CSocket"
    title="wrapSocket(ctx: SslContext; socket: Socket)"><wbr />wrap<wbr />Socket<span class="attachedType">SslContext</span></a></li>
  <li><a class="reference" href="#wrapConnectedSocket%2CSslContext%2CSocket%2CSslHandshakeType%2Cstring"
    title="wrapConnectedSocket(ctx: SslContext; socket: Socket;
                    handshake: SslHandshakeType; hostname: string = &quot;&quot;)"><wbr />wrap<wbr />Connected<wbr />Socket<span class="attachedType">SslContext</span></a></li>
  <li><a class="reference" href="#getPeerCertificates%2CSslPtr"
    title="getPeerCertificates(sslHandle: SslPtr): seq[Certificate]"><wbr />get<wbr />Peer<wbr />Certificates<span class="attachedType">Certificate</span></a></li>
  <li><a class="reference" href="#getPeerCertificates%2CSocket"
    title="getPeerCertificates(socket: Socket): seq[Certificate]"><wbr />get<wbr />Peer<wbr />Certificates<span class="attachedType">Socket</span></a></li>
  <li><a class="reference" href="#getSocketError%2CSocket"
    title="getSocketError(socket: Socket): OSErrorCode"><wbr />get<wbr />Socket<wbr />Error<span class="attachedType">Socket</span></a></li>
  <li><a class="reference" href="#socketError%2CSocket%2Cint"
    title="socketError(socket: Socket; err: int = -1; async = false;
            lastError = -1.OSErrorCode): void"><wbr />socket<wbr />Error<span class="attachedType">Socket</span></a></li>
  <li><a class="reference" href="#listen%2CSocket"
    title="listen(socket: Socket; backlog = SOMAXCONN)"><wbr />listen<span class="attachedType">Socket</span></a></li>
  <li><a class="reference" href="#bindAddr%2CSocket%2Cstring"
    title="bindAddr(socket: Socket; port = Port(0); address = &quot;&quot;)"><wbr />bind<wbr />Addr<span class="attachedType">Socket</span></a></li>
  <li><a class="reference" href="#acceptAddr%2CSocket%2C%2Cstring"
    title="acceptAddr(server: Socket; client: var owned(Socket); address: var string;
           flags = {SafeDisconn})"><wbr />accept<wbr />Addr<span class="attachedType">Socket</span></a></li>
  <li><a class="reference" href="#accept%2CSocket%2C"
    title="accept(server: Socket; client: var owned(Socket); flags = {SafeDisconn})"><wbr />accept<span class="attachedType">Socket</span></a></li>
  <li><a class="reference" href="#close%2CSocket"
    title="close(socket: Socket)"><wbr />close<span class="attachedType">Socket</span></a></li>
  <li><a class="reference" href="#toCInt%2CSOBool"
    title="toCInt(opt: SOBool): cint"><wbr />to<wbr />CInt<span class="attachedType">SOBool</span></a></li>
  <li><a class="reference" href="#getSockOpt%2CSocket%2CSOBool"
    title="getSockOpt(socket: Socket; opt: SOBool; level = SOL_SOCKET): bool"><wbr />get<wbr />Sock<wbr />Opt<span class="attachedType">Socket</span></a></li>
  <li><a class="reference" href="#getLocalAddr%2CSocket"
    title="getLocalAddr(socket: Socket): (string, Port)"><wbr />get<wbr />Local<wbr />Addr<span class="attachedType">Socket</span></a></li>
  <li><a class="reference" href="#getPeerAddr%2CSocket"
    title="getPeerAddr(socket: Socket): (string, Port)"><wbr />get<wbr />Peer<wbr />Addr<span class="attachedType">Socket</span></a></li>
  <li><a class="reference" href="#setSockOpt%2CSocket%2CSOBool%2Cbool"
    title="setSockOpt(socket: Socket; opt: SOBool; value: bool; level = SOL_SOCKET)"><wbr />set<wbr />Sock<wbr />Opt<span class="attachedType">Socket</span></a></li>
  <li><a class="reference" href="#connectUnix%2CSocket%2Cstring"
    title="connectUnix(socket: Socket; path: string)"><wbr />connect<wbr />Unix<span class="attachedType">Socket</span></a></li>
  <li><a class="reference" href="#bindUnix%2CSocket%2Cstring"
    title="bindUnix(socket: Socket; path: string)"><wbr />bind<wbr />Unix<span class="attachedType">Socket</span></a></li>
  <li><a class="reference" href="#hasDataBuffered%2CSocket"
    title="hasDataBuffered(s: Socket): bool"><wbr />has<wbr />Data<wbr />Buffered<span class="attachedType">Socket</span></a></li>
  <li><a class="reference" href="#recv%2CSocket%2Cpointer%2Cint"
    title="recv(socket: Socket; data: pointer; size: int): int"><wbr />recv<span class="attachedType">Socket</span></a></li>
  <li><a class="reference" href="#recv%2CSocket%2Cpointer%2Cint%2Cint"
    title="recv(socket: Socket; data: pointer; size: int; timeout: int): int"><wbr />recv<span class="attachedType">Socket</span></a></li>
  <li><a class="reference" href="#recv%2CSocket%2Cstring%2Cint"
    title="recv(socket: Socket; data: var string; size: int; timeout = -1;
     flags = {SafeDisconn}): int"><wbr />recv<span class="attachedType">Socket</span></a></li>
  <li><a class="reference" href="#recv%2CSocket%2Cint"
    title="recv(socket: Socket; size: int; timeout = -1; flags = {SafeDisconn}): string"><wbr />recv<span class="attachedType">Socket</span></a></li>
  <li><a class="reference" href="#readLine%2CSocket%2CTaintedString"
    title="readLine(socket: Socket; line: var TaintedString; timeout = -1;
         flags = {SafeDisconn}; maxLength = MaxLineLength)"><wbr />read<wbr />Line<span class="attachedType">Socket</span></a></li>
  <li><a class="reference" href="#recvLine%2CSocket"
    title="recvLine(socket: Socket; timeout = -1; flags = {SafeDisconn};
         maxLength = MaxLineLength): TaintedString"><wbr />recv<wbr />Line<span class="attachedType">Socket</span></a></li>
  <li><a class="reference" href="#recvFrom%2CSocket%2Cstring%2Cint%2Cstring%2CPort%2Cint32"
    title="recvFrom(socket: Socket; data: var string; length: int; address: var string;
         port: var Port; flags = 0&apos;i32): int"><wbr />recv<wbr />From<span class="attachedType">Socket</span></a></li>
  <li><a class="reference" href="#skip%2CSocket%2Cint"
    title="skip(socket: Socket; size: int; timeout = -1)"><wbr />skip<span class="attachedType">Socket</span></a></li>
  <li><a class="reference" href="#send%2CSocket%2Cpointer%2Cint"
    title="send(socket: Socket; data: pointer; size: int): int"><wbr />send<span class="attachedType">Socket</span></a></li>
  <li><a class="reference" href="#send%2CSocket%2Cstring"
    title="send(socket: Socket; data: string; flags = {SafeDisconn})"><wbr />send<span class="attachedType">Socket</span></a></li>
  <li><a class="reference" href="#trySend%2CSocket%2Cstring"
    title="trySend(socket: Socket; data: string): bool"><wbr />try<wbr />Send<span class="attachedType">Socket</span></a></li>
  <li><a class="reference" href="#sendTo%2CSocket%2Cstring%2CPort%2Cpointer%2Cint%2CDomain%2Cint32"
    title="sendTo(socket: Socket; address: string; port: Port; data: pointer; size: int;
       af: Domain = AF_INET; flags = 0&apos;i32)"><wbr />send<wbr />To<span class="attachedType">Socket</span></a></li>
  <li><a class="reference" href="#sendTo%2CSocket%2Cstring%2CPort%2Cstring"
    title="sendTo(socket: Socket; address: string; port: Port; data: string)"><wbr />send<wbr />To<span class="attachedType">Socket</span></a></li>
  <li><a class="reference" href="#isSsl%2CSocket"
    title="isSsl(socket: Socket): bool"><wbr />is<wbr />Ssl<span class="attachedType">Socket</span></a></li>
  <li><a class="reference" href="#getFd%2CSocket"
    title="getFd(socket: Socket): SocketHandle"><wbr />get<wbr />Fd<span class="attachedType">Socket</span></a></li>
  <li><a class="reference" href="#IPv4_any"
    title="IPv4_any(): IpAddress"><wbr />IPv4_<wbr />any<span class="attachedType">IpAddress</span></a></li>
  <li><a class="reference" href="#IPv4_loopback"
    title="IPv4_loopback(): IpAddress"><wbr />IPv4_<wbr />loopback<span class="attachedType">IpAddress</span></a></li>
  <li><a class="reference" href="#IPv4_broadcast"
    title="IPv4_broadcast(): IpAddress"><wbr />IPv4_<wbr />broadcast<span class="attachedType">IpAddress</span></a></li>
  <li><a class="reference" href="#IPv6_any"
    title="IPv6_any(): IpAddress"><wbr />IPv6_<wbr />any<span class="attachedType">IpAddress</span></a></li>
  <li><a class="reference" href="#IPv6_loopback"
    title="IPv6_loopback(): IpAddress"><wbr />IPv6_<wbr />loopback<span class="attachedType">IpAddress</span></a></li>
  <li><a class="reference" href="#%3D%3D%2CIpAddress%2CIpAddress"
    title="`==`(lhs, rhs: IpAddress): bool"><wbr />`==`<span class="attachedType">IpAddress</span></a></li>
  <li><a class="reference" href="#%24%2CIpAddress"
    title="`$`(address: IpAddress): string"><wbr />`$`<span class="attachedType">IpAddress</span></a></li>
  <li><a class="reference" href="#dial%2Cstring%2CPort"
    title="dial(address: string; port: Port; protocol = IPPROTO_TCP; buffered = true): owned(
    Socket)"><wbr />dial<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#connect%2CSocket%2Cstring"
    title="connect(socket: Socket; address: string; port = Port(0))"><wbr />connect<span class="attachedType">Socket</span></a></li>
  <li><a class="reference" href="#connect%2CSocket%2Cstring%2Cint"
    title="connect(socket: Socket; address: string; port = Port(0); timeout: int)"><wbr />connect<span class="attachedType">Socket</span></a></li>
  <li><a class="reference" href="#getPrimaryIPAddr"
    title="getPrimaryIPAddr(dest = parseIpAddress(&quot;8.8.8.8&quot;)): IpAddress"><wbr />get<wbr />Primary<wbr />IPAddr<span class="attachedType">IpAddress</span></a></li>

  </ul>
</li>
<li>
  <a class="reference reference-toplevel" href="#18" id="68">Templates</a>
  <ul class="simple simple-toc-section">
      <li><a class="reference" href="#%26%3D.t%2CSocket%2Ctyped"
    title="`&amp;=`(socket: Socket; data: typed)"><wbr />`&amp;=`<span class="attachedType">Socket</span></a></li>

  </ul>
</li>
<li>
  <a class="reference reference-toplevel" href="#19" id="69">Exports</a>
  <ul class="simple simple-toc-section">
    
  </ul>
</li>

</ul>

  </div>
  <div class="nine columns" id="content">
  <div id="tocRoot"></div>
  
  <p class="module-desc"><p>This module implements a high-level cross-platform sockets interface. The procedures implemented in this module are primarily for blocking sockets. For asynchronous non-blocking sockets use the <tt class="docutils literal"><span class="pre">asyncnet</span></tt> module together with the <tt class="docutils literal"><span class="pre">asyncdispatch</span></tt> module.</p>
<p>The first thing you will always need to do in order to start using sockets, is to create a new instance of the <tt class="docutils literal"><span class="pre">Socket</span></tt> type using the <tt class="docutils literal"><span class="pre">newSocket</span></tt> procedure.</p>

<h1><a class="toc-backref" id="ssl" href="#ssl">SSL</a></h1><p>In order to use the SSL procedures defined in this module, you will need to compile your application with the <tt class="docutils literal"><span class="pre">-d:ssl</span></tt> flag.</p>

<h1><a class="toc-backref" id="ssl-on-windows" href="#ssl-on-windows">SSL on Windows</a></h1><p>On Windows the SSL library checks for valid certificates. It uses the <tt class="docutils literal"><span class="pre">cacert.pem</span></tt> file for this purpose which was extracted from <tt class="docutils literal"><span class="pre">https://curl.se/ca/cacert.pem</span></tt>. Besides the OpenSSL DLLs (e.g. libssl-1_1-x64.dll, libcrypto-1_1-x64.dll) you also need to ship <tt class="docutils literal"><span class="pre">cacert.pem</span></tt> with your <tt class="docutils literal"><span class="pre">.exe</span></tt> file.</p>

<h1><a class="toc-backref" id="examples" href="#examples">Examples</a></h1>
<h2><a class="toc-backref" id="examples-connecting-to-a-server" href="#examples-connecting-to-a-server">Connecting to a server</a></h2><p>After you create a socket with the <tt class="docutils literal"><span class="pre">newSocket</span></tt> procedure, you can easily connect it to a server running at a known hostname (or IP address) and port. To do so over TCP, use the example below.</p>
<pre class="listing"><span class="Keyword">var</span> <span class="Identifier">socket</span> <span class="Operator">=</span> <span class="Identifier">newSocket</span><span class="Punctuation">(</span><span class="Punctuation">)</span>
<span class="Identifier">socket</span><span class="Operator">.</span><span class="Identifier">connect</span><span class="Punctuation">(</span><span class="StringLit">&quot;google.com&quot;</span><span class="Punctuation">,</span> <span class="Identifier">Port</span><span class="Punctuation">(</span><span class="DecNumber">80</span><span class="Punctuation">)</span><span class="Punctuation">)</span></pre><p>UDP is a connectionless protocol, so UDP sockets don't have to explicitly call the <tt class="docutils literal"><span class="pre">connect</span></tt> procedure. They can simply start sending data immediately.</p>
<pre class="listing"><span class="Keyword">var</span> <span class="Identifier">socket</span> <span class="Operator">=</span> <span class="Identifier">newSocket</span><span class="Punctuation">(</span><span class="Identifier">AF_INET</span><span class="Punctuation">,</span> <span class="Identifier">SOCK_DGRAM</span><span class="Punctuation">,</span> <span class="Identifier">IPPROTO_UDP</span><span class="Punctuation">)</span>
<span class="Identifier">socket</span><span class="Operator">.</span><span class="Identifier">sendTo</span><span class="Punctuation">(</span><span class="StringLit">&quot;192.168.0.1&quot;</span><span class="Punctuation">,</span> <span class="Identifier">Port</span><span class="Punctuation">(</span><span class="DecNumber">27960</span><span class="Punctuation">)</span><span class="Punctuation">,</span> <span class="StringLit">&quot;status</span><span class="EscapeSequence">\n</span><span class="StringLit">&quot;</span><span class="Punctuation">)</span></pre>
<h2><a class="toc-backref" id="examples-creating-a-server" href="#examples-creating-a-server">Creating a server</a></h2><p>After you create a socket with the <tt class="docutils literal"><span class="pre">newSocket</span></tt> procedure, you can create a TCP server by calling the <tt class="docutils literal"><span class="pre">bindAddr</span></tt> and <tt class="docutils literal"><span class="pre">listen</span></tt> procedures.</p>
<pre class="listing"><span class="Keyword">var</span> <span class="Identifier">socket</span> <span class="Operator">=</span> <span class="Identifier">newSocket</span><span class="Punctuation">(</span><span class="Punctuation">)</span>
<span class="Identifier">socket</span><span class="Operator">.</span><span class="Identifier">bindAddr</span><span class="Punctuation">(</span><span class="Identifier">Port</span><span class="Punctuation">(</span><span class="DecNumber">1234</span><span class="Punctuation">)</span><span class="Punctuation">)</span>
<span class="Identifier">socket</span><span class="Operator">.</span><span class="Identifier">listen</span><span class="Punctuation">(</span><span class="Punctuation">)</span></pre><p>You can then begin accepting connections using the <tt class="docutils literal"><span class="pre">accept</span></tt> procedure.</p>
<pre class="listing"><span class="Keyword">var</span> <span class="Identifier">client</span><span class="Punctuation">:</span> <span class="Identifier">Socket</span>
<span class="Keyword">var</span> <span class="Identifier">address</span> <span class="Operator">=</span> <span class="StringLit">&quot;&quot;</span>
<span class="Keyword">while</span> <span class="Identifier">true</span><span class="Punctuation">:</span>
  <span class="Identifier">socket</span><span class="Operator">.</span><span class="Identifier">acceptAddr</span><span class="Punctuation">(</span><span class="Identifier">client</span><span class="Punctuation">,</span> <span class="Identifier">address</span><span class="Punctuation">)</span>
  <span class="Identifier">echo</span><span class="Punctuation">(</span><span class="StringLit">&quot;Client connected from: &quot;</span><span class="Punctuation">,</span> <span class="Identifier">address</span><span class="Punctuation">)</span></pre></p>
  <div class="section" id="6">
<h1><a class="toc-backref" href="#6">Imports</a></h1>
<dl class="item">
<a class="reference external" href="nativesockets.html">nativesockets</a>, <a class="reference external" href="os.html">os</a>, <a class="reference external" href="strutils.html">strutils</a>, <a class="reference external" href="times.html">times</a>, <a class="reference external" href="sets.html">sets</a>, <a class="reference external" href="options.html">options</a>, <a class="reference external" href="monotimes.html">monotimes</a>, <a class="reference external" href="ssl_certs.html">ssl_certs</a>, <a class="reference external" href="openssl.html">openssl</a>, <a class="reference external" href="posix.html">posix</a>
</dl></div>
<div class="section" id="7">
<h1><a class="toc-backref" href="#7">Types</a></h1>
<dl class="item">
<a id="Certificate"></a>
<dt><pre><a href="net.html#Certificate"><span class="Identifier">Certificate</span></a> <span class="Other">=</span> <a href="system.html#string"><span class="Identifier">string</span></a></pre></dt>
<dd>

DER encoded certificate
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L95"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L95" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="SslError"></a>
<dt><pre><a href="net.html#SslError"><span class="Identifier">SslError</span></a> <span class="Other">=</span> <span class="Keyword">object</span> <span class="Keyword">of</span> <a href="system.html#Exception"><span class="Identifier">Exception</span></a></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L97"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L97" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="SslCVerifyMode"></a>
<dt><pre><a href="net.html#SslCVerifyMode"><span class="Identifier">SslCVerifyMode</span></a> <span class="Other">=</span> <span class="Keyword">enum</span>
  <span class="Identifier">CVerifyNone</span><span class="Other">,</span> <span class="Identifier">CVerifyPeer</span><span class="Other">,</span> <span class="Identifier">CVerifyPeerUseEnvVars</span></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L99"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L99" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="SslProtVersion"></a>
<dt><pre><a href="net.html#SslProtVersion"><span class="Identifier">SslProtVersion</span></a> <span class="Other">=</span> <span class="Keyword">enum</span>
  <span class="Identifier">protSSLv2</span><span class="Other">,</span> <span class="Identifier">protSSLv3</span><span class="Other">,</span> <span class="Identifier">protTLSv1</span><span class="Other">,</span> <span class="Identifier">protSSLv23</span></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L102"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L102" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="SslContext"></a>
<dt><pre><a href="net.html#SslContext"><span class="Identifier">SslContext</span></a> <span class="Other">=</span> <span class="Keyword">ref</span> <span class="Keyword">object</span>
  <span class="Identifier">context</span><span class="Operator">*</span><span class="Other">:</span> <a href="openssl.html#SslCtx"><span class="Identifier">SslCtx</span></a>
  <span class="Identifier">referencedData</span><span class="Other">:</span> <a href="sets.html#HashSet"><span class="Identifier">HashSet</span></a><span class="Other">[</span><a href="system.html#int"><span class="Identifier">int</span></a><span class="Other">]</span>
  <span class="Identifier">extraInternal</span><span class="Other">:</span> <span class="Identifier">SslContextExtraInternal</span>
</pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L105"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L105" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="SslAcceptResult"></a>
<dt><pre><a href="net.html#SslAcceptResult"><span class="Identifier">SslAcceptResult</span></a> <span class="Other">=</span> <span class="Keyword">enum</span>
  <span class="Identifier">AcceptNoClient</span> <span class="Other">=</span> <span class="DecNumber">0</span><span class="Other">,</span> <span class="Identifier">AcceptNoHandshake</span><span class="Other">,</span> <span class="Identifier">AcceptSuccess</span></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L110"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L110" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="SslHandshakeType"></a>
<dt><pre><a href="net.html#SslHandshakeType"><span class="Identifier">SslHandshakeType</span></a> <span class="Other">=</span> <span class="Keyword">enum</span>
  <span class="Identifier">handshakeAsClient</span><span class="Other">,</span> <span class="Identifier">handshakeAsServer</span></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L113"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L113" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="SslClientGetPskFunc"></a>
<dt><pre><a href="net.html#SslClientGetPskFunc"><span class="Identifier">SslClientGetPskFunc</span></a> <span class="Other">=</span> <span class="Keyword">proc</span> <span class="Other">(</span><span class="Identifier">hint</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Keyword">tuple</span><span class="Other">[</span><span class="Identifier">identity</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">,</span> <span class="Identifier">psk</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">]</span></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L116"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L116" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="SslServerGetPskFunc"></a>
<dt><pre><a href="net.html#SslServerGetPskFunc"><span class="Identifier">SslServerGetPskFunc</span></a> <span class="Other">=</span> <span class="Keyword">proc</span> <span class="Other">(</span><span class="Identifier">identity</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">)</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L118"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L118" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="SocketImpl"></a>
<dt><pre><a href="net.html#SocketImpl"><span class="Identifier">SocketImpl</span></a> <span class="Other">=</span> <span class="Keyword">object</span>
  <span class="Identifier">fd</span><span class="Other">:</span> <a href="winlean.html#SocketHandle"><span class="Identifier">SocketHandle</span></a>
  <span class="Identifier">isBuffered</span><span class="Other">:</span> <a href="system.html#bool"><span class="Identifier">bool</span></a>
  <span class="Identifier">buffer</span><span class="Other">:</span> <a href="system.html#array"><span class="Identifier">array</span></a><span class="Other">[</span><span class="DecNumber">0</span> <span class="Operator">..</span> <span class="Identifier">BufferSize</span><span class="Other">,</span> <a href="system.html#char"><span class="Identifier">char</span></a><span class="Other">]</span>
  <span class="Identifier">currPos</span><span class="Other">:</span> <a href="system.html#int"><span class="Identifier">int</span></a>
  <span class="Identifier">bufLen</span><span class="Other">:</span> <a href="system.html#int"><span class="Identifier">int</span></a>
  <span class="Keyword">when</span> <span class="Identifier">defineSsl</span><span class="Other">:</span>
      <span class="Identifier">isSsl</span><span class="Other">:</span> <a href="system.html#bool"><span class="Identifier">bool</span></a>
      <span class="Identifier">sslHandle</span><span class="Other">:</span> <a href="openssl.html#SslPtr"><span class="Identifier">SslPtr</span></a>
      <span class="Identifier">sslContext</span><span class="Other">:</span> <a href="net.html#SslContext"><span class="Identifier">SslContext</span></a>
      <span class="Identifier">sslNoHandshake</span><span class="Other">:</span> <a href="system.html#bool"><span class="Identifier">bool</span></a>
      <span class="Identifier">sslHasPeekChar</span><span class="Other">:</span> <a href="system.html#bool"><span class="Identifier">bool</span></a>
      <span class="Identifier">sslPeekChar</span><span class="Other">:</span> <a href="system.html#char"><span class="Identifier">char</span></a>

  <span class="Identifier">lastError</span><span class="Other">:</span> <a href="os.html#OSErrorCode"><span class="Identifier">OSErrorCode</span></a>     <span class="Comment">## stores the last error on this socket</span>
  <span class="Identifier">domain</span><span class="Other">:</span> <a href="nativesockets.html#Domain"><span class="Identifier">Domain</span></a>
  <span class="Identifier">sockType</span><span class="Other">:</span> <a href="nativesockets.html#SockType"><span class="Identifier">SockType</span></a>
  <span class="Identifier">protocol</span><span class="Other">:</span> <a href="nativesockets.html#Protocol"><span class="Identifier">Protocol</span></a>
</pre></dt>
<dd>

socket type
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L133"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L133" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="Socket"></a>
<dt><pre><a href="net.html#Socket"><span class="Identifier">Socket</span></a> <span class="Other">=</span> <span class="Keyword">ref</span> <a href="net.html#SocketImpl"><span class="Identifier">SocketImpl</span></a></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L151"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L151" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="SOBool"></a>
<dt><pre><a href="net.html#SOBool"><span class="Identifier">SOBool</span></a> <span class="Other">=</span> <span class="Keyword">enum</span>
  <span class="Identifier">OptAcceptConn</span><span class="Other">,</span> <span class="Identifier">OptBroadcast</span><span class="Other">,</span> <span class="Identifier">OptDebug</span><span class="Other">,</span> <span class="Identifier">OptDontRoute</span><span class="Other">,</span> <span class="Identifier">OptKeepAlive</span><span class="Other">,</span>
  <span class="Identifier">OptOOBInline</span><span class="Other">,</span> <span class="Identifier">OptReuseAddr</span><span class="Other">,</span> <span class="Identifier">OptReusePort</span><span class="Other">,</span> <span class="Identifier">OptNoDelay</span></pre></dt>
<dd>

Boolean socket options.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L153"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L153" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="ReadLineResult"></a>
<dt><pre><a href="net.html#ReadLineResult"><span class="Identifier">ReadLineResult</span></a> <span class="Other">=</span> <span class="Keyword">enum</span>
  <span class="Identifier">ReadFullLine</span><span class="Other">,</span> <span class="Identifier">ReadPartialLine</span><span class="Other">,</span> <span class="Identifier">ReadDisconnected</span><span class="Other">,</span> <span class="Identifier">ReadNone</span></pre></dt>
<dd>

result for readLineAsync
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L157"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L157" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="TimeoutError"></a>
<dt><pre><a href="net.html#TimeoutError"><span class="Identifier">TimeoutError</span></a> <span class="Other">=</span> <span class="Keyword">object</span> <span class="Keyword">of</span> <a href="system.html#Exception"><span class="Identifier">Exception</span></a></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L160"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L160" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="SocketFlag"></a>
<dt><pre><a href="net.html#SocketFlag"><span class="Identifier">SocketFlag</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">pure</span></span><span class="Other">.}</span></span> <span class="Other">=</span> <span class="Keyword">enum</span>
  <span class="Identifier">Peek</span><span class="Other">,</span> <span class="Identifier">SafeDisconn</span>          <span class="Comment">## Ensures disconnection exceptions (ECONNRESET, EPIPE etc) are not thrown.</span></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L162"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L162" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="IpAddressFamily"></a>
<dt><pre><a href="net.html#IpAddressFamily"><span class="Identifier">IpAddressFamily</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">pure</span></span><span class="Other">.}</span></span> <span class="Other">=</span> <span class="Keyword">enum</span>
  <span class="Identifier">IPv6</span><span class="Other">,</span>                     <span class="Comment">## IPv6 address</span>
  <span class="Identifier">IPv4</span>                       <span class="Comment">## IPv4 address</span></pre></dt>
<dd>

Describes the type of an IP address
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L170"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L170" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="IpAddress"></a>
<dt><pre><a href="net.html#IpAddress"><span class="Identifier">IpAddress</span></a> <span class="Other">=</span> <span class="Keyword">object</span>
  <span class="Keyword">case</span> <span class="Identifier">family</span><span class="Operator">*</span><span class="Other">:</span> <a href="net.html#IpAddressFamily"><span class="Identifier">IpAddressFamily</span></a> <span class="Comment">## the type of the IP address (IPv4 or IPv6)</span>
  <span class="Keyword">of</span> <span class="Identifier">IpAddressFamily</span><span class="Other">.</span><span class="Identifier">IPv6</span><span class="Other">:</span>
      <span class="Identifier">address_v6</span><span class="Operator">*</span><span class="Other">:</span> <a href="system.html#array"><span class="Identifier">array</span></a><span class="Other">[</span><span class="DecNumber">0</span> <span class="Operator">..</span> <span class="DecNumber">15</span><span class="Other">,</span> <a href="system.html#uint8"><span class="Identifier">uint8</span></a><span class="Other">]</span> <span class="Comment">## Contains the IP address in bytes in</span>
                                         <span class="Comment">## case of IPv6</span>
    
  <span class="Keyword">of</span> <span class="Identifier">IpAddressFamily</span><span class="Other">.</span><span class="Identifier">IPv4</span><span class="Other">:</span>
      <span class="Identifier">address_v4</span><span class="Operator">*</span><span class="Other">:</span> <a href="system.html#array"><span class="Identifier">array</span></a><span class="Other">[</span><span class="DecNumber">0</span> <span class="Operator">..</span> <span class="DecNumber">3</span><span class="Other">,</span> <a href="system.html#uint8"><span class="Identifier">uint8</span></a><span class="Other">]</span> <span class="Comment">## Contains the IP address in bytes in</span>
                                        <span class="Comment">## case of IPv4</span>
    
  </pre></dt>
<dd>

stores an arbitrary IP address
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L174"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L174" class="link-seesrc" target="_blank" >Edit</a>

</dd>

</dl></div>
<div class="section" id="10">
<h1><a class="toc-backref" href="#10">Consts</a></h1>
<dl class="item">
<a id="BufferSize"></a>
<dt><pre><a href="net.html#BufferSize"><span class="Identifier">BufferSize</span></a><span class="Other">:</span> <a href="system.html#int"><span class="Identifier">int</span></a> <span class="Other">=</span> <span class="DecNumber">4000</span></pre></dt>
<dd>

size of a buffered socket's buffer
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L129"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L129" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="MaxLineLength"></a>
<dt><pre><a href="net.html#MaxLineLength"><span class="Identifier">MaxLineLength</span></a> <span class="Other">=</span> <span class="DecNumber">1000000</span></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L130"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L130" class="link-seesrc" target="_blank" >Edit</a>

</dd>

</dl></div>
<div class="section" id="12">
<h1><a class="toc-backref" href="#12">Procs</a></h1>
<dl class="item">
<a id="isDisconnectionError,set[SocketFlag],OSErrorCode"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#isDisconnectionError%2Cset%5BSocketFlag%5D%2COSErrorCode"><span class="Identifier">isDisconnectionError</span></a><span class="Other">(</span><span class="Identifier">flags</span><span class="Other">:</span> <a href="system.html#set"><span class="Identifier">set</span></a><span class="Other">[</span><a href="net.html#SocketFlag"><span class="Identifier">SocketFlag</span></a><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">lastError</span><span class="Other">:</span> <a href="os.html#OSErrorCode"><span class="Identifier">OSErrorCode</span></a><span class="Other">)</span><span class="Other">:</span> <a href="system.html#bool"><span class="Identifier">bool</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Determines whether <tt class="docutils literal"><span class="pre">lastError</span></tt> is a disconnection error. Only does this if flags contains <tt class="docutils literal"><span class="pre">SafeDisconn</span></tt>.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L188"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L188" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="toOSFlags,set[SocketFlag]"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#toOSFlags%2Cset%5BSocketFlag%5D"><span class="Identifier">toOSFlags</span></a><span class="Other">(</span><span class="Identifier">socketFlags</span><span class="Other">:</span> <a href="system.html#set"><span class="Identifier">set</span></a><span class="Other">[</span><a href="net.html#SocketFlag"><span class="Identifier">SocketFlag</span></a><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="system.html#cint"><span class="Identifier">cint</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Converts the flags into the underlying OS representation.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L205"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L205" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="newSocket,SocketHandle,Domain,SockType,Protocol"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#newSocket%2CSocketHandle%2CDomain%2CSockType%2CProtocol"><span class="Identifier">newSocket</span></a><span class="Other">(</span><span class="Identifier">fd</span><span class="Other">:</span> <a href="winlean.html#SocketHandle"><span class="Identifier">SocketHandle</span></a><span class="Other">;</span> <span class="Identifier">domain</span><span class="Other">:</span> <a href="nativesockets.html#Domain"><span class="Identifier">Domain</span></a> <span class="Other">=</span> <span class="Identifier">AF_INET</span><span class="Other">;</span>
               <span class="Identifier">sockType</span><span class="Other">:</span> <a href="nativesockets.html#SockType"><span class="Identifier">SockType</span></a> <span class="Other">=</span> <span class="Identifier">SOCK_STREAM</span><span class="Other">;</span>
               <span class="Identifier">protocol</span><span class="Other">:</span> <a href="nativesockets.html#Protocol"><span class="Identifier">Protocol</span></a> <span class="Other">=</span> <span class="Identifier">IPPROTO_TCP</span><span class="Other">;</span> <span class="Identifier">buffered</span> <span class="Other">=</span> <span class="Identifier">true</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">owned</span><span class="Other">(</span><span class="Identifier">Socket</span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Creates a new socket as specified by the params.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L213"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L213" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="newSocket,cint,cint,cint"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#newSocket%2Ccint%2Ccint%2Ccint"><span class="Identifier">newSocket</span></a><span class="Other">(</span><span class="Identifier">domain</span><span class="Other">,</span> <span class="Identifier">sockType</span><span class="Other">,</span> <span class="Identifier">protocol</span><span class="Other">:</span> <a href="system.html#cint"><span class="Identifier">cint</span></a><span class="Other">;</span> <span class="Identifier">buffered</span> <span class="Other">=</span> <span class="Identifier">true</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">owned</span><span class="Other">(</span><span class="Identifier">Socket</span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">OSError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Creates a new socket.</p>
<p>If an error occurs OSError will be raised.</p>

&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L231"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L231" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="newSocket,Domain,SockType,Protocol"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#newSocket%2CDomain%2CSockType%2CProtocol"><span class="Identifier">newSocket</span></a><span class="Other">(</span><span class="Identifier">domain</span><span class="Other">:</span> <a href="nativesockets.html#Domain"><span class="Identifier">Domain</span></a> <span class="Other">=</span> <span class="Identifier">AF_INET</span><span class="Other">;</span> <span class="Identifier">sockType</span><span class="Other">:</span> <a href="nativesockets.html#SockType"><span class="Identifier">SockType</span></a> <span class="Other">=</span> <span class="Identifier">SOCK_STREAM</span><span class="Other">;</span>
               <span class="Identifier">protocol</span><span class="Other">:</span> <a href="nativesockets.html#Protocol"><span class="Identifier">Protocol</span></a> <span class="Other">=</span> <span class="Identifier">IPPROTO_TCP</span><span class="Other">;</span> <span class="Identifier">buffered</span> <span class="Other">=</span> <span class="Identifier">true</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">owned</span><span class="Other">(</span><span class="Identifier">Socket</span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">OSError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Creates a new socket.</p>
<p>If an error occurs OSError will be raised.</p>

&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L241"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L241" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="parseIpAddress,string"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#parseIpAddress%2Cstring"><span class="Identifier">parseIpAddress</span></a><span class="Other">(</span><span class="Identifier">addressStr</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">)</span><span class="Other">:</span> <a href="net.html#IpAddress"><span class="Identifier">IpAddress</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Parses an IP address Raises ValueError on error
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L406"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L406" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="isIpAddress,string"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#isIpAddress%2Cstring"><span class="Identifier">isIpAddress</span></a><span class="Other">(</span><span class="Identifier">addressStr</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">)</span><span class="Other">:</span> <a href="system.html#bool"><span class="Identifier">bool</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Checks if a string is an IP address Returns true if it is, false otherwise
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L416"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L416" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="toSockAddr,IpAddress,Port,Sockaddr_storage,SockLen"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#toSockAddr%2CIpAddress%2CPort%2CSockaddr_storage%2CSockLen"><span class="Identifier">toSockAddr</span></a><span class="Other">(</span><span class="Identifier">address</span><span class="Other">:</span> <a href="net.html#IpAddress"><span class="Identifier">IpAddress</span></a><span class="Other">;</span> <span class="Identifier">port</span><span class="Other">:</span> <a href="nativesockets.html#Port"><span class="Identifier">Port</span></a><span class="Other">;</span> <span class="Identifier">sa</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="winlean.html#Sockaddr_storage"><span class="Identifier">Sockaddr_storage</span></a><span class="Other">;</span>
                <span class="Identifier">sl</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="winlean.html#SockLen"><span class="Identifier">SockLen</span></a><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Converts <tt class="docutils literal"><span class="pre">IpAddress</span></tt> and <tt class="docutils literal"><span class="pre">Port</span></tt> to <tt class="docutils literal"><span class="pre">SockAddr</span></tt> and <tt class="docutils literal"><span class="pre">SockLen</span></tt>
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L425"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L425" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="fromSockAddr,,SockLen,IpAddress,Port"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#fromSockAddr%2C%2CSockLen%2CIpAddress%2CPort"><span class="Identifier">fromSockAddr</span></a><span class="Other">(</span><span class="Identifier">sa</span><span class="Other">:</span> <a href="winlean.html#Sockaddr_storage"><span class="Identifier">Sockaddr_storage</span></a> <span class="Operator">|</span> <a href="winlean.html#SockAddr"><span class="Identifier">SockAddr</span></a> <span class="Operator">|</span> <a href="winlean.html#Sockaddr_in"><span class="Identifier">Sockaddr_in</span></a> <span class="Operator">|</span> <a href="winlean.html#Sockaddr_in6"><span class="Identifier">Sockaddr_in6</span></a><span class="Other">;</span>
                  <span class="Identifier">sl</span><span class="Other">:</span> <a href="winlean.html#SockLen"><span class="Identifier">SockLen</span></a><span class="Other">;</span> <span class="Identifier">address</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="net.html#IpAddress"><span class="Identifier">IpAddress</span></a><span class="Other">;</span> <span class="Identifier">port</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="nativesockets.html#Port"><span class="Identifier">Port</span></a><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">inline</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Converts <tt class="docutils literal"><span class="pre">SockAddr</span></tt> and <tt class="docutils literal"><span class="pre">SockLen</span></tt> to <tt class="docutils literal"><span class="pre">IpAddress</span></tt> and <tt class="docutils literal"><span class="pre">Port</span></tt>. Raises <tt class="docutils literal"><span class="pre">ObjectConversionError</span></tt> in case of invalid <tt class="docutils literal"><span class="pre">sa</span></tt> and <tt class="docutils literal"><span class="pre">sl</span></tt> arguments.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L463"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L463" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="raiseSSLError,string"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#raiseSSLError%2Cstring"><span class="Identifier">raiseSSLError</span></a><span class="Other">(</span><span class="Identifier">s</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">SslError</span><span class="Other">,</span> <span class="Identifier">OSError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Raises a new SSL error.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L476"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L476" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="getExtraData,SslContext,int"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#getExtraData%2CSslContext%2Cint"><span class="Identifier">getExtraData</span></a><span class="Other">(</span><span class="Identifier">ctx</span><span class="Other">:</span> <a href="net.html#SslContext"><span class="Identifier">SslContext</span></a><span class="Other">;</span> <span class="Identifier">index</span><span class="Other">:</span> <a href="system.html#int"><span class="Identifier">int</span></a><span class="Other">)</span><span class="Other">:</span> <a href="system.html#RootRef"><span class="Identifier">RootRef</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">IndexError</span><span class="Other">,</span> <span class="Identifier">SslError</span><span class="Other">,</span> <span class="Identifier">OSError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Retrieves arbitrary data stored inside SslContext.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L494"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L494" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="setExtraData,SslContext,int,RootRef"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#setExtraData%2CSslContext%2Cint%2CRootRef"><span class="Identifier">setExtraData</span></a><span class="Other">(</span><span class="Identifier">ctx</span><span class="Other">:</span> <a href="net.html#SslContext"><span class="Identifier">SslContext</span></a><span class="Other">;</span> <span class="Identifier">index</span><span class="Other">:</span> <a href="system.html#int"><span class="Identifier">int</span></a><span class="Other">;</span> <span class="Identifier">data</span><span class="Other">:</span> <a href="system.html#RootRef"><span class="Identifier">RootRef</span></a><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">IndexError</span><span class="Other">,</span> <span class="Identifier">SslError</span><span class="Other">,</span> <span class="Identifier">OSError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Stores arbitrary data inside SslContext. The unique <tt class="docutils literal"><span class="pre">index</span></tt> should be retrieved using getSslContextExtraDataIndex.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L503"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L503" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="newContext,string,string,string,string,string"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#newContext%2Cstring%2Cstring%2Cstring%2Cstring%2Cstring"><span class="Identifier">newContext</span></a><span class="Other">(</span><span class="Identifier">protVersion</span> <span class="Other">=</span> <span class="Identifier">protSSLv23</span><span class="Other">;</span> <span class="Identifier">verifyMode</span> <span class="Other">=</span> <span class="Identifier">CVerifyPeer</span><span class="Other">;</span>
                <span class="Identifier">certFile</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span> <span class="Identifier">keyFile</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span> <span class="Identifier">cipherList</span> <span class="Other">=</span> <span class="StringLit">&quot;ALL&quot;</span><span class="Other">;</span> <span class="Identifier">caDir</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span>
                <span class="Identifier">caFile</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">)</span><span class="Other">:</span> <a href="net.html#SslContext"><span class="Identifier">SslContext</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">SslError</span><span class="Other">,</span> <span class="Identifier">OSError</span><span class="Other">,</span> <span class="Identifier">IOError</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ReadDirEffect</span><span class="Other">,</span> <span class="Identifier">ReadEnvEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Creates an SSL context.</p>
<p>Protocol version specifies the protocol to use. SSLv2, SSLv3, TLSv1 are available with the addition of <tt class="docutils literal"><span class="pre">protSSLv23</span></tt> which allows for compatibility with all of them.</p>
<p>There are three options for verify mode: <tt class="docutils literal"><span class="pre">CVerifyNone</span></tt>: certificates are not verified; <tt class="docutils literal"><span class="pre">CVerifyPeer</span></tt>: certificates are verified; <tt class="docutils literal"><span class="pre">CVerifyPeerUseEnvVars</span></tt>: certificates are verified and the optional environment variables SSL_CERT_FILE and SSL_CERT_DIR are also used to locate certificates</p>
<p>The <tt class="docutils literal"><span class="pre">nimDisableCertificateValidation</span></tt> define overrides verifyMode and disables certificate verification globally!</p>
<p>CA certificates will be loaded, in the following order, from:</p>
<blockquote><p><ul class="simple"><li>caFile, caDir, parameters, if set</li>
<li>if <tt class="docutils literal"><span class="pre">verifyMode</span></tt> is set to <tt class="docutils literal"><span class="pre">CVerifyPeerUseEnvVars</span></tt>, the SSL_CERT_FILE and SSL_CERT_DIR environment variables are used</li>
<li>a set of files and directories from the <a class="reference external" href="ssl_certs.html">ssl_certs</a> file.</li>
</ul>
</p></blockquote>
<p>The last two parameters specify the certificate file path and the key file path, a server socket will most likely not work without these.</p>
<p>Certificates can be generated using the following command:</p>
<ul class="simple"><li><tt class="docutils literal"><span class="pre">openssl req -x509 -nodes -days 365 -newkey rsa:4096 -keyout mykey.pem -out mycert.pem</span></tt></li>
</ul>
<p>or using ECDSA:</p>
<ul class="simple"><li><tt class="docutils literal"><span class="pre">openssl ecparam -out mykey.pem -name secp256k1 -genkey</span></tt></li>
<li><tt class="docutils literal"><span class="pre">openssl req -new -key mykey.pem -x509 -nodes -days 365 -out mycert.pem</span></tt></li>
</ul>

&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L538"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L538" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="destroyContext,SslContext"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#destroyContext%2CSslContext"><span class="Identifier">destroyContext</span></a><span class="Other">(</span><span class="Identifier">ctx</span><span class="Other">:</span> <a href="net.html#SslContext"><span class="Identifier">SslContext</span></a><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">IndexError</span><span class="Other">,</span> <span class="Identifier">SslError</span><span class="Other">,</span> <span class="Identifier">OSError</span><span class="Other">]</span><span class="Other">,</span>
                                       <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Free memory referenced by SslContext.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L627"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L627" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="pskIdentityHint=,SslContext,string"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#pskIdentityHint%3D%2CSslContext%2Cstring"><span class="Identifier">pskIdentityHint=</span></a><span class="Other">(</span><span class="Identifier">ctx</span><span class="Other">:</span> <a href="net.html#SslContext"><span class="Identifier">SslContext</span></a><span class="Other">;</span> <span class="Identifier">hint</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">SslError</span><span class="Other">,</span> <span class="Identifier">OSError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Sets the identity hint passed to server.</p>
<p>Only used in PSK ciphersuites.</p>

&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L637"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L637" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="clientGetPskFunc,SslContext"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#clientGetPskFunc%2CSslContext"><span class="Identifier">clientGetPskFunc</span></a><span class="Other">(</span><span class="Identifier">ctx</span><span class="Other">:</span> <a href="net.html#SslContext"><span class="Identifier">SslContext</span></a><span class="Other">)</span><span class="Other">:</span> <a href="net.html#SslClientGetPskFunc"><span class="Identifier">SslClientGetPskFunc</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L644"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L644" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="clientGetPskFunc=,SslContext,SslClientGetPskFunc"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#clientGetPskFunc%3D%2CSslContext%2CSslClientGetPskFunc"><span class="Identifier">clientGetPskFunc=</span></a><span class="Other">(</span><span class="Identifier">ctx</span><span class="Other">:</span> <a href="net.html#SslContext"><span class="Identifier">SslContext</span></a><span class="Other">;</span> <span class="Identifier">fun</span><span class="Other">:</span> <a href="net.html#SslClientGetPskFunc"><span class="Identifier">SslClientGetPskFunc</span></a><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">Exception</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Sets function that returns the client identity and the PSK based on identity hint from the server.</p>
<p>Only used in PSK ciphersuites.</p>

&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L662"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L662" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="serverGetPskFunc,SslContext"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#serverGetPskFunc%2CSslContext"><span class="Identifier">serverGetPskFunc</span></a><span class="Other">(</span><span class="Identifier">ctx</span><span class="Other">:</span> <a href="net.html#SslContext"><span class="Identifier">SslContext</span></a><span class="Other">)</span><span class="Other">:</span> <a href="net.html#SslServerGetPskFunc"><span class="Identifier">SslServerGetPskFunc</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L671"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L671" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="serverGetPskFunc=,SslContext,SslServerGetPskFunc"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#serverGetPskFunc%3D%2CSslContext%2CSslServerGetPskFunc"><span class="Identifier">serverGetPskFunc=</span></a><span class="Other">(</span><span class="Identifier">ctx</span><span class="Other">:</span> <a href="net.html#SslContext"><span class="Identifier">SslContext</span></a><span class="Other">;</span> <span class="Identifier">fun</span><span class="Other">:</span> <a href="net.html#SslServerGetPskFunc"><span class="Identifier">SslServerGetPskFunc</span></a><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">Exception</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Sets function that returns PSK based on the client identity.</p>
<p>Only used in PSK ciphersuites.</p>

&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L684"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L684" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="getPskIdentity,Socket"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#getPskIdentity%2CSocket"><span class="Identifier">getPskIdentity</span></a><span class="Other">(</span><span class="Identifier">socket</span><span class="Other">:</span> <a href="net.html#Socket"><span class="Identifier">Socket</span></a><span class="Other">)</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Gets the PSK identity provided by the client.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L692"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L692" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="wrapSocket,SslContext,Socket"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#wrapSocket%2CSslContext%2CSocket"><span class="Identifier">wrapSocket</span></a><span class="Other">(</span><span class="Identifier">ctx</span><span class="Other">:</span> <a href="net.html#SslContext"><span class="Identifier">SslContext</span></a><span class="Other">;</span> <span class="Identifier">socket</span><span class="Other">:</span> <a href="net.html#Socket"><span class="Identifier">Socket</span></a><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">SslError</span><span class="Other">,</span> <span class="Identifier">OSError</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Wraps a socket in an SSL context. This function effectively turns <tt class="docutils literal"><span class="pre">socket</span></tt> into an SSL socket.</p>
<p>This must be called on an unconnected socket; an SSL session will be started when the socket is connected.</p>
<p>FIXME: <strong>Disclaimer</strong>: This code is not well tested, may be very unsafe and prone to security vulnerabilities.</p>

&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L697"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L697" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="wrapConnectedSocket,SslContext,Socket,SslHandshakeType,string"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#wrapConnectedSocket%2CSslContext%2CSocket%2CSslHandshakeType%2Cstring"><span class="Identifier">wrapConnectedSocket</span></a><span class="Other">(</span><span class="Identifier">ctx</span><span class="Other">:</span> <a href="net.html#SslContext"><span class="Identifier">SslContext</span></a><span class="Other">;</span> <span class="Identifier">socket</span><span class="Other">:</span> <a href="net.html#Socket"><span class="Identifier">Socket</span></a><span class="Other">;</span>
                         <span class="Identifier">handshake</span><span class="Other">:</span> <a href="net.html#SslHandshakeType"><span class="Identifier">SslHandshakeType</span></a><span class="Other">;</span> <span class="Identifier">hostname</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">SslError</span><span class="Other">,</span> <span class="Identifier">OSError</span><span class="Other">,</span> <span class="Identifier">Exception</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Wraps a connected socket in an SSL context. This function effectively turns <tt class="docutils literal"><span class="pre">socket</span></tt> into an SSL socket. <tt class="docutils literal"><span class="pre">hostname</span></tt> should be specified so that the client knows which hostname the server certificate should be validated against.</p>
<p>This should be called on a connected socket, and will perform an SSL handshake immediately.</p>
<p>FIXME: <strong>Disclaimer</strong>: This code is not well tested, may be very unsafe and prone to security vulnerabilities.</p>

&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L739"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L739" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="getPeerCertificates,SslPtr"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#getPeerCertificates%2CSslPtr"><span class="Identifier">getPeerCertificates</span></a><span class="Other">(</span><span class="Identifier">sslHandle</span><span class="Other">:</span> <a href="openssl.html#SslPtr"><span class="Identifier">SslPtr</span></a><span class="Other">)</span><span class="Other">:</span> <a href="system.html#seq"><span class="Identifier">seq</span></a><span class="Other">[</span><a href="net.html#Certificate"><span class="Identifier">Certificate</span></a><span class="Other">]</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">Exception</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Returns the certificate chain received by the peer we are connected to through the OpenSSL connection represented by <tt class="docutils literal"><span class="pre">sslHandle</span></tt>. The handshake must have been completed and the certificate chain must have been verified successfully or else an empty sequence is returned. The chain is ordered from leaf certificate to root certificate.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L769"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L769" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="getPeerCertificates,Socket"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#getPeerCertificates%2CSocket"><span class="Identifier">getPeerCertificates</span></a><span class="Other">(</span><span class="Identifier">socket</span><span class="Other">:</span> <a href="net.html#Socket"><span class="Identifier">Socket</span></a><span class="Other">)</span><span class="Other">:</span> <a href="system.html#seq"><span class="Identifier">seq</span></a><span class="Other">[</span><a href="net.html#Certificate"><span class="Identifier">Certificate</span></a><span class="Other">]</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">Exception</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Returns the certificate chain received by the peer we are connected to through the given socket. The handshake must have been completed and the certificate chain must have been verified successfully or else an empty sequence is returned. The chain is ordered from leaf certificate to root certificate.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L788"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L788" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="getSocketError,Socket"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#getSocketError%2CSocket"><span class="Identifier">getSocketError</span></a><span class="Other">(</span><span class="Identifier">socket</span><span class="Other">:</span> <a href="net.html#Socket"><span class="Identifier">Socket</span></a><span class="Other">)</span><span class="Other">:</span> <a href="os.html#OSErrorCode"><span class="Identifier">OSErrorCode</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">OSError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Checks <tt class="docutils literal"><span class="pre">osLastError</span></tt> for a valid error. If it has been reset it uses the last error stored in the socket object.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L799"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L799" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="socketError,Socket,int"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#socketError%2CSocket%2Cint"><span class="Identifier">socketError</span></a><span class="Other">(</span><span class="Identifier">socket</span><span class="Other">:</span> <a href="net.html#Socket"><span class="Identifier">Socket</span></a><span class="Other">;</span> <span class="Identifier">err</span><span class="Other">:</span> <a href="system.html#int"><span class="Identifier">int</span></a> <span class="Other">=</span> <span class="Operator">-</span><span class="DecNumber">1</span><span class="Other">;</span> <span class="Identifier">async</span> <span class="Other">=</span> <span class="Identifier">false</span><span class="Other">;</span>
                 <span class="Identifier">lastError</span> <span class="Other">=</span> <span class="DecNumber">-1</span><span class="Other">.</span><span class="Identifier">OSErrorCode</span><span class="Other">)</span><span class="Other">:</span> <a href="system.html#void"><span class="Identifier">void</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">gcsafe</span><span class="Other">,</span>
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">SslError</span><span class="Other">,</span> <span class="Identifier">OSError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Raises an OSError based on the error code returned by <tt class="docutils literal"><span class="pre">SSL_get_error</span></tt> (for SSL sockets) and <tt class="docutils literal"><span class="pre">osLastError</span></tt> otherwise.</p>
<p>If <tt class="docutils literal"><span class="pre">async</span></tt> is <tt class="docutils literal"><span class="pre">true</span></tt> no error will be thrown in the case when the error was caused by no data being available to be read.</p>
<p>If <tt class="docutils literal"><span class="pre">err</span></tt> is not lower than 0 no exception will be raised.</p>

&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L808"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L808" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="listen,Socket"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#listen%2CSocket"><span class="Identifier">listen</span></a><span class="Other">(</span><span class="Identifier">socket</span><span class="Other">:</span> <a href="net.html#Socket"><span class="Identifier">Socket</span></a><span class="Other">;</span> <span class="Identifier">backlog</span> <span class="Other">=</span> <span class="Identifier">SOMAXCONN</span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><a href="system.html#ReadIOEffect"><span class="Identifier">ReadIOEffect</span></a><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">OSError</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Marks <tt class="docutils literal"><span class="pre">socket</span></tt> as accepting connections. <tt class="docutils literal"><span class="pre">Backlog</span></tt> specifies the maximum length of the queue of pending connections.</p>
<p>Raises an OSError error upon failure.</p>

&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L863"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L863" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="bindAddr,Socket,string"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#bindAddr%2CSocket%2Cstring"><span class="Identifier">bindAddr</span></a><span class="Other">(</span><span class="Identifier">socket</span><span class="Other">:</span> <a href="net.html#Socket"><span class="Identifier">Socket</span></a><span class="Other">;</span> <span class="Identifier">port</span> <span class="Other">=</span> <a href="nativesockets.html#Port"><span class="Identifier">Port</span></a><span class="Other">(</span><span class="DecNumber">0</span><span class="Other">)</span><span class="Other">;</span> <span class="Identifier">address</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><a href="system.html#ReadIOEffect"><span class="Identifier">ReadIOEffect</span></a><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">,</span> <span class="Identifier">OSError</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Binds <tt class="docutils literal"><span class="pre">address</span></tt>:<tt class="docutils literal"><span class="pre">port</span></tt> to the socket.</p>
<p>If <tt class="docutils literal"><span class="pre">address</span></tt> is &quot;&quot; then ADDR_ANY will be bound.</p>

&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L872"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L872" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="acceptAddr,Socket,,string"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#acceptAddr%2CSocket%2C%2Cstring"><span class="Identifier">acceptAddr</span></a><span class="Other">(</span><span class="Identifier">server</span><span class="Other">:</span> <a href="net.html#Socket"><span class="Identifier">Socket</span></a><span class="Other">;</span> <span class="Identifier">client</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">owned</span><span class="Other">(</span><span class="Identifier">Socket</span><span class="Other">)</span><span class="Other">;</span> <span class="Identifier">address</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">;</span>
                <span class="Identifier">flags</span> <span class="Other">=</span> <span class="Other">{</span><span class="Identifier">SafeDisconn</span><span class="Other">}</span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><a href="system.html#ReadIOEffect"><span class="Identifier">ReadIOEffect</span></a><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">gcsafe</span><span class="Other">,</span> <span class="Identifier">locks</span><span class="Other">:</span> <span class="DecNumber">0</span><span class="Other">,</span>
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">OSError</span><span class="Other">,</span> <span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">SslError</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Blocks until a connection is being made from a client. When a connection is made sets <tt class="docutils literal"><span class="pre">client</span></tt> to the client socket and <tt class="docutils literal"><span class="pre">address</span></tt> to the address of the connecting client. This function will raise OSError if an error occurs.</p>
<p>The resulting client will inherit any properties of the server socket. For example: whether the socket is buffered or not.</p>
<p>The <tt class="docutils literal"><span class="pre">accept</span></tt> call may result in an error if the connecting socket disconnects during the duration of the <tt class="docutils literal"><span class="pre">accept</span></tt>. If the <tt class="docutils literal"><span class="pre">SafeDisconn</span></tt> flag is specified then this error will not be raised and instead accept will be called again.</p>

&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L892"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L892" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="accept,Socket,"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#accept%2CSocket%2C"><span class="Identifier">accept</span></a><span class="Other">(</span><span class="Identifier">server</span><span class="Other">:</span> <a href="net.html#Socket"><span class="Identifier">Socket</span></a><span class="Other">;</span> <span class="Identifier">client</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">owned</span><span class="Other">(</span><span class="Identifier">Socket</span><span class="Other">)</span><span class="Other">;</span> <span class="Identifier">flags</span> <span class="Other">=</span> <span class="Other">{</span><span class="Identifier">SafeDisconn</span><span class="Other">}</span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><a href="system.html#ReadIOEffect"><span class="Identifier">ReadIOEffect</span></a><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">OSError</span><span class="Other">,</span> <span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">SslError</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Equivalent to <tt class="docutils literal"><span class="pre">acceptAddr</span></tt> but doesn't return the address, only the socket.</p>
<p>The <tt class="docutils literal"><span class="pre">accept</span></tt> call may result in an error if the connecting socket disconnects during the duration of the <tt class="docutils literal"><span class="pre">accept</span></tt>. If the <tt class="docutils literal"><span class="pre">SafeDisconn</span></tt> flag is specified then this error will not be raised and instead accept will be called again.</p>

&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L984"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L984" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="close,Socket"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#close%2CSocket"><span class="Identifier">close</span></a><span class="Other">(</span><span class="Identifier">socket</span><span class="Other">:</span> <a href="net.html#Socket"><span class="Identifier">Socket</span></a><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">SslError</span><span class="Other">,</span> <span class="Identifier">OSError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Closes a socket.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L996"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L996" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="toCInt,SOBool"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#toCInt%2CSOBool"><span class="Identifier">toCInt</span></a><span class="Other">(</span><span class="Identifier">opt</span><span class="Other">:</span> <a href="net.html#SOBool"><span class="Identifier">SOBool</span></a><span class="Other">)</span><span class="Other">:</span> <a href="system.html#cint"><span class="Identifier">cint</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Converts a <tt class="docutils literal"><span class="pre">SOBool</span></tt> into its Socket Option cint representation.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L1025"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L1025" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="getSockOpt,Socket,SOBool"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#getSockOpt%2CSocket%2CSOBool"><span class="Identifier">getSockOpt</span></a><span class="Other">(</span><span class="Identifier">socket</span><span class="Other">:</span> <a href="net.html#Socket"><span class="Identifier">Socket</span></a><span class="Other">;</span> <span class="Identifier">opt</span><span class="Other">:</span> <a href="net.html#SOBool"><span class="Identifier">SOBool</span></a><span class="Other">;</span> <span class="Identifier">level</span> <span class="Other">=</span> <span class="Identifier">SOL_SOCKET</span><span class="Other">)</span><span class="Other">:</span> <a href="system.html#bool"><span class="Identifier">bool</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><a href="system.html#ReadIOEffect"><span class="Identifier">ReadIOEffect</span></a><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">OSError</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Retrieves option <tt class="docutils literal"><span class="pre">opt</span></tt> as a boolean value.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L1038"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L1038" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="getLocalAddr,Socket"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#getLocalAddr%2CSocket"><span class="Identifier">getLocalAddr</span></a><span class="Other">(</span><span class="Identifier">socket</span><span class="Other">:</span> <a href="net.html#Socket"><span class="Identifier">Socket</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Other">(</span><a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">,</span> <a href="nativesockets.html#Port"><span class="Identifier">Port</span></a><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">OSError</span><span class="Other">,</span> <span class="Identifier">Exception</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Get the socket's local address and port number.</p>
<p>This is high-level interface for <span id="getsockname_1">getsockname</span>.</p>

&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L1044"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L1044" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="getPeerAddr,Socket"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#getPeerAddr%2CSocket"><span class="Identifier">getPeerAddr</span></a><span class="Other">(</span><span class="Identifier">socket</span><span class="Other">:</span> <a href="net.html#Socket"><span class="Identifier">Socket</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Other">(</span><a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">,</span> <a href="nativesockets.html#Port"><span class="Identifier">Port</span></a><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">OSError</span><span class="Other">,</span> <span class="Identifier">Exception</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Get the socket's peer address and port number.</p>
<p>This is high-level interface for <span id="getpeername_1">getpeername</span>.</p>

&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L1050"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L1050" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="setSockOpt,Socket,SOBool,bool"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#setSockOpt%2CSocket%2CSOBool%2Cbool"><span class="Identifier">setSockOpt</span></a><span class="Other">(</span><span class="Identifier">socket</span><span class="Other">:</span> <a href="net.html#Socket"><span class="Identifier">Socket</span></a><span class="Other">;</span> <span class="Identifier">opt</span><span class="Other">:</span> <a href="net.html#SOBool"><span class="Identifier">SOBool</span></a><span class="Other">;</span> <span class="Identifier">value</span><span class="Other">:</span> <a href="system.html#bool"><span class="Identifier">bool</span></a><span class="Other">;</span> <span class="Identifier">level</span> <span class="Other">=</span> <span class="Identifier">SOL_SOCKET</span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><a href="system.html#WriteIOEffect"><span class="Identifier">WriteIOEffect</span></a><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">OSError</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Sets option <tt class="docutils literal"><span class="pre">opt</span></tt> to a boolean value specified by <tt class="docutils literal"><span class="pre">value</span></tt>.<pre class="listing"><span class="Keyword">var</span> <span class="Identifier">socket</span> <span class="Operator">=</span> <span class="Identifier">newSocket</span><span class="Punctuation">(</span><span class="Punctuation">)</span>
<span class="Identifier">socket</span><span class="Operator">.</span><span class="Identifier">setSockOpt</span><span class="Punctuation">(</span><span class="Identifier">OptReusePort</span><span class="Punctuation">,</span> <span class="Identifier">true</span><span class="Punctuation">)</span>
<span class="Identifier">socket</span><span class="Operator">.</span><span class="Identifier">setSockOpt</span><span class="Punctuation">(</span><span class="Identifier">OptNoDelay</span><span class="Punctuation">,</span> <span class="Identifier">true</span><span class="Punctuation">,</span> <span class="Identifier">level</span><span class="Operator">=</span><span class="Identifier">IPPROTO_TCP</span><span class="Operator">.</span><span class="Identifier">toInt</span><span class="Punctuation">)</span></pre>
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L1056"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L1056" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="connectUnix,Socket,string"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#connectUnix%2CSocket%2Cstring"><span class="Identifier">connectUnix</span></a><span class="Other">(</span><span class="Identifier">socket</span><span class="Other">:</span> <a href="net.html#Socket"><span class="Identifier">Socket</span></a><span class="Other">;</span> <span class="Identifier">path</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Connects to Unix socket on <tt class="docutils literal"><span class="pre">path</span></tt>. This only works on Unix-style systems: Mac OS X, BSD and Linux
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L1069"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L1069" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="bindUnix,Socket,string"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#bindUnix%2CSocket%2Cstring"><span class="Identifier">bindUnix</span></a><span class="Other">(</span><span class="Identifier">socket</span><span class="Other">:</span> <a href="net.html#Socket"><span class="Identifier">Socket</span></a><span class="Other">;</span> <span class="Identifier">path</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Binds Unix socket to <tt class="docutils literal"><span class="pre">path</span></tt>. This only works on Unix-style systems: Mac OS X, BSD and Linux
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L1078"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L1078" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="hasDataBuffered,Socket"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#hasDataBuffered%2CSocket"><span class="Identifier">hasDataBuffered</span></a><span class="Other">(</span><span class="Identifier">s</span><span class="Other">:</span> <a href="net.html#Socket"><span class="Identifier">Socket</span></a><span class="Other">)</span><span class="Other">:</span> <a href="system.html#bool"><span class="Identifier">bool</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Determines whether a socket has data buffered.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L1098"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L1098" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="recv,Socket,pointer,int"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#recv%2CSocket%2Cpointer%2Cint"><span class="Identifier">recv</span></a><span class="Other">(</span><span class="Identifier">socket</span><span class="Other">:</span> <a href="net.html#Socket"><span class="Identifier">Socket</span></a><span class="Other">;</span> <span class="Identifier">data</span><span class="Other">:</span> <a href="system.html#pointer"><span class="Identifier">pointer</span></a><span class="Other">;</span> <span class="Identifier">size</span><span class="Other">:</span> <a href="system.html#int"><span class="Identifier">int</span></a><span class="Other">)</span><span class="Other">:</span> <a href="system.html#int"><span class="Identifier">int</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><a href="system.html#ReadIOEffect"><span class="Identifier">ReadIOEffect</span></a><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Receives data from a socket.</p>
<p><strong>Note</strong>: This is a low-level function, you may be interested in the higher level versions of this function which are also named <tt class="docutils literal"><span class="pre">recv</span></tt>.</p>

&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L1154"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L1154" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="recv,Socket,pointer,int,int"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#recv%2CSocket%2Cpointer%2Cint%2Cint"><span class="Identifier">recv</span></a><span class="Other">(</span><span class="Identifier">socket</span><span class="Other">:</span> <a href="net.html#Socket"><span class="Identifier">Socket</span></a><span class="Other">;</span> <span class="Identifier">data</span><span class="Other">:</span> <a href="system.html#pointer"><span class="Identifier">pointer</span></a><span class="Other">;</span> <span class="Identifier">size</span><span class="Other">:</span> <a href="system.html#int"><span class="Identifier">int</span></a><span class="Other">;</span> <span class="Identifier">timeout</span><span class="Other">:</span> <a href="system.html#int"><span class="Identifier">int</span></a><span class="Other">)</span><span class="Other">:</span> <a href="system.html#int"><span class="Identifier">int</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><a href="system.html#ReadIOEffect"><span class="Identifier">ReadIOEffect</span></a><span class="Other">,</span> <a href="system.html#TimeEffect"><span class="Identifier">TimeEffect</span></a><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">TimeoutError</span><span class="Other">,</span> <span class="Identifier">OSError</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

overload with a <tt class="docutils literal"><span class="pre">timeout</span></tt> parameter in milliseconds.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L1234"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L1234" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="recv,Socket,string,int"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#recv%2CSocket%2Cstring%2Cint"><span class="Identifier">recv</span></a><span class="Other">(</span><span class="Identifier">socket</span><span class="Other">:</span> <a href="net.html#Socket"><span class="Identifier">Socket</span></a><span class="Other">;</span> <span class="Identifier">data</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">;</span> <span class="Identifier">size</span><span class="Other">:</span> <a href="system.html#int"><span class="Identifier">int</span></a><span class="Other">;</span> <span class="Identifier">timeout</span> <span class="Other">=</span> <span class="Operator">-</span><span class="DecNumber">1</span><span class="Other">;</span>
          <span class="Identifier">flags</span> <span class="Other">=</span> <span class="Other">{</span><span class="Identifier">SafeDisconn</span><span class="Other">}</span><span class="Other">)</span><span class="Other">:</span> <a href="system.html#int"><span class="Identifier">int</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">TimeoutError</span><span class="Other">,</span> <span class="Identifier">OSError</span><span class="Other">,</span> <span class="Identifier">SslError</span><span class="Other">]</span><span class="Other">,</span>
                                        <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ReadIOEffect</span><span class="Other">,</span> <span class="Identifier">TimeEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Higher-level version of <tt class="docutils literal"><span class="pre">recv</span></tt>.</p>
<p>Reads <strong>up to</strong> <tt class="docutils literal"><span class="pre">size</span></tt> bytes from <tt class="docutils literal"><span class="pre">socket</span></tt> into <tt class="docutils literal"><span class="pre">buf</span></tt>.</p>
<p>For buffered sockets this function will attempt to read all the requested data. It will read this data in <tt class="docutils literal"><span class="pre">BufferSize</span></tt> chunks.</p>
<p>For unbuffered sockets this function makes no effort to read all the data requested. It will return as much data as the operating system gives it.</p>
<p>When 0 is returned the socket's connection has been closed.</p>
<p>This function will throw an OSError exception when an error occurs. A value lower than 0 is never returned.</p>
<p>A timeout may be specified in milliseconds, if enough data is not received within the time specified a TimeoutError exception will be raised.</p>
<p><strong>Note</strong>: <tt class="docutils literal"><span class="pre">data</span></tt> must be initialised.</p>
<p><strong>Warning</strong>: Only the <tt class="docutils literal"><span class="pre">SafeDisconn</span></tt> flag is currently supported.</p>

&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L1252"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L1252" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="recv,Socket,int"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#recv%2CSocket%2Cint"><span class="Identifier">recv</span></a><span class="Other">(</span><span class="Identifier">socket</span><span class="Other">:</span> <a href="net.html#Socket"><span class="Identifier">Socket</span></a><span class="Other">;</span> <span class="Identifier">size</span><span class="Other">:</span> <a href="system.html#int"><span class="Identifier">int</span></a><span class="Other">;</span> <span class="Identifier">timeout</span> <span class="Other">=</span> <span class="Operator">-</span><span class="DecNumber">1</span><span class="Other">;</span> <span class="Identifier">flags</span> <span class="Other">=</span> <span class="Other">{</span><span class="Identifier">SafeDisconn</span><span class="Other">}</span><span class="Other">)</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">TimeoutError</span><span class="Other">,</span> <span class="Identifier">OSError</span><span class="Other">,</span> <span class="Identifier">SslError</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ReadIOEffect</span><span class="Other">,</span> <span class="Identifier">TimeEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Higher-level version of <tt class="docutils literal"><span class="pre">recv</span></tt> which returns a string.</p>
<p>Reads <strong>up to</strong> <tt class="docutils literal"><span class="pre">size</span></tt> bytes from <tt class="docutils literal"><span class="pre">socket</span></tt> into <tt class="docutils literal"><span class="pre">buf</span></tt>.</p>
<p>For buffered sockets this function will attempt to read all the requested data. It will read this data in <tt class="docutils literal"><span class="pre">BufferSize</span></tt> chunks.</p>
<p>For unbuffered sockets this function makes no effort to read all the data requested. It will return as much data as the operating system gives it.</p>
<p>When <tt class="docutils literal"><span class="pre">&quot;&quot;</span></tt> is returned the socket's connection has been closed.</p>
<p>This function will throw an OSError exception when an error occurs.</p>
<p>A timeout may be specified in milliseconds, if enough data is not received within the time specified a TimeoutError exception will be raised.</p>
<p><strong>Warning</strong>: Only the <tt class="docutils literal"><span class="pre">SafeDisconn</span></tt> flag is currently supported.</p>

&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L1289"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L1289" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="readLine,Socket,TaintedString"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#readLine%2CSocket%2CTaintedString"><span class="Identifier">readLine</span></a><span class="Other">(</span><span class="Identifier">socket</span><span class="Other">:</span> <a href="net.html#Socket"><span class="Identifier">Socket</span></a><span class="Other">;</span> <span class="Identifier">line</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="system.html#TaintedString"><span class="Identifier">TaintedString</span></a><span class="Other">;</span> <span class="Identifier">timeout</span> <span class="Other">=</span> <span class="Operator">-</span><span class="DecNumber">1</span><span class="Other">;</span>
              <span class="Identifier">flags</span> <span class="Other">=</span> <span class="Other">{</span><span class="Identifier">SafeDisconn</span><span class="Other">}</span><span class="Other">;</span> <span class="Identifier">maxLength</span> <span class="Other">=</span> <span class="Identifier">MaxLineLength</span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><a href="system.html#ReadIOEffect"><span class="Identifier">ReadIOEffect</span></a><span class="Other">,</span> <a href="system.html#TimeEffect"><span class="Identifier">TimeEffect</span></a><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">TimeoutError</span><span class="Other">,</span> <span class="Identifier">OSError</span><span class="Other">,</span> <span class="Identifier">SslError</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Reads a line of data from <tt class="docutils literal"><span class="pre">socket</span></tt>.</p>
<p>If a full line is read <tt class="docutils literal"><span class="pre">\r\L</span></tt> is not added to <tt class="docutils literal"><span class="pre">line</span></tt>, however if solely <tt class="docutils literal"><span class="pre">\r\L</span></tt> is read then <tt class="docutils literal"><span class="pre">line</span></tt> will be set to it.</p>
<p>If the socket is disconnected, <tt class="docutils literal"><span class="pre">line</span></tt> will be set to <tt class="docutils literal"><span class="pre">&quot;&quot;</span></tt>.</p>
<p>An OSError exception will be raised in the case of a socket error.</p>
<p>A timeout can be specified in milliseconds, if data is not received within the specified time a TimeoutError exception will be raised.</p>
<p>The <tt class="docutils literal"><span class="pre">maxLength</span></tt> parameter determines the maximum amount of characters that can be read. The result is truncated after that.</p>
<p><strong>Warning</strong>: Only the <tt class="docutils literal"><span class="pre">SafeDisconn</span></tt> flag is currently supported.</p>

&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L1334"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L1334" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="recvLine,Socket"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#recvLine%2CSocket"><span class="Identifier">recvLine</span></a><span class="Other">(</span><span class="Identifier">socket</span><span class="Other">:</span> <a href="net.html#Socket"><span class="Identifier">Socket</span></a><span class="Other">;</span> <span class="Identifier">timeout</span> <span class="Other">=</span> <span class="Operator">-</span><span class="DecNumber">1</span><span class="Other">;</span> <span class="Identifier">flags</span> <span class="Other">=</span> <span class="Other">{</span><span class="Identifier">SafeDisconn</span><span class="Other">}</span><span class="Other">;</span>
              <span class="Identifier">maxLength</span> <span class="Other">=</span> <span class="Identifier">MaxLineLength</span><span class="Other">)</span><span class="Other">:</span> <a href="system.html#TaintedString"><span class="Identifier">TaintedString</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">TimeoutError</span><span class="Other">,</span> <span class="Identifier">OSError</span><span class="Other">,</span> <span class="Identifier">SslError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ReadIOEffect</span><span class="Other">,</span> <span class="Identifier">TimeEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Reads a line of data from <tt class="docutils literal"><span class="pre">socket</span></tt>.</p>
<p>If a full line is read <tt class="docutils literal"><span class="pre">\r\L</span></tt> is not added to the result, however if solely <tt class="docutils literal"><span class="pre">\r\L</span></tt> is read then the result will be set to it.</p>
<p>If the socket is disconnected, the result will be set to <tt class="docutils literal"><span class="pre">&quot;&quot;</span></tt>.</p>
<p>An OSError exception will be raised in the case of a socket error.</p>
<p>A timeout can be specified in milliseconds, if data is not received within the specified time a TimeoutError exception will be raised.</p>
<p>The <tt class="docutils literal"><span class="pre">maxLength</span></tt> parameter determines the maximum amount of characters that can be read. The result is truncated after that.</p>
<p><strong>Warning</strong>: Only the <tt class="docutils literal"><span class="pre">SafeDisconn</span></tt> flag is currently supported.</p>

&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L1389"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L1389" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="recvFrom,Socket,string,int,string,Port,int32"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#recvFrom%2CSocket%2Cstring%2Cint%2Cstring%2CPort%2Cint32"><span class="Identifier">recvFrom</span></a><span class="Other">(</span><span class="Identifier">socket</span><span class="Other">:</span> <a href="net.html#Socket"><span class="Identifier">Socket</span></a><span class="Other">;</span> <span class="Identifier">data</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">;</span> <span class="Identifier">length</span><span class="Other">:</span> <a href="system.html#int"><span class="Identifier">int</span></a><span class="Other">;</span>
              <span class="Identifier">address</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">;</span> <span class="Identifier">port</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="nativesockets.html#Port"><span class="Identifier">Port</span></a><span class="Other">;</span> <span class="Identifier">flags</span> <span class="Other">=</span> <span class="DecNumber">0'i32</span><span class="Other">)</span><span class="Other">:</span> <a href="system.html#int"><span class="Identifier">int</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><a href="system.html#ReadIOEffect"><span class="Identifier">ReadIOEffect</span></a><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">OSError</span><span class="Other">,</span> <span class="Identifier">IOError</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Receives data from <tt class="docutils literal"><span class="pre">socket</span></tt>. This function should normally be used with connection-less sockets (UDP sockets).</p>
<p>If an error occurs an OSError exception will be raised. Otherwise the return value will be the length of data received.</p>
<p><strong>Warning:</strong> This function does not yet have a buffered implementation, so when <tt class="docutils literal"><span class="pre">socket</span></tt> is buffered the non-buffered implementation will be used. Therefore if <tt class="docutils literal"><span class="pre">socket</span></tt> contains something in its buffer this function will make no effort to return it.</p>

&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L1412"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L1412" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="skip,Socket,int"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#skip%2CSocket%2Cint"><span class="Identifier">skip</span></a><span class="Other">(</span><span class="Identifier">socket</span><span class="Other">:</span> <a href="net.html#Socket"><span class="Identifier">Socket</span></a><span class="Other">;</span> <span class="Identifier">size</span><span class="Other">:</span> <a href="system.html#int"><span class="Identifier">int</span></a><span class="Other">;</span> <span class="Identifier">timeout</span> <span class="Other">=</span> <span class="Operator">-</span><span class="DecNumber">1</span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">TimeoutError</span><span class="Other">,</span> <span class="Identifier">OSError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">TimeEffect</span><span class="Other">,</span> <span class="Identifier">ReadIOEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Skips <tt class="docutils literal"><span class="pre">size</span></tt> amount of bytes.</p>
<p>An optional timeout can be specified in milliseconds, if skipping the bytes takes longer than specified a TimeoutError exception will be raised.</p>
<p>Returns the number of skipped bytes.</p>

&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L1441"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L1441" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="send,Socket,pointer,int"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#send%2CSocket%2Cpointer%2Cint"><span class="Identifier">send</span></a><span class="Other">(</span><span class="Identifier">socket</span><span class="Other">:</span> <a href="net.html#Socket"><span class="Identifier">Socket</span></a><span class="Other">;</span> <span class="Identifier">data</span><span class="Other">:</span> <a href="system.html#pointer"><span class="Identifier">pointer</span></a><span class="Other">;</span> <span class="Identifier">size</span><span class="Other">:</span> <a href="system.html#int"><span class="Identifier">int</span></a><span class="Other">)</span><span class="Other">:</span> <a href="system.html#int"><span class="Identifier">int</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><a href="system.html#WriteIOEffect"><span class="Identifier">WriteIOEffect</span></a><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Sends data to a socket.</p>
<p><strong>Note</strong>: This is a low-level version of <tt class="docutils literal"><span class="pre">send</span></tt>. You likely should use the version below.</p>

&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L1456"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L1456" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="send,Socket,string"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#send%2CSocket%2Cstring"><span class="Identifier">send</span></a><span class="Other">(</span><span class="Identifier">socket</span><span class="Other">:</span> <a href="net.html#Socket"><span class="Identifier">Socket</span></a><span class="Other">;</span> <span class="Identifier">data</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">;</span> <span class="Identifier">flags</span> <span class="Other">=</span> <span class="Other">{</span><span class="Identifier">SafeDisconn</span><span class="Other">}</span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><a href="system.html#WriteIOEffect"><span class="Identifier">WriteIOEffect</span></a><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">SslError</span><span class="Other">,</span> <span class="Identifier">OSError</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

sends data to a socket.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L1474"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L1474" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="trySend,Socket,string"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#trySend%2CSocket%2Cstring"><span class="Identifier">trySend</span></a><span class="Other">(</span><span class="Identifier">socket</span><span class="Other">:</span> <a href="net.html#Socket"><span class="Identifier">Socket</span></a><span class="Other">;</span> <span class="Identifier">data</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">)</span><span class="Other">:</span> <a href="system.html#bool"><span class="Identifier">bool</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><a href="system.html#WriteIOEffect"><span class="Identifier">WriteIOEffect</span></a><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Safe alternative to <tt class="docutils literal"><span class="pre">send</span></tt>. Does not raise an OSError when an error occurs, and instead returns <tt class="docutils literal"><span class="pre">false</span></tt> on failure.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L1490"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L1490" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="sendTo,Socket,string,Port,pointer,int,Domain,int32"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#sendTo%2CSocket%2Cstring%2CPort%2Cpointer%2Cint%2CDomain%2Cint32"><span class="Identifier">sendTo</span></a><span class="Other">(</span><span class="Identifier">socket</span><span class="Other">:</span> <a href="net.html#Socket"><span class="Identifier">Socket</span></a><span class="Other">;</span> <span class="Identifier">address</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">;</span> <span class="Identifier">port</span><span class="Other">:</span> <a href="nativesockets.html#Port"><span class="Identifier">Port</span></a><span class="Other">;</span> <span class="Identifier">data</span><span class="Other">:</span> <a href="system.html#pointer"><span class="Identifier">pointer</span></a><span class="Other">;</span>
            <span class="Identifier">size</span><span class="Other">:</span> <a href="system.html#int"><span class="Identifier">int</span></a><span class="Other">;</span> <span class="Identifier">af</span><span class="Other">:</span> <a href="nativesockets.html#Domain"><span class="Identifier">Domain</span></a> <span class="Other">=</span> <span class="Identifier">AF_INET</span><span class="Other">;</span> <span class="Identifier">flags</span> <span class="Other">=</span> <span class="DecNumber">0'i32</span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><a href="system.html#WriteIOEffect"><span class="Identifier">WriteIOEffect</span></a><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">OSError</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>This proc sends <tt class="docutils literal"><span class="pre">data</span></tt> to the specified <tt class="docutils literal"><span class="pre">address</span></tt>, which may be an IP address or a hostname, if a hostname is specified this function will try each IP of that hostname.</p>
<p>If an error occurs an OSError exception will be raised.</p>
<p><strong>Note:</strong> You may wish to use the high-level version of this function which is defined below.</p>
<p><strong>Note:</strong> This proc is not available for SSL sockets.</p>

&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L1495"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L1495" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="sendTo,Socket,string,Port,string"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#sendTo%2CSocket%2Cstring%2CPort%2Cstring"><span class="Identifier">sendTo</span></a><span class="Other">(</span><span class="Identifier">socket</span><span class="Other">:</span> <a href="net.html#Socket"><span class="Identifier">Socket</span></a><span class="Other">;</span> <span class="Identifier">address</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">;</span> <span class="Identifier">port</span><span class="Other">:</span> <a href="nativesockets.html#Port"><span class="Identifier">Port</span></a><span class="Other">;</span> <span class="Identifier">data</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><a href="system.html#WriteIOEffect"><span class="Identifier">WriteIOEffect</span></a><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">OSError</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>This proc sends <tt class="docutils literal"><span class="pre">data</span></tt> to the specified <tt class="docutils literal"><span class="pre">address</span></tt>, which may be an IP address or a hostname, if a hostname is specified this function will try each IP of that hostname.</p>
<p>If an error occurs an OSError exception will be raised.</p>
<p>This is the high-level version of the above <tt class="docutils literal"><span class="pre">sendTo</span></tt> function.</p>

&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L1529"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L1529" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="isSsl,Socket"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#isSsl%2CSocket"><span class="Identifier">isSsl</span></a><span class="Other">(</span><span class="Identifier">socket</span><span class="Other">:</span> <a href="net.html#Socket"><span class="Identifier">Socket</span></a><span class="Other">)</span><span class="Other">:</span> <a href="system.html#bool"><span class="Identifier">bool</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Determines whether <tt class="docutils literal"><span class="pre">socket</span></tt> is a SSL socket.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L1541"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L1541" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="getFd,Socket"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#getFd%2CSocket"><span class="Identifier">getFd</span></a><span class="Other">(</span><span class="Identifier">socket</span><span class="Other">:</span> <a href="net.html#Socket"><span class="Identifier">Socket</span></a><span class="Other">)</span><span class="Other">:</span> <a href="winlean.html#SocketHandle"><span class="Identifier">SocketHandle</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Returns the socket's file descriptor
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L1548"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L1548" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="IPv4_any"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#IPv4_any"><span class="Identifier">IPv4_any</span></a><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <a href="net.html#IpAddress"><span class="Identifier">IpAddress</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Returns the IPv4 any address, which can be used to listen on all available network adapters
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L1554"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L1554" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="IPv4_loopback"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#IPv4_loopback"><span class="Identifier">IPv4_loopback</span></a><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <a href="net.html#IpAddress"><span class="Identifier">IpAddress</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Returns the IPv4 loopback address (127.0.0.1)
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L1561"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L1561" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="IPv4_broadcast"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#IPv4_broadcast"><span class="Identifier">IPv4_broadcast</span></a><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <a href="net.html#IpAddress"><span class="Identifier">IpAddress</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Returns the IPv4 broadcast address (255.255.255.255)
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L1567"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L1567" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="IPv6_any"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#IPv6_any"><span class="Identifier">IPv6_any</span></a><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <a href="net.html#IpAddress"><span class="Identifier">IpAddress</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Returns the IPv6 any address (::0), which can be used to listen on all available network adapters
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L1573"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L1573" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="IPv6_loopback"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#IPv6_loopback"><span class="Identifier">IPv6_loopback</span></a><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <a href="net.html#IpAddress"><span class="Identifier">IpAddress</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Returns the IPv6 loopback address (::1)
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L1580"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L1580" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="==,IpAddress,IpAddress"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#%3D%3D%2CIpAddress%2CIpAddress"><span class="Identifier">`==`</span></a><span class="Other">(</span><span class="Identifier">lhs</span><span class="Other">,</span> <span class="Identifier">rhs</span><span class="Other">:</span> <a href="net.html#IpAddress"><span class="Identifier">IpAddress</span></a><span class="Other">)</span><span class="Other">:</span> <a href="system.html#bool"><span class="Identifier">bool</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Compares two IpAddresses for Equality. Returns true if the addresses are equal
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L1589"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L1589" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="$,IpAddress"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#%24%2CIpAddress"><span class="Identifier">`$`</span></a><span class="Other">(</span><span class="Identifier">address</span><span class="Other">:</span> <a href="net.html#IpAddress"><span class="Identifier">IpAddress</span></a><span class="Other">)</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Converts an IpAddress into the textual representation
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L1600"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L1600" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="dial,string,Port"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#dial%2Cstring%2CPort"><span class="Identifier">dial</span></a><span class="Other">(</span><span class="Identifier">address</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">;</span> <span class="Identifier">port</span><span class="Other">:</span> <a href="nativesockets.html#Port"><span class="Identifier">Port</span></a><span class="Other">;</span> <span class="Identifier">protocol</span> <span class="Other">=</span> <span class="Identifier">IPPROTO_TCP</span><span class="Other">;</span> <span class="Identifier">buffered</span> <span class="Other">=</span> <span class="Identifier">true</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">owned</span><span class="Other">(</span>
    <span class="Identifier">Socket</span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><a href="system.html#ReadIOEffect"><span class="Identifier">ReadIOEffect</span></a><span class="Other">,</span> <a href="system.html#WriteIOEffect"><span class="Identifier">WriteIOEffect</span></a><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">OSError</span><span class="Other">,</span> <span class="Identifier">IOError</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Establishes connection to the specified <tt class="docutils literal"><span class="pre">address</span></tt>:<tt class="docutils literal"><span class="pre">port</span></tt> pair via the specified protocol. The procedure iterates through possible resolutions of the <tt class="docutils literal"><span class="pre">address</span></tt> until it succeeds, meaning that it seamlessly works with both IPv4 and IPv6. Returns Socket ready to send or receive data.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L1660"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L1660" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="connect,Socket,string"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#connect%2CSocket%2Cstring"><span class="Identifier">connect</span></a><span class="Other">(</span><span class="Identifier">socket</span><span class="Other">:</span> <a href="net.html#Socket"><span class="Identifier">Socket</span></a><span class="Other">;</span> <span class="Identifier">address</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">;</span> <span class="Identifier">port</span> <span class="Other">=</span> <a href="nativesockets.html#Port"><span class="Identifier">Port</span></a><span class="Other">(</span><span class="DecNumber">0</span><span class="Other">)</span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><a href="system.html#ReadIOEffect"><span class="Identifier">ReadIOEffect</span></a><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">OSError</span><span class="Other">,</span> <span class="Identifier">SslError</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Connects socket to <tt class="docutils literal"><span class="pre">address</span></tt>:<tt class="docutils literal"><span class="pre">port</span></tt>. <tt class="docutils literal"><span class="pre">Address</span></tt> can be an IP address or a host name. If <tt class="docutils literal"><span class="pre">address</span></tt> is a host name, this function will try each IP of that host name. <tt class="docutils literal"><span class="pre">htons</span></tt> is already performed on <tt class="docutils literal"><span class="pre">port</span></tt> so you must not do it.</p>
<p>If <tt class="docutils literal"><span class="pre">socket</span></tt> is an SSL socket a handshake will be automatically performed.</p>

&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L1718"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L1718" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="connect,Socket,string,int"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#connect%2CSocket%2Cstring%2Cint"><span class="Identifier">connect</span></a><span class="Other">(</span><span class="Identifier">socket</span><span class="Other">:</span> <a href="net.html#Socket"><span class="Identifier">Socket</span></a><span class="Other">;</span> <span class="Identifier">address</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">;</span> <span class="Identifier">port</span> <span class="Other">=</span> <a href="nativesockets.html#Port"><span class="Identifier">Port</span></a><span class="Other">(</span><span class="DecNumber">0</span><span class="Other">)</span><span class="Other">;</span> <span class="Identifier">timeout</span><span class="Other">:</span> <a href="system.html#int"><span class="Identifier">int</span></a><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><a href="system.html#ReadIOEffect"><span class="Identifier">ReadIOEffect</span></a><span class="Other">,</span> <a href="system.html#WriteIOEffect"><span class="Identifier">WriteIOEffect</span></a><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">OSError</span><span class="Other">,</span> <span class="Identifier">TimeoutError</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Connects to server as specified by <tt class="docutils literal"><span class="pre">address</span></tt> on port specified by <tt class="docutils literal"><span class="pre">port</span></tt>.</p>
<p>The <tt class="docutils literal"><span class="pre">timeout</span></tt> parameter specifies the time in milliseconds to allow for the connection to the server to be made.</p>

&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L1792"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L1792" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="getPrimaryIPAddr"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#getPrimaryIPAddr"><span class="Identifier">getPrimaryIPAddr</span></a><span class="Other">(</span><span class="Identifier">dest</span> <span class="Other">=</span> <span class="Identifier">parseIpAddress</span><span class="Other">(</span><span class="StringLit">&quot;8.8.8.8&quot;</span><span class="Other">)</span><span class="Other">)</span><span class="Other">:</span> <a href="net.html#IpAddress"><span class="Identifier">IpAddress</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">OSError</span><span class="Other">,</span> <span class="Identifier">SslError</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">,</span> <span class="Identifier">Exception</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ReadIOEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Finds the local IP address, usually assigned to eth0 on LAN or wlan0 on WiFi, used to reach an external address. Useful to run local services.</p>
<p>No traffic is sent.</p>
<p>Supports IPv4 and v6. Raises OSError if external networking is not set up.</p>
<pre class="listing"><span class="Identifier">echo</span> <span class="Operator">$</span><span class="Identifier">getPrimaryIPAddr</span><span class="Punctuation">(</span><span class="Punctuation">)</span>  <span class="Comment"># &quot;192.168.1.2&quot;</span></pre>
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L1814"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L1814" class="link-seesrc" target="_blank" >Edit</a>

</dd>

</dl></div>
<div class="section" id="18">
<h1><a class="toc-backref" href="#18">Templates</a></h1>
<dl class="item">
<a id="&=.t,Socket,typed"></a>
<dt><pre><span class="Keyword">template</span> <a href="#%26%3D.t%2CSocket%2Ctyped"><span class="Identifier">`&amp;=`</span></a><span class="Other">(</span><span class="Identifier">socket</span><span class="Other">:</span> <a href="net.html#Socket"><span class="Identifier">Socket</span></a><span class="Other">;</span> <span class="Identifier">data</span><span class="Other">:</span> <a href="system.html#typed"><span class="Identifier">typed</span></a><span class="Other">)</span></pre></dt>
<dd>

an alias for 'send'.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/version-1-2/lib/pure/net.nim#L1486"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/net.nim#L1486" class="link-seesrc" target="_blank" >Edit</a>

</dd>

</dl></div>
<div class="section" id="19">
<h1><a class="toc-backref" href="#19">Exports</a></h1>
<dl class="item">
<a href="nativesockets.html#Port"><span class="Identifier">Port</span></a>, <a href="nativesockets.html#$"><span class="Identifier">$</span></a>, <a href="system.html#=="><span class="Identifier">==</span></a>, <a href="os.html#=="><span class="Identifier">==</span></a>, <a href="winlean.html#=="><span class="Identifier">==</span></a>, <a href="system.html#=="><span class="Identifier">==</span></a>, <a href="system.html#=="><span class="Identifier">==</span></a>, <a href="system.html#=="><span class="Identifier">==</span></a>, <a href="options.html#=="><span class="Identifier">==</span></a>, <a href="system.html#=="><span class="Identifier">==</span></a>, <a href="system.html#=="><span class="Identifier">==</span></a>, <a href="system.html#=="><span class="Identifier">==</span></a>, <a href="system.html#=="><span class="Identifier">==</span></a>, <a href="system.html#=="><span class="Identifier">==</span></a>, <a href="system.html#=="><span class="Identifier">==</span></a>, <a href="system.html#=="><span class="Identifier">==</span></a>, <a href="system.html#=="><span class="Identifier">==</span></a>, <a href="system.html#=="><span class="Identifier">==</span></a>, <a href="system.html#=="><span class="Identifier">==</span></a>, <a href="system.html#=="><span class="Identifier">==</span></a>, <a href="system.html#=="><span class="Identifier">==</span></a>, <a href="system.html#=="><span class="Identifier">==</span></a>, <a href="system.html#=="><span class="Identifier">==</span></a>, <a href="system.html#=="><span class="Identifier">==</span></a>, <a href="system.html#=="><span class="Identifier">==</span></a>, <a href="system.html#=="><span class="Identifier">==</span></a>, <a href="system.html#=="><span class="Identifier">==</span></a>, <a href="system.html#=="><span class="Identifier">==</span></a>, <a href="system.html#=="><span class="Identifier">==</span></a>, <a href="system.html#=="><span class="Identifier">==</span></a>, <a href="system.html#=="><span class="Identifier">==</span></a>, <a href="nativesockets.html#=="><span class="Identifier">==</span></a>, <a href="nativesockets.html#Domain"><span class="Identifier">Domain</span></a>, <a href="nativesockets.html#SockType"><span class="Identifier">SockType</span></a>, <a href="nativesockets.html#Protocol"><span class="Identifier">Protocol</span></a>
</dl></div>

  </div>
</div>

    <div class="row">
      <div class="twelve-columns footer">
        <span class="nim-sprite"></span>
        <br/>
        <small style="color: var(--hint);">Made with Nim. Generated: 2021-11-08 00:57:13 UTC</small>
      </div>
    </div>
  </div>
</div>

</body>
</html>
