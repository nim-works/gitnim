<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--  This file is generated by Nim. -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Favicon -->
<link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAUAAAAF////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAIAAABbAAAAlQAAAKIAAACbAAAAmwAAAKIAAACVAAAAWwAAAAL///8A////AP///wD///8A////AAAAABQAAADAAAAAYwAAAA3///8A////AP///wD///8AAAAADQAAAGMAAADAAAAAFP///wD///8A////AP///wAAAACdAAAAOv///wD///8A////AP///wD///8A////AP///wD///8AAAAAOgAAAJ3///8A////AP///wAAAAAnAAAAcP///wAAAAAoAAAASv///wD///8A////AP///wAAAABKAAAAKP///wAAAABwAAAAJ////wD///8AAAAAgQAAABwAAACIAAAAkAAAAJMAAACtAAAAFQAAABUAAACtAAAAkwAAAJAAAACIAAAAHAAAAIH///8A////AAAAAKQAAACrAAAAaP///wD///8AAAAARQAAANIAAADSAAAARf///wD///8AAAAAaAAAAKsAAACk////AAAAADMAAACcAAAAnQAAABj///8A////AP///wAAAAAYAAAAGP///wD///8A////AAAAABgAAACdAAAAnAAAADMAAAB1AAAAwwAAAP8AAADpAAAAsQAAAE4AAAAb////AP///wAAAAAbAAAATgAAALEAAADpAAAA/wAAAMMAAAB1AAAAtwAAAOkAAAD/AAAA/wAAAP8AAADvAAAA3gAAAN4AAADeAAAA3gAAAO8AAAD/AAAA/wAAAP8AAADpAAAAtwAAAGUAAAA/AAAA3wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADfAAAAPwAAAGX///8A////AAAAAEgAAADtAAAAvwAAAL0AAADGAAAA7wAAAO8AAADGAAAAvQAAAL8AAADtAAAASP///wD///8A////AP///wD///8AAAAAO////wD///8A////AAAAAIcAAACH////AP///wD///8AAAAAO////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A//8AAP//AAD4HwAA7/cAAN/7AAD//wAAoYUAAJ55AACf+QAAh+EAAAAAAADAAwAA4AcAAP5/AAD//wAA//8AAA=="/>
<link rel="icon" type="image/png" sizes="32x32" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4QQQEwksSS9ZWwAAAk1JREFUWMPtll2ITVEUx39nn/O7Y5qR8f05wtCUUr6ZIS++8pEnkZInPImneaCQ5METNdOkeFBKUhMPRIkHKfEuUZSUlGlKPN2TrgfncpvmnntnmlEyq1Z7t89/rf9a6+y99oZxGZf/XeIq61EdtgKXgdXA0xrYAvBjOIF1AI9zvjcC74BSpndrJPkBWDScTF8Aa4E3wDlgHbASaANmVqlcCnwHvgDvgVfAJ+AikAAvgfVZwLnSVZHZaOuKoQi3ZOMi4NkYkpe1p4J7A8BpYAD49hfIy/oqG0+hLomiKP2L5L+1ubn5115S+3OAn4EnwBlgMzCjyt6ZAnQCJ4A7wOs88iRJHvw50HoujuPBoCKwHWiosy8MdfZnAdcHk8dxXFJ3VQbQlCTJvRBCGdRbD4M6uc5glpY3eAihpN5S5w12diSEcCCEcKUO4ljdr15T76ur1FDDLIQQ3qv71EdDOe3Kxj3leRXyk+pxdWnFWod6Wt2bY3de3aSuUHcPBVimHs7mK9WrmeOF6lR1o9qnzskh2ar2qm1qizpfXaPeVGdlmGN5pb09qMxz1Xb1kLqgzn1RyH7JUXW52lr5e/Kqi9qpto7V1atuUzfnARrV7jEib1T76gG2qxdGmXyiekkt1GswPTtek0aBfJp6YySGBfWg2tPQ0FAYgf1stUfdmdcjarbYJEniKIq6gY/Aw+zWHAC+p2labGpqiorFYgGYCEzN7oQdQClN07O1/EfDyGgC0ALMBdYAi4FyK+4H3gLPsxfR1zRNi+NP7nH5J+QntnXe5B5mpfQAAAAASUVORK5CYII=">

<!-- Google fonts -->
<link href='https://fonts.googleapis.com/css?family=Lato:400,600,900' rel='stylesheet' type='text/css'/>
<link href='https://fonts.googleapis.com/css?family=Source+Code+Pro:400,500,600' rel='stylesheet' type='text/css'/>

<!-- CSS -->
<title>pegs</title>
<link rel="stylesheet" type="text/css" href="nimdoc.out.css">

<script type="text/javascript" src="dochack.js"></script>

<script type="text/javascript">
function main() {
  var pragmaDots = document.getElementsByClassName("pragmadots");
  for (var i = 0; i < pragmaDots.length; i++) {
    pragmaDots[i].onclick = function(event) {
      // Hide tease
      event.target.parentNode.style.display = "none";
      // Show actual
      event.target.parentNode.nextElementSibling.style.display = "inline";
    }
  }

  const toggleSwitch = document.querySelector('.theme-switch input[type="checkbox"]');
  function switchTheme(e) {
      if (e.target.checked) {
          document.documentElement.setAttribute('data-theme', 'dark');
          localStorage.setItem('theme', 'dark');
      } else {
          document.documentElement.setAttribute('data-theme', 'light');
          localStorage.setItem('theme', 'light');
      }
  }

  toggleSwitch.addEventListener('change', switchTheme, false);


  if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
    document.documentElement.setAttribute('data-theme', "dark");
    toggleSwitch.checked = true;
  } else if (window.matchMedia && window.matchMedia('(prefers-color-scheme: light)').matches) {
    document.documentElement.setAttribute('data-theme', "light");
    toggleSwitch.checked = false;
  } else {
    const currentTheme = localStorage.getItem('theme') ? localStorage.getItem('theme') : null;
    if (currentTheme) {
      document.documentElement.setAttribute('data-theme', currentTheme);

      if (currentTheme === 'dark') {
        toggleSwitch.checked = true;
      }
    }
  }
}
</script>

</head>
<body onload="main()">
<div class="document" id="documentId">
  <div class="container">
    <h1 class="title">pegs</h1>
    <div class="row">
  <div class="three columns">
  <div class="theme-switch-wrapper">
    <label class="theme-switch" for="checkbox">
      <input type="checkbox" id="checkbox" />
      <div class="slider round"></div>
    </label>
    &nbsp;&nbsp;&nbsp; <em>Dark Mode</em>
  </div>
  <div id="global-links">
    <ul class="simple-boot">
      <li>
        <a href="manual.html">Manual</a>
      </li>
      <li>
        <a href="lib.html">Standard library</a>
      </li>
      <li>
        <a href="theindex.html">Index</a>
      </li>
      <li>
        <a href="compiler/theindex.html">Compiler docs</a>
      </li>
    </ul>
  </div>
  <div id="searchInputDiv">
    Search: <input type="text" id="searchInput"
      onkeyup="search()" />
  </div>
  
  <ul class="simple simple-toc" id="toc-list">
<li><a class="reference" id="peg-syntax-and-semantics_toc" href="#peg-syntax-and-semantics">PEG syntax and semantics</a></li>
<ul class="simple"><li><a class="reference" id="peg-syntax-and-semantics-builtminusin-macros_toc" href="#peg-syntax-and-semantics-builtminusin-macros">Built-in macros</a></li>
<li><a class="reference" id="peg-syntax-and-semantics-supported-peg-grammar_toc" href="#peg-syntax-and-semantics-supported-peg-grammar">Supported PEG grammar</a></li>
<li><a class="reference" id="peg-syntax-and-semantics-examples_toc" href="#peg-syntax-and-semantics-examples">Examples</a></li>
<li><a class="reference" id="peg-syntax-and-semantics-peg-vs-regular-expression_toc" href="#peg-syntax-and-semantics-peg-vs-regular-expression">PEG vs regular expression</a></li>
<li><a class="reference" id="peg-syntax-and-semantics-peg-construction_toc" href="#peg-syntax-and-semantics-peg-construction">PEG construction</a></li>
</ul><li>
  <a class="reference reference-toplevel" href="#6" id="56">Imports</a>
  <ul class="simple simple-toc-section">
    
  </ul>
</li>
<li>
  <a class="reference reference-toplevel" href="#7" id="57">Types</a>
  <ul class="simple simple-toc-section">
      <li><a class="reference" href="#PegKind"
    title="PegKind = enum
  pkEmpty, pkAny, pkAnyRune, pkNewLine, pkLetter, pkLower, pkUpper, pkTitle,
  pkWhitespace, pkTerminal, pkTerminalIgnoreCase, pkTerminalIgnoreStyle, pkChar,
  pkCharChoice, pkNonTerminal, pkSequence, pkOrderedChoice, pkGreedyRep,
  pkGreedyRepChar, pkGreedyRepSet, pkGreedyAny, pkOption, pkAndPredicate,
  pkNotPredicate, pkCapture, pkBackRef, pkBackRefIgnoreCase, pkBackRefIgnoreStyle,
  pkSearch, pkCapturedSearch, pkRule, pkList, pkStartAnchor"><wbr />Peg<wbr />Kind<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#NonTerminalFlag"
    title="NonTerminalFlag = enum
  ntDeclared, ntUsed"><wbr />Non<wbr />Terminal<wbr />Flag<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#Peg"
    title="Peg {.shallow.} = object
  case kind: PegKind
  of pkEmpty .. pkWhitespace:
    nil
  of pkTerminal, pkTerminalIgnoreCase, pkTerminalIgnoreStyle:
    term: string
  of pkChar, pkGreedyRepChar:
    ch: char
  of pkCharChoice, pkGreedyRepSet:
    charChoice: ref set[char]
  of pkNonTerminal:
    nt: NonTerminal
  of pkBackRef .. pkBackRefIgnoreStyle:
    index: range[0 .. MaxSubpatterns]
  else:
    sons: seq[Peg]"><wbr />Peg<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#NonTerminal"
    title="NonTerminal = ref NonTerminalObj"><wbr />Non<wbr />Terminal<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#Captures"
    title="Captures = object
  matches: array[0 .. 20 - 1, tuple[first, last: int]]
  ml: int
  origStart: int"><wbr />Captures<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#EInvalidPeg"
    title="EInvalidPeg = object of ValueError"><wbr />EInvalid<wbr />Peg<span class="attachedType"></span></a></li>

  </ul>
</li>
<li>
  <a class="reference reference-toplevel" href="#10" id="60">Consts</a>
  <ul class="simple simple-toc-section">
      <li><a class="reference" href="#MaxSubpatterns"
    title="MaxSubpatterns = 20"><wbr />Max<wbr />Subpatterns<span class="attachedType"></span></a></li>

  </ul>
</li>
<li>
  <a class="reference reference-toplevel" href="#12" id="62">Procs</a>
  <ul class="simple simple-toc-section">
      <li><a class="reference" href="#kind%2CPeg"
    title="kind(p: Peg): PegKind"><wbr />kind<span class="attachedType">PegKind</span></a></li>
  <li><a class="reference" href="#term%2CPeg"
    title="term(p: Peg): string"><wbr />term<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#ch%2CPeg"
    title="ch(p: Peg): char"><wbr />ch<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#charChoice%2CPeg"
    title="charChoice(p: Peg): ref set[char]"><wbr />char<wbr />Choice<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#nt%2CPeg"
    title="nt(p: Peg): NonTerminal"><wbr />nt<span class="attachedType">NonTerminal</span></a></li>
  <li><a class="reference" href="#index%2CPeg"
    title="index(p: Peg): range[0 .. MaxSubpatterns]"><wbr />index<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#name%2CNonTerminal"
    title="name(nt: NonTerminal): string"><wbr />name<span class="attachedType">NonTerminal</span></a></li>
  <li><a class="reference" href="#line%2CNonTerminal"
    title="line(nt: NonTerminal): int"><wbr />line<span class="attachedType">NonTerminal</span></a></li>
  <li><a class="reference" href="#col%2CNonTerminal"
    title="col(nt: NonTerminal): int"><wbr />col<span class="attachedType">NonTerminal</span></a></li>
  <li><a class="reference" href="#flags%2CNonTerminal"
    title="flags(nt: NonTerminal): set[NonTerminalFlag]"><wbr />flags<span class="attachedType">NonTerminal</span></a></li>
  <li><a class="reference" href="#rule%2CNonTerminal"
    title="rule(nt: NonTerminal): Peg"><wbr />rule<span class="attachedType">NonTerminal</span></a></li>
  <li><a class="reference" href="#term%2Cstring"
    title="term(t: string): Peg"><wbr />term<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#termIgnoreCase%2Cstring"
    title="termIgnoreCase(t: string): Peg"><wbr />term<wbr />Ignore<wbr />Case<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#termIgnoreStyle%2Cstring"
    title="termIgnoreStyle(t: string): Peg"><wbr />term<wbr />Ignore<wbr />Style<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#term%2Cchar"
    title="term(t: char): Peg"><wbr />term<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#charSet%2Cset%5Bchar%5D"
    title="charSet(s: set[char]): Peg"><wbr />char<wbr />Set<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#%2F%2Cvarargs%5BPeg%5D"
    title="`/`(a: varargs[Peg]): Peg"><wbr />`/`<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#sequence%2Cvarargs%5BPeg%5D"
    title="sequence(a: varargs[Peg]): Peg"><wbr />sequence<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#%3F%2CPeg"
    title="`?`(a: Peg): Peg"><wbr />`?`<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#%2A%2CPeg"
    title="`*`(a: Peg): Peg"><wbr />`*`<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#%21%2A%2CPeg"
    title="`!*`(a: Peg): Peg"><wbr />`!*`<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#%21%2A%5C%2CPeg"
    title="`!*\`(a: Peg): Peg"><wbr />`!*\`<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#%2B%2CPeg"
    title="`+`(a: Peg): Peg"><wbr />`+`<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#%26%2CPeg"
    title="`&amp;`(a: Peg): Peg"><wbr />`&amp;`<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#%21%2CPeg"
    title="`!`(a: Peg): Peg"><wbr />`!`<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#any"
    title="any(): Peg"><wbr />any<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#anyRune"
    title="anyRune(): Peg"><wbr />any<wbr />Rune<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#newLine"
    title="newLine(): Peg"><wbr />new<wbr />Line<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#unicodeLetter"
    title="unicodeLetter(): Peg"><wbr />unicode<wbr />Letter<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#unicodeLower"
    title="unicodeLower(): Peg"><wbr />unicode<wbr />Lower<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#unicodeUpper"
    title="unicodeUpper(): Peg"><wbr />unicode<wbr />Upper<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#unicodeTitle"
    title="unicodeTitle(): Peg"><wbr />unicode<wbr />Title<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#unicodeWhitespace"
    title="unicodeWhitespace(): Peg"><wbr />unicode<wbr />Whitespace<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#startAnchor"
    title="startAnchor(): Peg"><wbr />start<wbr />Anchor<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#endAnchor"
    title="endAnchor(): Peg"><wbr />end<wbr />Anchor<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#capture%2CPeg"
    title="capture(a: Peg): Peg"><wbr />capture<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#backref%2Crange%5B%5D"
    title="backref(index: range[1 .. MaxSubpatterns]): Peg"><wbr />backref<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#backrefIgnoreCase%2Crange%5B%5D"
    title="backrefIgnoreCase(index: range[1 .. MaxSubpatterns]): Peg"><wbr />backref<wbr />Ignore<wbr />Case<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#backrefIgnoreStyle%2Crange%5B%5D"
    title="backrefIgnoreStyle(index: range[1 .. MaxSubpatterns]): Peg"><wbr />backref<wbr />Ignore<wbr />Style<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#nonterminal%2CNonTerminal"
    title="nonterminal(n: NonTerminal): Peg"><wbr />nonterminal<span class="attachedType">NonTerminal</span></a></li>
  <li><a class="reference" href="#newNonTerminal%2Cstring%2Cint%2Cint"
    title="newNonTerminal(name: string; line, column: int): NonTerminal"><wbr />new<wbr />Non<wbr />Terminal<span class="attachedType">NonTerminal</span></a></li>
  <li><a class="reference" href="#%24%2CPeg"
    title="`$`(r: Peg): string"><wbr />`$`<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#bounds%2CCaptures%2Crange%5B%5D"
    title="bounds(c: Captures; i: range[0 .. 20 - 1]): tuple[first, last: int]"><wbr />bounds<span class="attachedType">Captures</span></a></li>
  <li><a class="reference" href="#rawMatch%2Cstring%2CPeg%2Cint%2CCaptures"
    title="rawMatch(s: string; p: Peg; start: int; c: var Captures): int"><wbr />raw<wbr />Match<span class="attachedType">Captures</span></a></li>
  <li><a class="reference" href="#matchLen%2Cstring%2CPeg%2CopenArray%5Bstring%5D%2Cint"
    title="matchLen(s: string; pattern: Peg; matches: var openArray[string]; start = 0): int"><wbr />match<wbr />Len<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#matchLen%2Cstring%2CPeg%2Cint"
    title="matchLen(s: string; pattern: Peg; start = 0): int"><wbr />match<wbr />Len<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#match%2Cstring%2CPeg%2CopenArray%5Bstring%5D%2Cint"
    title="match(s: string; pattern: Peg; matches: var openArray[string]; start = 0): bool"><wbr />match<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#match%2Cstring%2CPeg%2Cint"
    title="match(s: string; pattern: Peg; start = 0): bool"><wbr />match<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#find%2Cstring%2CPeg%2CopenArray%5Bstring%5D%2Cint"
    title="find(s: string; pattern: Peg; matches: var openArray[string]; start = 0): int"><wbr />find<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#findBounds%2Cstring%2CPeg%2CopenArray%5Bstring%5D%2Cint"
    title="findBounds(s: string; pattern: Peg; matches: var openArray[string]; start = 0): tuple[
    first, last: int]"><wbr />find<wbr />Bounds<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#find%2Cstring%2CPeg%2Cint"
    title="find(s: string; pattern: Peg; start = 0): int"><wbr />find<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#findAll%2Cstring%2CPeg%2Cint"
    title="findAll(s: string; pattern: Peg; start = 0): seq[string]"><wbr />find<wbr />All<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#contains%2Cstring%2CPeg%2Cint"
    title="contains(s: string; pattern: Peg; start = 0): bool"><wbr />contains<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#contains%2Cstring%2CPeg%2CopenArray%5Bstring%5D%2Cint"
    title="contains(s: string; pattern: Peg; matches: var openArray[string]; start = 0): bool"><wbr />contains<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#startsWith%2Cstring%2CPeg%2Cint"
    title="startsWith(s: string; prefix: Peg; start = 0): bool"><wbr />starts<wbr />With<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#endsWith%2Cstring%2CPeg%2Cint"
    title="endsWith(s: string; suffix: Peg; start = 0): bool"><wbr />ends<wbr />With<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#replacef%2Cstring%2CPeg%2Cstring"
    title="replacef(s: string; sub: Peg; by: string): string"><wbr />replacef<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#replace%2Cstring%2CPeg%2Cstring"
    title="replace(s: string; sub: Peg; by = &quot;&quot;): string"><wbr />replace<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#parallelReplace%2Cstring%2Cvarargs%5Btuple%5BPeg%2Cstring%5D%5D"
    title="parallelReplace(s: string; subs: varargs[tuple[pattern: Peg, repl: string]]): string"><wbr />parallel<wbr />Replace<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#replace%2Cstring%2CPeg%2Cproc%28int%2Cint%2CopenArray%5Bstring%5D%29"
    title="replace(s: string; sub: Peg;
        cb: proc (match: int; cnt: int; caps: openArray[string]): string): string"><wbr />replace<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#transformFile%2Cstring%2Cstring%2Cvarargs%5Btuple%5BPeg%2Cstring%5D%5D"
    title="transformFile(infile, outfile: string;
              subs: varargs[tuple[pattern: Peg, repl: string]])"><wbr />transform<wbr />File<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#split%2Cstring%2CPeg"
    title="split(s: string; sep: Peg): seq[string]"><wbr />split<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#parsePeg%2Cstring%2Cstring%2Cint%2Cint"
    title="parsePeg(pattern: string; filename = &quot;pattern&quot;; line = 1; col = 0): Peg"><wbr />parse<wbr />Peg<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#peg%2Cstring"
    title="peg(pattern: string): Peg"><wbr />peg<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#escapePeg%2Cstring"
    title="escapePeg(s: string): string"><wbr />escape<wbr />Peg<span class="attachedType"></span></a></li>

  </ul>
</li>
<li>
  <a class="reference reference-toplevel" href="#15" id="65">Iterators</a>
  <ul class="simple simple-toc-section">
      <li><a class="reference" href="#items.i%2CPeg"
    title="items(p: Peg): Peg"><wbr />items<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#pairs.i%2CPeg"
    title="pairs(p: Peg): (int, Peg)"><wbr />pairs<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#findAll.i%2Cstring%2CPeg%2Cint"
    title="findAll(s: string; pattern: Peg; start = 0): string"><wbr />find<wbr />All<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#split.i%2Cstring%2CPeg"
    title="split(s: string; sep: Peg): string"><wbr />split<span class="attachedType"></span></a></li>

  </ul>
</li>
<li>
  <a class="reference reference-toplevel" href="#18" id="68">Templates</a>
  <ul class="simple simple-toc-section">
      <li><a class="reference" href="#letters.t"
    title="letters(): Peg"><wbr />letters<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#digits.t"
    title="digits(): Peg"><wbr />digits<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#whitespace.t"
    title="whitespace(): Peg"><wbr />whitespace<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#identChars.t"
    title="identChars(): Peg"><wbr />ident<wbr />Chars<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#identStartChars.t"
    title="identStartChars(): Peg"><wbr />ident<wbr />Start<wbr />Chars<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#ident.t"
    title="ident(): Peg"><wbr />ident<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#natural.t"
    title="natural(): Peg"><wbr />natural<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#eventParser.t%2Cuntyped%2Cuntyped"
    title="eventParser(pegAst, handlers: untyped): (proc (s: string): int)"><wbr />event<wbr />Parser<span class="attachedType"></span></a></li>
  <li><a class="reference" href="#%3D~.t%2Cstring%2CPeg"
    title="`=~`(s: string; pattern: Peg): bool"><wbr />`=~`<span class="attachedType"></span></a></li>

  </ul>
</li>
<li>
  <a class="reference reference-toplevel" href="#19" id="69">Exports</a>
  <ul class="simple simple-toc-section">
    
  </ul>
</li>

</ul>

  </div>
  <div class="nine columns" id="content">
  <div id="tocRoot"></div>
  
  <p class="module-desc">Simple PEG (Parsing expression grammar) matching. Uses no memorization, but uses superoperators and symbol inlining to improve performance. Note: Matching performance is hopefully competitive with optimized regular expression engines.
<h1><a class="toc-backref" id="peg-syntax-and-semantics" href="#peg-syntax-and-semantics">PEG syntax and semantics</a></h1><p>A PEG (Parsing expression grammar) is a simple deterministic grammar, that can be directly used for parsing. The current implementation has been designed as a more powerful replacement for regular expressions. UTF-8 is supported.</p>
<p>The notation used for a PEG is similar to that of EBNF:</p>
<table border="1" class="docutils"><tr><th>notation</th><th>meaning</th></tr>
<tr><td><tt class="docutils literal"><span class="pre">A / ... / Z</span></tt></td><td>Ordered choice: Apply expressions <tt class="docutils literal"><span class="pre">A</span></tt>, ..., <tt class="docutils literal"><span class="pre">Z</span></tt>, in this order, to the text ahead, until one of them succeeds and possibly consumes some text. Indicate success if one of expressions succeeded. Otherwise do not consume any text and indicate failure.</td></tr>
<tr><td><tt class="docutils literal"><span class="pre">A ... Z</span></tt></td><td>Sequence: Apply expressions <tt class="docutils literal"><span class="pre">A</span></tt>, ..., <tt class="docutils literal"><span class="pre">Z</span></tt>, in this order, to consume consecutive portions of the text ahead, as long as they succeed. Indicate success if all succeeded. Otherwise do not consume any text and indicate failure. The sequence's precedence is higher than that of ordered choice: <tt class="docutils literal"><span class="pre">A B / C</span></tt> means <tt class="docutils literal"><span class="pre">(A B) / Z</span></tt> and not <tt class="docutils literal"><span class="pre">A (B / Z)</span></tt>.</td></tr>
<tr><td><tt class="docutils literal"><span class="pre">(E)</span></tt></td><td>Grouping: Parenthesis can be used to change operator priority.</td></tr>
<tr><td><tt class="docutils literal"><span class="pre">{E}</span></tt></td><td>Capture: Apply expression <tt class="docutils literal"><span class="pre">E</span></tt> and store the substring that matched <tt class="docutils literal"><span class="pre">E</span></tt> into a <em>capture</em> that can be accessed after the matching process.</td></tr>
<tr><td><tt class="docutils literal"><span class="pre">$i</span></tt></td><td>Back reference to the <tt class="docutils literal"><span class="pre">i``th capture. ``i</span></tt> counts from 1.</td></tr>
<tr><td><tt class="docutils literal"><span class="pre">$</span></tt></td><td>Anchor: Matches at the end of the input. No character is consumed. Same as <tt class="docutils literal"><span class="pre">!.</span></tt>.</td></tr>
<tr><td><tt class="docutils literal"><span class="pre">^</span></tt></td><td>Anchor: Matches at the start of the input. No character is consumed.</td></tr>
<tr><td><tt class="docutils literal"><span class="pre">&amp;E</span></tt></td><td>And predicate: Indicate success if expression <tt class="docutils literal"><span class="pre">E</span></tt> matches the text ahead; otherwise indicate failure. Do not consume any text.</td></tr>
<tr><td><tt class="docutils literal"><span class="pre">!E</span></tt></td><td>Not predicate: Indicate failure if expression E matches the text ahead; otherwise indicate success. Do not consume any text.</td></tr>
<tr><td><tt class="docutils literal"><span class="pre">E+</span></tt></td><td>One or more: Apply expression <tt class="docutils literal"><span class="pre">E</span></tt> repeatedly to match the text ahead, as long as it succeeds. Consume the matched text (if any) and indicate success if there was at least one match. Otherwise indicate failure.</td></tr>
<tr><td><tt class="docutils literal"><span class="pre">E*</span></tt></td><td>Zero or more: Apply expression <tt class="docutils literal"><span class="pre">E</span></tt> repeatedly to match the text ahead, as long as it succeeds. Consume the matched text (if any). Always indicate success.</td></tr>
<tr><td><tt class="docutils literal"><span class="pre">E?</span></tt></td><td>Zero or one: If expression <tt class="docutils literal"><span class="pre">E</span></tt> matches the text ahead, consume it. Always indicate success.</td></tr>
<tr><td><tt class="docutils literal"><span class="pre">[s]</span></tt></td><td>Character class: If the character ahead appears in the string <tt class="docutils literal"><span class="pre">s</span></tt>, consume it and indicate success. Otherwise indicate failure.</td></tr>
<tr><td><tt class="docutils literal"><span class="pre">[a-b]</span></tt></td><td>Character range: If the character ahead is one from the range <tt class="docutils literal"><span class="pre">a</span></tt> through <tt class="docutils literal"><span class="pre">b</span></tt>, consume it and indicate success. Otherwise indicate failure.</td></tr>
<tr><td><tt class="docutils literal"><span class="pre">'s'</span></tt></td><td>String: If the text ahead is the string <tt class="docutils literal"><span class="pre">s</span></tt>, consume it and indicate success. Otherwise indicate failure.</td></tr>
<tr><td><tt class="docutils literal"><span class="pre">i's'</span></tt></td><td>String match ignoring case.</td></tr>
<tr><td><tt class="docutils literal"><span class="pre">y's'</span></tt></td><td>String match ignoring style.</td></tr>
<tr><td><tt class="docutils literal"><span class="pre">v's'</span></tt></td><td>Verbatim string match: Use this to override a global <tt class="docutils literal"><span class="pre">\i</span></tt> or <tt class="docutils literal"><span class="pre">\y</span></tt> modifier.</td></tr>
<tr><td><tt class="docutils literal"><span class="pre">i$j</span></tt></td><td>String match ignoring case for back reference.</td></tr>
<tr><td><tt class="docutils literal"><span class="pre">y$j</span></tt></td><td>String match ignoring style for back reference.</td></tr>
<tr><td><tt class="docutils literal"><span class="pre">v$j</span></tt></td><td>Verbatim string match for back reference.</td></tr>
<tr><td><tt class="docutils literal"><span class="pre">.</span></tt></td><td>Any character: If there is a character ahead, consume it and indicate success. Otherwise (that is, at the end of input) indicate failure.</td></tr>
<tr><td><tt class="docutils literal"><span class="pre">_</span></tt></td><td>Any Unicode character: If there is an UTF-8 character ahead, consume it and indicate success. Otherwise indicate failure.</td></tr>
<tr><td><tt class="docutils literal"><span class="pre">@E</span></tt></td><td>Search: Shorthand for <tt class="docutils literal"><span class="pre">(!E .)* E</span></tt>. (Search loop for the pattern <tt class="docutils literal"><span class="pre">E</span></tt>.)</td></tr>
<tr><td><tt class="docutils literal"><span class="pre">{@} E</span></tt></td><td>Captured Search: Shorthand for <tt class="docutils literal"><span class="pre">{(!E .)*} E</span></tt>. (Search loop for the pattern <tt class="docutils literal"><span class="pre">E</span></tt>.) Everything until and exluding <tt class="docutils literal"><span class="pre">E</span></tt> is captured.</td></tr>
<tr><td><tt class="docutils literal"><span class="pre">@@ E</span></tt></td><td>Same as <tt class="docutils literal"><span class="pre">{@} E</span></tt>.</td></tr>
<tr><td><tt class="docutils literal"><span class="pre">A &lt;- E</span></tt></td><td>Rule: Bind the expression <tt class="docutils literal"><span class="pre">E</span></tt> to the <em>nonterminal symbol</em> <tt class="docutils literal"><span class="pre">A</span></tt>. <strong>Left recursive rules are not possible and crash the matching engine.</strong></td></tr>
<tr><td><tt class="docutils literal"><span class="pre">\identifier</span></tt></td><td>Built-in macro for a longer expression.</td></tr>
<tr><td><tt class="docutils literal"><span class="pre">\ddd</span></tt></td><td>Character with decimal code <em>ddd</em>.</td></tr>
<tr><td><tt class="docutils literal"><span class="pre">\&quot;</span></tt>, etc</td><td>Literal <tt class="docutils literal"><span class="pre">&quot;</span></tt>, etc.</td></tr>
</table>
<h2><a class="toc-backref" id="peg-syntax-and-semantics-builtminusin-macros" href="#peg-syntax-and-semantics-builtminusin-macros">Built-in macros</a></h2><table border="1" class="docutils"><tr><th>macro</th><th>meaning</th></tr>
<tr><td><tt class="docutils literal"><span class="pre">\d</span></tt></td><td>any decimal digit: <tt class="docutils literal"><span class="pre">[0-9]</span></tt></td></tr>
<tr><td><tt class="docutils literal"><span class="pre">\D</span></tt></td><td>any character that is not a decimal digit: <tt class="docutils literal"><span class="pre">[^0-9]</span></tt></td></tr>
<tr><td><tt class="docutils literal"><span class="pre">\s</span></tt></td><td>any whitespace character: <tt class="docutils literal"><span class="pre">[ \9-\13]</span></tt></td></tr>
<tr><td><tt class="docutils literal"><span class="pre">\S</span></tt></td><td>any character that is not a whitespace character: <tt class="docutils literal"><span class="pre">[^ \9-\13]</span></tt></td></tr>
<tr><td><tt class="docutils literal"><span class="pre">\w</span></tt></td><td>any &quot;word&quot; character: <tt class="docutils literal"><span class="pre">[a-zA-Z0-9_]</span></tt></td></tr>
<tr><td><tt class="docutils literal"><span class="pre">\W</span></tt></td><td>any &quot;non-word&quot; character: <tt class="docutils literal"><span class="pre">[^a-zA-Z0-9_]</span></tt></td></tr>
<tr><td><tt class="docutils literal"><span class="pre">\a</span></tt></td><td>same as <tt class="docutils literal"><span class="pre">[a-zA-Z]</span></tt></td></tr>
<tr><td><tt class="docutils literal"><span class="pre">\A</span></tt></td><td>same as <tt class="docutils literal"><span class="pre">[^a-zA-Z]</span></tt></td></tr>
<tr><td><tt class="docutils literal"><span class="pre">\n</span></tt></td><td>any newline combination: <tt class="docutils literal"><span class="pre">\10 / \13\10 / \13</span></tt></td></tr>
<tr><td><tt class="docutils literal"><span class="pre">\i</span></tt></td><td>ignore case for matching; use this at the start of the PEG</td></tr>
<tr><td><tt class="docutils literal"><span class="pre">\y</span></tt></td><td>ignore style for matching; use this at the start of the PEG</td></tr>
<tr><td><tt class="docutils literal"><span class="pre">\skip</span></tt> pat</td><td>skip pattern <em>pat</em> before trying to match other tokens; this is useful for whitespace skipping, for example: <tt class="docutils literal"><span class="pre">\skip(\s*) {\ident} ':' {\ident}</span></tt> matches key value pairs ignoring whitespace around the <tt class="docutils literal"><span class="pre">':'</span></tt>.</td></tr>
<tr><td><tt class="docutils literal"><span class="pre">\ident</span></tt></td><td>a standard ASCII identifier: <tt class="docutils literal"><span class="pre">[a-zA-Z_][a-zA-Z_0-9]*</span></tt></td></tr>
<tr><td><tt class="docutils literal"><span class="pre">\letter</span></tt></td><td>any Unicode letter</td></tr>
<tr><td><tt class="docutils literal"><span class="pre">\upper</span></tt></td><td>any Unicode uppercase letter</td></tr>
<tr><td><tt class="docutils literal"><span class="pre">\lower</span></tt></td><td>any Unicode lowercase letter</td></tr>
<tr><td><tt class="docutils literal"><span class="pre">\title</span></tt></td><td>any Unicode title letter</td></tr>
<tr><td><tt class="docutils literal"><span class="pre">\white</span></tt></td><td>any Unicode whitespace character</td></tr>
</table><p>A backslash followed by a letter is a built-in macro, otherwise it is used for ordinary escaping:</p>
<table border="1" class="docutils"><tr><th>notation</th><th>meaning</th></tr>
<tr><td><tt class="docutils literal"><span class="pre">\\</span></tt></td><td>a single backslash</td></tr>
<tr><td><tt class="docutils literal"><span class="pre">\*</span></tt></td><td>same as <tt class="docutils literal"><span class="pre">'*'</span></tt></td></tr>
<tr><td><tt class="docutils literal"><span class="pre">\t</span></tt></td><td>not a tabulator, but an (unknown) built-in</td></tr>
</table>
<h2><a class="toc-backref" id="peg-syntax-and-semantics-supported-peg-grammar" href="#peg-syntax-and-semantics-supported-peg-grammar">Supported PEG grammar</a></h2><p>The PEG parser implements this grammar (written in PEG syntax):<pre>
# Example grammar of PEG in PEG syntax.
# Comments start with '#'.
# First symbol is the start symbol.

grammar &lt;- rule* / expr

identifier &lt;- [A-Za-z][A-Za-z0-9_]*
charsetchar &lt;- &quot;\\&quot; . / [^\]]
charset &lt;- &quot;[&quot; &quot;^&quot;? (charsetchar (&quot;-&quot; charsetchar)?)+ &quot;]&quot;
stringlit &lt;- identifier? (&quot;\&quot;&quot; (&quot;\\&quot; . / [^&quot;])* &quot;\&quot;&quot; /
                          &quot;'&quot; (&quot;\\&quot; . / [^'])* &quot;'&quot;)
builtin &lt;- &quot;\\&quot; identifier / [^\13\10]

comment &lt;- '#' @ \n
ig &lt;- (\s / comment)* # things to ignore

rule &lt;- identifier \s* &quot;&lt;-&quot; expr ig
identNoArrow &lt;- identifier !(\s* &quot;&lt;-&quot;)
prefixOpr &lt;- ig '&amp;' / ig '!' / ig '@' / ig '{@}' / ig '@@'
literal &lt;- ig identifier? '$' [0-9]+ / '$' / '^' /
           ig identNoArrow /
           ig charset /
           ig stringlit /
           ig builtin /
           ig '.' /
           ig '_' /
           (ig &quot;(&quot; expr ig &quot;)&quot;)
postfixOpr &lt;- ig '?' / ig '*' / ig '+'
primary &lt;- prefixOpr* (literal postfixOpr*)

# Concatenation has higher priority than choice:
# ``a b / c`` means ``(a b) / c``

seqExpr &lt;- primary+
expr &lt;- seqExpr (ig &quot;/&quot; expr)*</pre>
</p>
<p><strong>Note</strong>: As a special syntactic extension if the whole PEG is only a single expression, identifiers are not interpreted as non-terminals, but are interpreted as verbatim string:</p>
<pre class="listing"><span class="Identifier">abc</span> <span class="Operator">=~</span> <span class="RawData">peg&quot;abc&quot;</span> <span class="Comment"># is true</span></pre><p>So it is not necessary to write <tt class="docutils literal"><span class="pre">peg&quot; 'abc' &quot;</span></tt> in the above example.</p>

<h2><a class="toc-backref" id="peg-syntax-and-semantics-examples" href="#peg-syntax-and-semantics-examples">Examples</a></h2><p>Check if <tt class="docutils literal"><span class="pre">s</span></tt> matches Nim's &quot;while&quot; keyword:</p>
<pre class="listing"><span class="Identifier">s</span> <span class="Operator">=~</span> <span class="RawData">peg&quot; y'while'&quot;</span></pre><p>Exchange (key, val)-pairs:</p>
<pre class="listing"><span class="StringLit">&quot;key: val; key2: val2&quot;</span><span class="Operator">.</span><span class="Identifier">replacef</span><span class="Punctuation">(</span><span class="RawData">peg&quot;{\ident} \s* ':' \s* {\ident}&quot;</span><span class="Punctuation">,</span> <span class="StringLit">&quot;$2: $1&quot;</span><span class="Punctuation">)</span></pre><p>Determine the <tt class="docutils literal"><span class="pre">#include</span></tt>'ed files of a C file:</p>
<pre class="listing"><span class="Keyword">for</span> <span class="Identifier">line</span> <span class="Keyword">in</span> <span class="Identifier">lines</span><span class="Punctuation">(</span><span class="StringLit">&quot;myfile.c&quot;</span><span class="Punctuation">)</span><span class="Punctuation">:</span>
  <span class="Keyword">if</span> <span class="Identifier">line</span> <span class="Operator">=~</span> <span class="LongStringLit">peg&quot;&quot;&quot;s &lt;- ws '#include' ws '&quot;' {[^&quot;]+} '&quot;' ws
                   comment &lt;- '/*' @ '*/' / '//' .*
                   ws &lt;- (comment / \s+)* &quot;&quot;&quot;</span><span class="Punctuation">:</span>
    <span class="Identifier">echo</span> <span class="Identifier">matches</span><span class="Punctuation">[</span><span class="DecNumber">0</span><span class="Punctuation">]</span></pre>
<h2><a class="toc-backref" id="peg-syntax-and-semantics-peg-vs-regular-expression" href="#peg-syntax-and-semantics-peg-vs-regular-expression">PEG vs regular expression</a></h2><p>As a regular expression <tt class="docutils literal"><span class="pre">\[.*\]</span></tt> matches the longest possible text between <tt class="docutils literal"><span class="pre">'['</span></tt> and <tt class="docutils literal"><span class="pre">']'</span></tt>. As a PEG it never matches anything, because a PEG is deterministic: <tt class="docutils literal"><span class="pre">.*</span></tt> consumes the rest of the input, so <tt class="docutils literal"><span class="pre">\]</span></tt> never matches. As a PEG this needs to be written as: <tt class="docutils literal"><span class="pre">\[ ( !\] . )* \]</span></tt> (or <tt class="docutils literal"><span class="pre">\[ @ \]</span></tt>).</p>
<p>Note that the regular expression does not behave as intended either: in the example <tt class="docutils literal"><span class="pre">*</span></tt> should not be greedy, so <tt class="docutils literal"><span class="pre">\[.*?\]</span></tt> should be used instead.</p>

<h2><a class="toc-backref" id="peg-syntax-and-semantics-peg-construction" href="#peg-syntax-and-semantics-peg-construction">PEG construction</a></h2><p>There are two ways to construct a PEG in Nim code:</p>
<ol class="simple"><li>Parsing a string into an AST which consists of <tt class="docutils literal"><span class="pre">Peg</span></tt> nodes with the <tt class="docutils literal"><span class="pre">peg</span></tt> proc.</li>
<li>Constructing the AST directly with proc calls. This method does not support constructing rules, only simple expressions and is not as convenient. Its only advantage is that it does not pull in the whole PEG parser into your executable.</li>
</ol>
</p>
  <div class="section" id="6">
<h1><a class="toc-backref" href="#6">Imports</a></h1>
<dl class="item">
<a class="reference external" href="strutils.html">strutils</a>, <a class="reference external" href="macros.html">macros</a>, <a class="reference external" href="unicode.html">unicode</a>
</dl></div>
<div class="section" id="7">
<h1><a class="toc-backref" href="#7">Types</a></h1>
<dl class="item">
<a id="PegKind"></a>
<dt><pre><a href="pegs.html#PegKind"><span class="Identifier">PegKind</span></a> <span class="Other">=</span> <span class="Keyword">enum</span>
  <span class="Identifier">pkEmpty</span><span class="Other">,</span> <span class="Identifier">pkAny</span><span class="Other">,</span> <span class="Identifier">pkAnyRune</span><span class="Other">,</span> <span class="Identifier">pkNewLine</span><span class="Other">,</span> <span class="Identifier">pkLetter</span><span class="Other">,</span> <span class="Identifier">pkLower</span><span class="Other">,</span> <span class="Identifier">pkUpper</span><span class="Other">,</span> <span class="Identifier">pkTitle</span><span class="Other">,</span>
  <span class="Identifier">pkWhitespace</span><span class="Other">,</span> <span class="Identifier">pkTerminal</span><span class="Other">,</span> <span class="Identifier">pkTerminalIgnoreCase</span><span class="Other">,</span> <span class="Identifier">pkTerminalIgnoreStyle</span><span class="Other">,</span> <span class="Identifier">pkChar</span><span class="Other">,</span>
  <span class="Identifier">pkCharChoice</span><span class="Other">,</span> <span class="Identifier">pkNonTerminal</span><span class="Other">,</span> <span class="Identifier">pkSequence</span><span class="Other">,</span> <span class="Identifier">pkOrderedChoice</span><span class="Other">,</span> <span class="Identifier">pkGreedyRep</span><span class="Other">,</span>
  <span class="Identifier">pkGreedyRepChar</span><span class="Other">,</span> <span class="Identifier">pkGreedyRepSet</span><span class="Other">,</span> <span class="Identifier">pkGreedyAny</span><span class="Other">,</span> <span class="Identifier">pkOption</span><span class="Other">,</span> <span class="Identifier">pkAndPredicate</span><span class="Other">,</span>
  <span class="Identifier">pkNotPredicate</span><span class="Other">,</span> <span class="Identifier">pkCapture</span><span class="Other">,</span> <span class="Identifier">pkBackRef</span><span class="Other">,</span> <span class="Identifier">pkBackRefIgnoreCase</span><span class="Other">,</span> <span class="Identifier">pkBackRefIgnoreStyle</span><span class="Other">,</span>
  <span class="Identifier">pkSearch</span><span class="Other">,</span> <span class="Identifier">pkCapturedSearch</span><span class="Other">,</span> <span class="Identifier">pkRule</span><span class="Other">,</span> <span class="Identifier">pkList</span><span class="Other">,</span> <span class="Identifier">pkStartAnchor</span></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L35"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L35" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="NonTerminalFlag"></a>
<dt><pre><a href="pegs.html#NonTerminalFlag"><span class="Identifier">NonTerminalFlag</span></a> <span class="Other">=</span> <span class="Keyword">enum</span>
  <span class="Identifier">ntDeclared</span><span class="Other">,</span> <span class="Identifier">ntUsed</span></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L70"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L70" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="Peg"></a>
<dt><pre><a href="pegs.html#Peg"><span class="Identifier">Peg</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">shallow</span></span><span class="Other">.}</span></span> <span class="Other">=</span> <span class="Keyword">object</span>
  <span class="Keyword">case</span> <span class="Identifier">kind</span><span class="Other">:</span> <a href="pegs.html#PegKind"><span class="Identifier">PegKind</span></a>
  <span class="Keyword">of</span> <span class="Identifier">pkEmpty</span> <span class="Operator">..</span> <span class="Identifier">pkWhitespace</span><span class="Other">:</span>
    <span class="Keyword">nil</span>
  <span class="Keyword">of</span> <span class="Identifier">pkTerminal</span><span class="Other">,</span> <span class="Identifier">pkTerminalIgnoreCase</span><span class="Other">,</span> <span class="Identifier">pkTerminalIgnoreStyle</span><span class="Other">:</span>
    <span class="Identifier">term</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a>
  <span class="Keyword">of</span> <span class="Identifier">pkChar</span><span class="Other">,</span> <span class="Identifier">pkGreedyRepChar</span><span class="Other">:</span>
    <span class="Identifier">ch</span><span class="Other">:</span> <a href="system.html#char"><span class="Identifier">char</span></a>
  <span class="Keyword">of</span> <span class="Identifier">pkCharChoice</span><span class="Other">,</span> <span class="Identifier">pkGreedyRepSet</span><span class="Other">:</span>
    <span class="Identifier">charChoice</span><span class="Other">:</span> <span class="Keyword">ref</span> <a href="system.html#set"><span class="Identifier">set</span></a><span class="Other">[</span><a href="system.html#char"><span class="Identifier">char</span></a><span class="Other">]</span>
  <span class="Keyword">of</span> <span class="Identifier">pkNonTerminal</span><span class="Other">:</span>
    <span class="Identifier">nt</span><span class="Other">:</span> <a href="pegs.html#NonTerminal"><span class="Identifier">NonTerminal</span></a>
  <span class="Keyword">of</span> <span class="Identifier">pkBackRef</span> <span class="Operator">..</span> <span class="Identifier">pkBackRefIgnoreStyle</span><span class="Other">:</span>
    <span class="Identifier">index</span><span class="Other">:</span> <a href="system.html#range"><span class="Identifier">range</span></a><span class="Other">[</span><span class="DecNumber">0</span> <span class="Operator">..</span> <span class="Identifier">MaxSubpatterns</span><span class="Other">]</span>
  <span class="Keyword">else</span><span class="Other">:</span>
    <span class="Identifier">sons</span><span class="Other">:</span> <a href="system.html#seq"><span class="Identifier">seq</span></a><span class="Other">[</span><a href="pegs.html#Peg"><span class="Identifier">Peg</span></a><span class="Other">]</span>
  </pre></dt>
<dd>

type that represents a PEG
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L78"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L78" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="NonTerminal"></a>
<dt><pre><a href="pegs.html#NonTerminal"><span class="Identifier">NonTerminal</span></a> <span class="Other">=</span> <span class="Keyword">ref</span> <span class="Identifier">NonTerminalObj</span></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L87"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L87" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="Captures"></a>
<dt><pre><a href="pegs.html#Captures"><span class="Identifier">Captures</span></a> <span class="Other">=</span> <span class="Keyword">object</span>
  <span class="Identifier">matches</span><span class="Other">:</span> <a href="system.html#array"><span class="Identifier">array</span></a><span class="Other">[</span><span class="DecNumber">0</span> <span class="Operator">..</span> <span class="DecNumber">20</span> <span class="Operator">-</span> <span class="DecNumber">1</span><span class="Other">,</span> <span class="Keyword">tuple</span><span class="Other">[</span><span class="Identifier">first</span><span class="Other">,</span> <span class="Identifier">last</span><span class="Other">:</span> <a href="system.html#int"><span class="Identifier">int</span></a><span class="Other">]</span><span class="Other">]</span>
  <span class="Identifier">ml</span><span class="Other">:</span> <a href="system.html#int"><span class="Identifier">int</span></a>
  <span class="Identifier">origStart</span><span class="Other">:</span> <a href="system.html#int"><span class="Identifier">int</span></a>
</pre></dt>
<dd>

contains the captured substrings.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L529"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L529" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="EInvalidPeg"></a>
<dt><pre><a href="pegs.html#EInvalidPeg"><span class="Identifier">EInvalidPeg</span></a> <span class="Other">=</span> <span class="Keyword">object</span> <span class="Keyword">of</span> <a href="system.html#ValueError"><span class="Identifier">ValueError</span></a></pre></dt>
<dd>

raised if an invalid PEG has been detected
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L1794"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L1794" class="link-seesrc" target="_blank" >Edit</a>

</dd>

</dl></div>
<div class="section" id="10">
<h1><a class="toc-backref" href="#10">Consts</a></h1>
<dl class="item">
<a id="MaxSubpatterns"></a>
<dt><pre><a href="pegs.html#MaxSubpatterns"><span class="Identifier">MaxSubpatterns</span></a> <span class="Other">=</span> <span class="DecNumber">20</span></pre></dt>
<dd>

defines the maximum number of subpatterns that can be captured. More subpatterns cannot be captured!
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L31"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L31" class="link-seesrc" target="_blank" >Edit</a>

</dd>

</dl></div>
<div class="section" id="12">
<h1><a class="toc-backref" href="#12">Procs</a></h1>
<dl class="item">
<a id="kind,Peg"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#kind%2CPeg"><span class="Identifier">kind</span></a><span class="Other">(</span><span class="Identifier">p</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a><span class="Other">)</span><span class="Other">:</span> <a href="pegs.html#PegKind"><span class="Identifier">PegKind</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Returns the <em>PegKind</em> of a given <em>Peg</em> object.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L89"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L89" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="term,Peg"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#term%2CPeg"><span class="Identifier">term</span></a><span class="Other">(</span><span class="Identifier">p</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a><span class="Other">)</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Returns the <em>string</em> representation of a given <em>Peg</em> variant object where present.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L92"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L92" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="ch,Peg"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#ch%2CPeg"><span class="Identifier">ch</span></a><span class="Other">(</span><span class="Identifier">p</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a><span class="Other">)</span><span class="Other">:</span> <a href="system.html#char"><span class="Identifier">char</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Returns the <em>char</em> representation of a given <em>Peg</em> variant object where present.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L96"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L96" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="charChoice,Peg"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#charChoice%2CPeg"><span class="Identifier">charChoice</span></a><span class="Other">(</span><span class="Identifier">p</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Keyword">ref</span> <a href="system.html#set"><span class="Identifier">set</span></a><span class="Other">[</span><a href="system.html#char"><span class="Identifier">char</span></a><span class="Other">]</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Returns the <em>charChoice</em> field of a given <em>Peg</em> variant object where present.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L100"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L100" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="nt,Peg"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#nt%2CPeg"><span class="Identifier">nt</span></a><span class="Other">(</span><span class="Identifier">p</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a><span class="Other">)</span><span class="Other">:</span> <a href="pegs.html#NonTerminal"><span class="Identifier">NonTerminal</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Returns the <em>NonTerminal</em> object of a given <em>Peg</em> variant object where present.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L104"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L104" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="index,Peg"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#index%2CPeg"><span class="Identifier">index</span></a><span class="Other">(</span><span class="Identifier">p</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a><span class="Other">)</span><span class="Other">:</span> <a href="system.html#range"><span class="Identifier">range</span></a><span class="Other">[</span><span class="DecNumber">0</span> <span class="Operator">..</span> <span class="Identifier">MaxSubpatterns</span><span class="Other">]</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Returns the back-reference index of a captured sub-pattern in the <em>Captures</em> object for a given <em>Peg</em> variant object where present.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L108"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L108" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="name,NonTerminal"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#name%2CNonTerminal"><span class="Identifier">name</span></a><span class="Other">(</span><span class="Identifier">nt</span><span class="Other">:</span> <a href="pegs.html#NonTerminal"><span class="Identifier">NonTerminal</span></a><span class="Other">)</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Gets the name of the symbol represented by the parent <em>Peg</em> object variant of a given <em>NonTerminal</em>.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L122"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L122" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="line,NonTerminal"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#line%2CNonTerminal"><span class="Identifier">line</span></a><span class="Other">(</span><span class="Identifier">nt</span><span class="Other">:</span> <a href="pegs.html#NonTerminal"><span class="Identifier">NonTerminal</span></a><span class="Other">)</span><span class="Other">:</span> <a href="system.html#int"><span class="Identifier">int</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Gets the line number of the definition of the parent <em>Peg</em> object variant of a given <em>NonTerminal</em>.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L126"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L126" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="col,NonTerminal"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#col%2CNonTerminal"><span class="Identifier">col</span></a><span class="Other">(</span><span class="Identifier">nt</span><span class="Other">:</span> <a href="pegs.html#NonTerminal"><span class="Identifier">NonTerminal</span></a><span class="Other">)</span><span class="Other">:</span> <a href="system.html#int"><span class="Identifier">int</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Gets the column number of the definition of the parent <em>Peg</em> object variant of a given <em>NonTerminal</em>.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L130"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L130" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="flags,NonTerminal"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#flags%2CNonTerminal"><span class="Identifier">flags</span></a><span class="Other">(</span><span class="Identifier">nt</span><span class="Other">:</span> <a href="pegs.html#NonTerminal"><span class="Identifier">NonTerminal</span></a><span class="Other">)</span><span class="Other">:</span> <a href="system.html#set"><span class="Identifier">set</span></a><span class="Other">[</span><a href="pegs.html#NonTerminalFlag"><span class="Identifier">NonTerminalFlag</span></a><span class="Other">]</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Gets the <em>NonTerminalFlag</em>-typed flags field of the parent <em>Peg</em> variant object of a given <em>NonTerminal</em>.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L134"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L134" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="rule,NonTerminal"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#rule%2CNonTerminal"><span class="Identifier">rule</span></a><span class="Other">(</span><span class="Identifier">nt</span><span class="Other">:</span> <a href="pegs.html#NonTerminal"><span class="Identifier">NonTerminal</span></a><span class="Other">)</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Gets the <em>Peg</em> object representing the rule definition of the parent <em>Peg</em> object variant of a given <em>NonTerminal</em>.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L138"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L138" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="term,string"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#term%2Cstring"><span class="Identifier">term</span></a><span class="Other">(</span><span class="Identifier">t</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">)</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">noSideEffect</span><span class="Other">,</span> <span class="Identifier">gcsafe</span><span class="Other">,</span> <span class="Identifier">extern</span><span class="Other">:</span> <span class="StringLit">&quot;npegs$1Str&quot;</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
                        <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

constructs a PEG from a terminal string
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L142"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L142" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="termIgnoreCase,string"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#termIgnoreCase%2Cstring"><span class="Identifier">termIgnoreCase</span></a><span class="Other">(</span><span class="Identifier">t</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">)</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">noSideEffect</span><span class="Other">,</span> <span class="Identifier">gcsafe</span><span class="Other">,</span> <span class="Identifier">extern</span><span class="Other">:</span> <span class="StringLit">&quot;npegs$1&quot;</span><span class="Other">,</span>
                                  <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

constructs a PEG from a terminal string; ignore case for matching
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L149"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L149" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="termIgnoreStyle,string"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#termIgnoreStyle%2Cstring"><span class="Identifier">termIgnoreStyle</span></a><span class="Other">(</span><span class="Identifier">t</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">)</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">noSideEffect</span><span class="Other">,</span> <span class="Identifier">gcsafe</span><span class="Other">,</span> <span class="Identifier">extern</span><span class="Other">:</span> <span class="StringLit">&quot;npegs$1&quot;</span><span class="Other">,</span>
                                   <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

constructs a PEG from a terminal string; ignore style for matching
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L154"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L154" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="term,char"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#term%2Cchar"><span class="Identifier">term</span></a><span class="Other">(</span><span class="Identifier">t</span><span class="Other">:</span> <a href="system.html#char"><span class="Identifier">char</span></a><span class="Other">)</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">noSideEffect</span><span class="Other">,</span> <span class="Identifier">gcsafe</span><span class="Other">,</span> <span class="Identifier">extern</span><span class="Other">:</span> <span class="StringLit">&quot;npegs$1Char&quot;</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
                      <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

constructs a PEG from a terminal char
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L159"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L159" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="charSet,set[char]"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#charSet%2Cset%5Bchar%5D"><span class="Identifier">charSet</span></a><span class="Other">(</span><span class="Identifier">s</span><span class="Other">:</span> <a href="system.html#set"><span class="Identifier">set</span></a><span class="Other">[</span><a href="system.html#char"><span class="Identifier">char</span></a><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">noSideEffect</span><span class="Other">,</span> <span class="Identifier">gcsafe</span><span class="Other">,</span> <span class="Identifier">extern</span><span class="Other">:</span> <span class="StringLit">&quot;npegs$1&quot;</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
                              <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

constructs a PEG from a character set <tt class="docutils literal"><span class="pre">s</span></tt>
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L164"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L164" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="/,varargs[Peg]"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#%2F%2Cvarargs%5BPeg%5D"><span class="Identifier">`/`</span></a><span class="Other">(</span><span class="Identifier">a</span><span class="Other">:</span> <a href="system.html#varargs"><span class="Identifier">varargs</span></a><span class="Other">[</span><a href="pegs.html#Peg"><span class="Identifier">Peg</span></a><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">noSideEffect</span><span class="Other">,</span> <span class="Identifier">gcsafe</span><span class="Other">,</span> <span class="Identifier">extern</span><span class="Other">:</span> <span class="StringLit">&quot;npegsOrderedChoice&quot;</span><span class="Other">,</span>
                             <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

constructs an ordered choice with the PEGs in <tt class="docutils literal"><span class="pre">a</span></tt>
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L197"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L197" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="sequence,varargs[Peg]"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#sequence%2Cvarargs%5BPeg%5D"><span class="Identifier">sequence</span></a><span class="Other">(</span><span class="Identifier">a</span><span class="Other">:</span> <a href="system.html#varargs"><span class="Identifier">varargs</span></a><span class="Other">[</span><a href="pegs.html#Peg"><span class="Identifier">Peg</span></a><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">noSideEffect</span><span class="Other">,</span> <span class="Identifier">gcsafe</span><span class="Other">,</span> <span class="Identifier">extern</span><span class="Other">:</span> <span class="StringLit">&quot;npegs$1&quot;</span><span class="Other">,</span>
                                  <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

constructs a sequence with all the PEGs from <tt class="docutils literal"><span class="pre">a</span></tt>
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L214"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L214" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="?,Peg"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#%3F%2CPeg"><span class="Identifier">`?`</span></a><span class="Other">(</span><span class="Identifier">a</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a><span class="Other">)</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">noSideEffect</span><span class="Other">,</span> <span class="Identifier">gcsafe</span><span class="Other">,</span> <span class="Identifier">extern</span><span class="Other">:</span> <span class="StringLit">&quot;npegsOptional&quot;</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
                    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

constructs an optional for the PEG <tt class="docutils literal"><span class="pre">a</span></tt>
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L219"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L219" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="*,Peg"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#%2A%2CPeg"><span class="Identifier">`*`</span></a><span class="Other">(</span><span class="Identifier">a</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a><span class="Other">)</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">noSideEffect</span><span class="Other">,</span> <span class="Identifier">gcsafe</span><span class="Other">,</span> <span class="Identifier">extern</span><span class="Other">:</span> <span class="StringLit">&quot;npegsGreedyRep&quot;</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
                    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

constructs a &quot;greedy repetition&quot; for the PEG <tt class="docutils literal"><span class="pre">a</span></tt>
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L229"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L229" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="!*,Peg"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#%21%2A%2CPeg"><span class="Identifier">`!*`</span></a><span class="Other">(</span><span class="Identifier">a</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a><span class="Other">)</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">noSideEffect</span><span class="Other">,</span> <span class="Identifier">gcsafe</span><span class="Other">,</span> <span class="Identifier">extern</span><span class="Other">:</span> <span class="StringLit">&quot;npegsSearch&quot;</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

constructs a &quot;search&quot; for the PEG <tt class="docutils literal"><span class="pre">a</span></tt>
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L244"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L244" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="!*\,Peg"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#%21%2A%5C%2CPeg"><span class="Identifier">`!*\`</span></a><span class="Other">(</span><span class="Identifier">a</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a><span class="Other">)</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">noSideEffect</span><span class="Other">,</span> <span class="Identifier">gcsafe</span><span class="Other">,</span> <span class="Identifier">extern</span><span class="Other">:</span> <span class="StringLit">&quot;npgegsCapturedSearch&quot;</span><span class="Other">,</span>
                      <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

constructs a &quot;captured search&quot; for the PEG <tt class="docutils literal"><span class="pre">a</span></tt>
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L248"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L248" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="+,Peg"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#%2B%2CPeg"><span class="Identifier">`+`</span></a><span class="Other">(</span><span class="Identifier">a</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a><span class="Other">)</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">noSideEffect</span><span class="Other">,</span> <span class="Identifier">gcsafe</span><span class="Other">,</span> <span class="Identifier">extern</span><span class="Other">:</span> <span class="StringLit">&quot;npegsGreedyPosRep&quot;</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
                    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

constructs a &quot;greedy positive repetition&quot; with the PEG <tt class="docutils literal"><span class="pre">a</span></tt>
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L253"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L253" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="&,Peg"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#%26%2CPeg"><span class="Identifier">`&amp;`</span></a><span class="Other">(</span><span class="Identifier">a</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a><span class="Other">)</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">noSideEffect</span><span class="Other">,</span> <span class="Identifier">gcsafe</span><span class="Other">,</span> <span class="Identifier">extern</span><span class="Other">:</span> <span class="StringLit">&quot;npegsAndPredicate&quot;</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
                    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

constructs an &quot;and predicate&quot; with the PEG <tt class="docutils literal"><span class="pre">a</span></tt>
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L257"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L257" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="!,Peg"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#%21%2CPeg"><span class="Identifier">`!`</span></a><span class="Other">(</span><span class="Identifier">a</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a><span class="Other">)</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">noSideEffect</span><span class="Other">,</span> <span class="Identifier">gcsafe</span><span class="Other">,</span> <span class="Identifier">extern</span><span class="Other">:</span> <span class="StringLit">&quot;npegsNotPredicate&quot;</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
                    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

constructs a &quot;not predicate&quot; with the PEG <tt class="docutils literal"><span class="pre">a</span></tt>
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L261"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L261" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="any"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#any"><span class="Identifier">any</span></a><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

constructs the PEG <span id="any-character_1">any character</span> (<tt class="docutils literal"><span class="pre">.</span></tt>)
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L265"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L265" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="anyRune"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#anyRune"><span class="Identifier">anyRune</span></a><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

constructs the PEG <span id="any-rune_1">any rune</span> (<tt class="docutils literal"><span class="pre">_</span></tt>)
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L269"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L269" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="newLine"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#newLine"><span class="Identifier">newLine</span></a><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

constructs the PEG <span id="newline_1">newline</span> (<tt class="docutils literal"><span class="pre">\n</span></tt>)
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L273"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L273" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="unicodeLetter"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#unicodeLetter"><span class="Identifier">unicodeLetter</span></a><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

constructs the PEG <tt class="docutils literal"><span class="pre">\letter</span></tt> which matches any Unicode letter.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L277"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L277" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="unicodeLower"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#unicodeLower"><span class="Identifier">unicodeLower</span></a><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

constructs the PEG <tt class="docutils literal"><span class="pre">\lower</span></tt> which matches any Unicode lowercase letter.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L281"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L281" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="unicodeUpper"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#unicodeUpper"><span class="Identifier">unicodeUpper</span></a><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

constructs the PEG <tt class="docutils literal"><span class="pre">\upper</span></tt> which matches any Unicode uppercase letter.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L285"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L285" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="unicodeTitle"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#unicodeTitle"><span class="Identifier">unicodeTitle</span></a><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

constructs the PEG <tt class="docutils literal"><span class="pre">\title</span></tt> which matches any Unicode title letter.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L289"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L289" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="unicodeWhitespace"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#unicodeWhitespace"><span class="Identifier">unicodeWhitespace</span></a><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

constructs the PEG <tt class="docutils literal"><span class="pre">\white</span></tt> which matches any Unicode whitespace character.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L293"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L293" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="startAnchor"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#startAnchor"><span class="Identifier">startAnchor</span></a><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

constructs the PEG <tt class="docutils literal"><span class="pre">^</span></tt> which matches the start of the input.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L298"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L298" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="endAnchor"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#endAnchor"><span class="Identifier">endAnchor</span></a><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

constructs the PEG <tt class="docutils literal"><span class="pre">$</span></tt> which matches the end of the input.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L302"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L302" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="capture,Peg"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#capture%2CPeg"><span class="Identifier">capture</span></a><span class="Other">(</span><span class="Identifier">a</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a><span class="Other">)</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">noSideEffect</span><span class="Other">,</span> <span class="Identifier">gcsafe</span><span class="Other">,</span> <span class="Identifier">extern</span><span class="Other">:</span> <span class="StringLit">&quot;npegsCapture&quot;</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
                        <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

constructs a capture with the PEG <tt class="docutils literal"><span class="pre">a</span></tt>
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L306"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L306" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="backref,range[]"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#backref%2Crange%5B%5D"><span class="Identifier">backref</span></a><span class="Other">(</span><span class="Identifier">index</span><span class="Other">:</span> <a href="system.html#range"><span class="Identifier">range</span></a><span class="Other">[</span><span class="DecNumber">1</span> <span class="Operator">..</span> <span class="Identifier">MaxSubpatterns</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">noSideEffect</span><span class="Other">,</span> <span class="Identifier">gcsafe</span><span class="Other">,</span>
    <span class="Identifier">extern</span><span class="Other">:</span> <span class="StringLit">&quot;npegs$1&quot;</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

constructs a back reference of the given <tt class="docutils literal"><span class="pre">index</span></tt>. <tt class="docutils literal"><span class="pre">index</span></tt> starts counting from 1.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L310"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L310" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="backrefIgnoreCase,range[]"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#backrefIgnoreCase%2Crange%5B%5D"><span class="Identifier">backrefIgnoreCase</span></a><span class="Other">(</span><span class="Identifier">index</span><span class="Other">:</span> <a href="system.html#range"><span class="Identifier">range</span></a><span class="Other">[</span><span class="DecNumber">1</span> <span class="Operator">..</span> <span class="Identifier">MaxSubpatterns</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">noSideEffect</span><span class="Other">,</span> <span class="Identifier">gcsafe</span><span class="Other">,</span>
    <span class="Identifier">extern</span><span class="Other">:</span> <span class="StringLit">&quot;npegs$1&quot;</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

constructs a back reference of the given <tt class="docutils literal"><span class="pre">index</span></tt>. <tt class="docutils literal"><span class="pre">index</span></tt> starts counting from 1. Ignores case for matching.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L316"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L316" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="backrefIgnoreStyle,range[]"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#backrefIgnoreStyle%2Crange%5B%5D"><span class="Identifier">backrefIgnoreStyle</span></a><span class="Other">(</span><span class="Identifier">index</span><span class="Other">:</span> <a href="system.html#range"><span class="Identifier">range</span></a><span class="Other">[</span><span class="DecNumber">1</span> <span class="Operator">..</span> <span class="Identifier">MaxSubpatterns</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">noSideEffect</span><span class="Other">,</span> <span class="Identifier">gcsafe</span><span class="Other">,</span>
    <span class="Identifier">extern</span><span class="Other">:</span> <span class="StringLit">&quot;npegs$1&quot;</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

constructs a back reference of the given <tt class="docutils literal"><span class="pre">index</span></tt>. <tt class="docutils literal"><span class="pre">index</span></tt> starts counting from 1. Ignores style for matching.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L322"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L322" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="nonterminal,NonTerminal"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#nonterminal%2CNonTerminal"><span class="Identifier">nonterminal</span></a><span class="Other">(</span><span class="Identifier">n</span><span class="Other">:</span> <a href="pegs.html#NonTerminal"><span class="Identifier">NonTerminal</span></a><span class="Other">)</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">noSideEffect</span><span class="Other">,</span> <span class="Identifier">gcsafe</span><span class="Other">,</span> <span class="Identifier">extern</span><span class="Other">:</span> <span class="StringLit">&quot;npegs$1&quot;</span><span class="Other">,</span>
                                    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

constructs a PEG that consists of the nonterminal symbol
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L343"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L343" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="newNonTerminal,string,int,int"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#newNonTerminal%2Cstring%2Cint%2Cint"><span class="Identifier">newNonTerminal</span></a><span class="Other">(</span><span class="Identifier">name</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">;</span> <span class="Identifier">line</span><span class="Other">,</span> <span class="Identifier">column</span><span class="Other">:</span> <a href="system.html#int"><span class="Identifier">int</span></a><span class="Other">)</span><span class="Other">:</span> <a href="pegs.html#NonTerminal"><span class="Identifier">NonTerminal</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">noSideEffect</span><span class="Other">,</span>
    <span class="Identifier">gcsafe</span><span class="Other">,</span> <span class="Identifier">extern</span><span class="Other">:</span> <span class="StringLit">&quot;npegs$1&quot;</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

constructs a nonterminal symbol
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L353"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L353" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="$,Peg"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#%24%2CPeg"><span class="Identifier">`$`</span></a><span class="Other">(</span><span class="Identifier">r</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a><span class="Other">)</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">noSideEffect</span><span class="Other">,</span> <span class="Identifier">gcsafe</span><span class="Other">,</span> <span class="Identifier">extern</span><span class="Other">:</span> <span class="StringLit">&quot;npegsToString&quot;</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
                       <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

converts a PEG to its string representation
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L521"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L521" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="bounds,Captures,range[]"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#bounds%2CCaptures%2Crange%5B%5D"><span class="Identifier">bounds</span></a><span class="Other">(</span><span class="Identifier">c</span><span class="Other">:</span> <a href="pegs.html#Captures"><span class="Identifier">Captures</span></a><span class="Other">;</span> <span class="Identifier">i</span><span class="Other">:</span> <a href="system.html#range"><span class="Identifier">range</span></a><span class="Other">[</span><span class="DecNumber">0</span> <span class="Operator">..</span> <span class="DecNumber">20</span> <span class="Operator">-</span> <span class="DecNumber">1</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Keyword">tuple</span><span class="Other">[</span><span class="Identifier">first</span><span class="Other">,</span> <span class="Identifier">last</span><span class="Other">:</span> <a href="system.html#int"><span class="Identifier">int</span></a><span class="Other">]</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

returns the bounds <tt class="docutils literal"><span class="pre">[first..last]</span></tt> of the <tt class="docutils literal"><span class="pre">i</span></tt>'th capture.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L534"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L534" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="rawMatch,string,Peg,int,Captures"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#rawMatch%2Cstring%2CPeg%2Cint%2CCaptures"><span class="Identifier">rawMatch</span></a><span class="Other">(</span><span class="Identifier">s</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">;</span> <span class="Identifier">p</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a><span class="Other">;</span> <span class="Identifier">start</span><span class="Other">:</span> <a href="system.html#int"><span class="Identifier">int</span></a><span class="Other">;</span> <span class="Identifier">c</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="pegs.html#Captures"><span class="Identifier">Captures</span></a><span class="Other">)</span><span class="Other">:</span> <a href="system.html#int"><span class="Identifier">int</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">noSideEffect</span><span class="Other">,</span> <span class="Identifier">gcsafe</span><span class="Other">,</span>
    <span class="Identifier">extern</span><span class="Other">:</span> <span class="StringLit">&quot;npegs$1&quot;</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

low-level matching proc that implements the PEG interpreter. Use this for maximum efficiency (every other PEG operation ends up calling this proc). Returns -1 if it does not match, else the length of the match
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L853"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L853" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="matchLen,string,Peg,openArray[string],int"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#matchLen%2Cstring%2CPeg%2CopenArray%5Bstring%5D%2Cint"><span class="Identifier">matchLen</span></a><span class="Other">(</span><span class="Identifier">s</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">;</span> <span class="Identifier">pattern</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a><span class="Other">;</span> <span class="Identifier">matches</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="system.html#openArray"><span class="Identifier">openArray</span></a><span class="Other">[</span><a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">start</span> <span class="Other">=</span> <span class="DecNumber">0</span><span class="Other">)</span><span class="Other">:</span> <a href="system.html#int"><span class="Identifier">int</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">noSideEffect</span><span class="Other">,</span> <span class="Identifier">gcsafe</span><span class="Other">,</span> <span class="Identifier">extern</span><span class="Other">:</span> <span class="StringLit">&quot;npegs$1Capture&quot;</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

the same as <tt class="docutils literal"><span class="pre">match</span></tt>, but it returns the length of the match, if there is no match, -1 is returned. Note that a match length of zero can happen. It's possible that a suffix of <tt class="docutils literal"><span class="pre">s</span></tt> remains that does not belong to the match.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L1062"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L1062" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="matchLen,string,Peg,int"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#matchLen%2Cstring%2CPeg%2Cint"><span class="Identifier">matchLen</span></a><span class="Other">(</span><span class="Identifier">s</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">;</span> <span class="Identifier">pattern</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a><span class="Other">;</span> <span class="Identifier">start</span> <span class="Other">=</span> <span class="DecNumber">0</span><span class="Other">)</span><span class="Other">:</span> <a href="system.html#int"><span class="Identifier">int</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">noSideEffect</span><span class="Other">,</span> <span class="Identifier">gcsafe</span><span class="Other">,</span>
    <span class="Identifier">extern</span><span class="Other">:</span> <span class="StringLit">&quot;npegs$1&quot;</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

the same as <tt class="docutils literal"><span class="pre">match</span></tt>, but it returns the length of the match, if there is no match, -1 is returned. Note that a match length of zero can happen. It's possible that a suffix of <tt class="docutils literal"><span class="pre">s</span></tt> remains that does not belong to the match.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L1073"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L1073" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="match,string,Peg,openArray[string],int"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#match%2Cstring%2CPeg%2CopenArray%5Bstring%5D%2Cint"><span class="Identifier">match</span></a><span class="Other">(</span><span class="Identifier">s</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">;</span> <span class="Identifier">pattern</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a><span class="Other">;</span> <span class="Identifier">matches</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="system.html#openArray"><span class="Identifier">openArray</span></a><span class="Other">[</span><a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">start</span> <span class="Other">=</span> <span class="DecNumber">0</span><span class="Other">)</span><span class="Other">:</span> <a href="system.html#bool"><span class="Identifier">bool</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">noSideEffect</span><span class="Other">,</span> <span class="Identifier">gcsafe</span><span class="Other">,</span> <span class="Identifier">extern</span><span class="Other">:</span> <span class="StringLit">&quot;npegs$1Capture&quot;</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

returns <tt class="docutils literal"><span class="pre">true</span></tt> if <tt class="docutils literal"><span class="pre">s[start..]</span></tt> matches the <tt class="docutils literal"><span class="pre">pattern</span></tt> and the captured substrings in the array <tt class="docutils literal"><span class="pre">matches</span></tt>. If it does not match, nothing is written into <tt class="docutils literal"><span class="pre">matches</span></tt> and <tt class="docutils literal"><span class="pre">false</span></tt> is returned.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L1083"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L1083" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="match,string,Peg,int"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#match%2Cstring%2CPeg%2Cint"><span class="Identifier">match</span></a><span class="Other">(</span><span class="Identifier">s</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">;</span> <span class="Identifier">pattern</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a><span class="Other">;</span> <span class="Identifier">start</span> <span class="Other">=</span> <span class="DecNumber">0</span><span class="Other">)</span><span class="Other">:</span> <a href="system.html#bool"><span class="Identifier">bool</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">noSideEffect</span><span class="Other">,</span> <span class="Identifier">gcsafe</span><span class="Other">,</span>
    <span class="Identifier">extern</span><span class="Other">:</span> <span class="StringLit">&quot;npegs$1&quot;</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

returns <tt class="docutils literal"><span class="pre">true</span></tt> if <tt class="docutils literal"><span class="pre">s</span></tt> matches the <tt class="docutils literal"><span class="pre">pattern</span></tt> beginning from <tt class="docutils literal"><span class="pre">start</span></tt>.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L1091"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L1091" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="find,string,Peg,openArray[string],int"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#find%2Cstring%2CPeg%2CopenArray%5Bstring%5D%2Cint"><span class="Identifier">find</span></a><span class="Other">(</span><span class="Identifier">s</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">;</span> <span class="Identifier">pattern</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a><span class="Other">;</span> <span class="Identifier">matches</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="system.html#openArray"><span class="Identifier">openArray</span></a><span class="Other">[</span><a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">start</span> <span class="Other">=</span> <span class="DecNumber">0</span><span class="Other">)</span><span class="Other">:</span> <a href="system.html#int"><span class="Identifier">int</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">noSideEffect</span><span class="Other">,</span> <span class="Identifier">gcsafe</span><span class="Other">,</span> <span class="Identifier">extern</span><span class="Other">:</span> <span class="StringLit">&quot;npegs$1Capture&quot;</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

returns the starting position of <tt class="docutils literal"><span class="pre">pattern</span></tt> in <tt class="docutils literal"><span class="pre">s</span></tt> and the captured substrings in the array <tt class="docutils literal"><span class="pre">matches</span></tt>. If it does not match, nothing is written into <tt class="docutils literal"><span class="pre">matches</span></tt> and -1 is returned.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L1097"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L1097" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="findBounds,string,Peg,openArray[string],int"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#findBounds%2Cstring%2CPeg%2CopenArray%5Bstring%5D%2Cint"><span class="Identifier">findBounds</span></a><span class="Other">(</span><span class="Identifier">s</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">;</span> <span class="Identifier">pattern</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a><span class="Other">;</span> <span class="Identifier">matches</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="system.html#openArray"><span class="Identifier">openArray</span></a><span class="Other">[</span><a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">start</span> <span class="Other">=</span> <span class="DecNumber">0</span><span class="Other">)</span><span class="Other">:</span> <span class="Keyword">tuple</span><span class="Other">[</span>
    <span class="Identifier">first</span><span class="Other">,</span> <span class="Identifier">last</span><span class="Other">:</span> <a href="system.html#int"><span class="Identifier">int</span></a><span class="Other">]</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">noSideEffect</span><span class="Other">,</span> <span class="Identifier">gcsafe</span><span class="Other">,</span> <span class="Identifier">extern</span><span class="Other">:</span> <span class="StringLit">&quot;npegs$1Capture&quot;</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
                     <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

returns the starting position and end position of <tt class="docutils literal"><span class="pre">pattern</span></tt> in <tt class="docutils literal"><span class="pre">s</span></tt> and the captured substrings in the array <tt class="docutils literal"><span class="pre">matches</span></tt>. If it does not match, nothing is written into <tt class="docutils literal"><span class="pre">matches</span></tt> and (-1,0) is returned.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L1112"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L1112" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="find,string,Peg,int"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#find%2Cstring%2CPeg%2Cint"><span class="Identifier">find</span></a><span class="Other">(</span><span class="Identifier">s</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">;</span> <span class="Identifier">pattern</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a><span class="Other">;</span> <span class="Identifier">start</span> <span class="Other">=</span> <span class="DecNumber">0</span><span class="Other">)</span><span class="Other">:</span> <a href="system.html#int"><span class="Identifier">int</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">noSideEffect</span><span class="Other">,</span> <span class="Identifier">gcsafe</span><span class="Other">,</span>
    <span class="Identifier">extern</span><span class="Other">:</span> <span class="StringLit">&quot;npegs$1&quot;</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

returns the starting position of <tt class="docutils literal"><span class="pre">pattern</span></tt> in <tt class="docutils literal"><span class="pre">s</span></tt>. If it does not match, -1 is returned.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L1129"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L1129" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="findAll,string,Peg,int"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#findAll%2Cstring%2CPeg%2Cint"><span class="Identifier">findAll</span></a><span class="Other">(</span><span class="Identifier">s</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">;</span> <span class="Identifier">pattern</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a><span class="Other">;</span> <span class="Identifier">start</span> <span class="Other">=</span> <span class="DecNumber">0</span><span class="Other">)</span><span class="Other">:</span> <a href="system.html#seq"><span class="Identifier">seq</span></a><span class="Other">[</span><a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">]</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">noSideEffect</span><span class="Other">,</span> <span class="Identifier">gcsafe</span><span class="Other">,</span>
    <span class="Identifier">extern</span><span class="Other">:</span> <span class="StringLit">&quot;npegs$1&quot;</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

returns all matching <em>substrings</em> of <tt class="docutils literal"><span class="pre">s</span></tt> that match <tt class="docutils literal"><span class="pre">pattern</span></tt>. If it does not match, @[] is returned.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L1153"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L1153" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="contains,string,Peg,int"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#contains%2Cstring%2CPeg%2Cint"><span class="Identifier">contains</span></a><span class="Other">(</span><span class="Identifier">s</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">;</span> <span class="Identifier">pattern</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a><span class="Other">;</span> <span class="Identifier">start</span> <span class="Other">=</span> <span class="DecNumber">0</span><span class="Other">)</span><span class="Other">:</span> <a href="system.html#bool"><span class="Identifier">bool</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">noSideEffect</span><span class="Other">,</span> <span class="Identifier">gcsafe</span><span class="Other">,</span>
    <span class="Identifier">extern</span><span class="Other">:</span> <span class="StringLit">&quot;npegs$1&quot;</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

same as <tt class="docutils literal"><span class="pre">find(s, pattern, start) &gt;= 0</span></tt>
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L1188"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L1188" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="contains,string,Peg,openArray[string],int"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#contains%2Cstring%2CPeg%2CopenArray%5Bstring%5D%2Cint"><span class="Identifier">contains</span></a><span class="Other">(</span><span class="Identifier">s</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">;</span> <span class="Identifier">pattern</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a><span class="Other">;</span> <span class="Identifier">matches</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="system.html#openArray"><span class="Identifier">openArray</span></a><span class="Other">[</span><a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">]</span><span class="Other">;</span> <span class="Identifier">start</span> <span class="Other">=</span> <span class="DecNumber">0</span><span class="Other">)</span><span class="Other">:</span> <a href="system.html#bool"><span class="Identifier">bool</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">noSideEffect</span><span class="Other">,</span> <span class="Identifier">gcsafe</span><span class="Other">,</span> <span class="Identifier">extern</span><span class="Other">:</span> <span class="StringLit">&quot;npegs$1Capture&quot;</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

same as <tt class="docutils literal"><span class="pre">find(s, pattern, matches, start) &gt;= 0</span></tt>
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L1193"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L1193" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="startsWith,string,Peg,int"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#startsWith%2Cstring%2CPeg%2Cint"><span class="Identifier">startsWith</span></a><span class="Other">(</span><span class="Identifier">s</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">;</span> <span class="Identifier">prefix</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a><span class="Other">;</span> <span class="Identifier">start</span> <span class="Other">=</span> <span class="DecNumber">0</span><span class="Other">)</span><span class="Other">:</span> <a href="system.html#bool"><span class="Identifier">bool</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">noSideEffect</span><span class="Other">,</span> <span class="Identifier">gcsafe</span><span class="Other">,</span>
    <span class="Identifier">extern</span><span class="Other">:</span> <span class="StringLit">&quot;npegs$1&quot;</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

returns true if <tt class="docutils literal"><span class="pre">s</span></tt> starts with the pattern <tt class="docutils literal"><span class="pre">prefix</span></tt>
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L1198"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L1198" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="endsWith,string,Peg,int"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#endsWith%2Cstring%2CPeg%2Cint"><span class="Identifier">endsWith</span></a><span class="Other">(</span><span class="Identifier">s</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">;</span> <span class="Identifier">suffix</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a><span class="Other">;</span> <span class="Identifier">start</span> <span class="Other">=</span> <span class="DecNumber">0</span><span class="Other">)</span><span class="Other">:</span> <a href="system.html#bool"><span class="Identifier">bool</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">noSideEffect</span><span class="Other">,</span> <span class="Identifier">gcsafe</span><span class="Other">,</span>
    <span class="Identifier">extern</span><span class="Other">:</span> <span class="StringLit">&quot;npegs$1&quot;</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

returns true if <tt class="docutils literal"><span class="pre">s</span></tt> ends with the pattern <tt class="docutils literal"><span class="pre">suffix</span></tt>
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L1203"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L1203" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="replacef,string,Peg,string"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#replacef%2Cstring%2CPeg%2Cstring"><span class="Identifier">replacef</span></a><span class="Other">(</span><span class="Identifier">s</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">;</span> <span class="Identifier">sub</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a><span class="Other">;</span> <span class="Identifier">by</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">)</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">noSideEffect</span><span class="Other">,</span> <span class="Identifier">gcsafe</span><span class="Other">,</span>
    <span class="Identifier">extern</span><span class="Other">:</span> <span class="StringLit">&quot;npegs$1&quot;</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Replaces <tt class="docutils literal"><span class="pre">sub</span></tt> in <tt class="docutils literal"><span class="pre">s</span></tt> by the string <tt class="docutils literal"><span class="pre">by</span></tt>. Captures can be accessed in <tt class="docutils literal"><span class="pre">by</span></tt> with the notation <tt class="docutils literal"><span class="pre">$i</span></tt> and <tt class="docutils literal"><span class="pre">$#</span></tt> (see strutils.`%`). Examples:<pre class="listing"><span class="StringLit">&quot;var1=key; var2=key2&quot;</span><span class="Operator">.</span><span class="Identifier">replacef</span><span class="Punctuation">(</span><span class="RawData">peg&quot;{\ident}'='{\ident}&quot;</span><span class="Punctuation">,</span> <span class="StringLit">&quot;$1&lt;-$2$2&quot;</span><span class="Punctuation">)</span></pre><p>Results in:</p>
<pre class="listing"><span class="StringLit">&quot;var1&lt;-keykey; val2&lt;-key2key2&quot;</span></pre>
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L1211"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L1211" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="replace,string,Peg,string"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#replace%2Cstring%2CPeg%2Cstring"><span class="Identifier">replace</span></a><span class="Other">(</span><span class="Identifier">s</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">;</span> <span class="Identifier">sub</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a><span class="Other">;</span> <span class="Identifier">by</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">)</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">noSideEffect</span><span class="Other">,</span> <span class="Identifier">gcsafe</span><span class="Other">,</span>
    <span class="Identifier">extern</span><span class="Other">:</span> <span class="StringLit">&quot;npegs$1&quot;</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Replaces <tt class="docutils literal"><span class="pre">sub</span></tt> in <tt class="docutils literal"><span class="pre">s</span></tt> by the string <tt class="docutils literal"><span class="pre">by</span></tt>. Captures cannot be accessed in <tt class="docutils literal"><span class="pre">by</span></tt>.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L1240"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L1240" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="parallelReplace,string,varargs[tuple[Peg,string]]"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#parallelReplace%2Cstring%2Cvarargs%5Btuple%5BPeg%2Cstring%5D%5D"><span class="Identifier">parallelReplace</span></a><span class="Other">(</span><span class="Identifier">s</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">;</span> <span class="Identifier">subs</span><span class="Other">:</span> <a href="system.html#varargs"><span class="Identifier">varargs</span></a><span class="Other">[</span><span class="Keyword">tuple</span><span class="Other">[</span><span class="Identifier">pattern</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a><span class="Other">,</span> <span class="Identifier">repl</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">]</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">noSideEffect</span><span class="Other">,</span> <span class="Identifier">gcsafe</span><span class="Other">,</span> <span class="Identifier">extern</span><span class="Other">:</span> <span class="StringLit">&quot;npegs$1&quot;</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Returns a modified copy of <tt class="docutils literal"><span class="pre">s</span></tt> with the substitutions in <tt class="docutils literal"><span class="pre">subs</span></tt> applied in parallel.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L1257"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L1257" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="replace,string,Peg,proc(int,int,openArray[string])"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#replace%2Cstring%2CPeg%2Cproc%28int%2Cint%2CopenArray%5Bstring%5D%29"><span class="Identifier">replace</span></a><span class="Other">(</span><span class="Identifier">s</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">;</span> <span class="Identifier">sub</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a><span class="Other">;</span>
            <span class="Identifier">cb</span><span class="Other">:</span> <span class="Keyword">proc</span> <span class="Other">(</span><span class="Identifier">match</span><span class="Other">:</span> <a href="system.html#int"><span class="Identifier">int</span></a><span class="Other">;</span> <span class="Identifier">cnt</span><span class="Other">:</span> <a href="system.html#int"><span class="Identifier">int</span></a><span class="Other">;</span> <span class="Identifier">caps</span><span class="Other">:</span> <a href="system.html#openArray"><span class="Identifier">openArray</span></a><span class="Other">[</span><a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">)</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">gcsafe</span><span class="Other">,</span> <span class="Identifier">extern</span><span class="Other">:</span> <span class="StringLit">&quot;npegs$1cb&quot;</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Replaces <tt class="docutils literal"><span class="pre">sub</span></tt> in <tt class="docutils literal"><span class="pre">s</span></tt> by the resulting strings from the callback. The callback proc receives the index of the current match (starting with 0), the count of captures and an open array with the captures of each match. Examples:<pre class="listing"><span class="Keyword">proc</span> <span class="Identifier">handleMatches</span><span class="Operator">*</span><span class="Punctuation">(</span><span class="Identifier">m</span><span class="Punctuation">:</span> <span class="Identifier">int</span><span class="Punctuation">,</span> <span class="Identifier">n</span><span class="Punctuation">:</span> <span class="Identifier">int</span><span class="Punctuation">,</span> <span class="Identifier">c</span><span class="Punctuation">:</span> <span class="Identifier">openArray</span><span class="Punctuation">[</span><span class="Identifier">string</span><span class="Punctuation">]</span><span class="Punctuation">)</span><span class="Punctuation">:</span> <span class="Identifier">string</span> <span class="Operator">=</span>
  <span class="Identifier">result</span> <span class="Operator">=</span> <span class="StringLit">&quot;&quot;</span>
  <span class="Keyword">if</span> <span class="Identifier">m</span> <span class="Operator">&gt;</span> <span class="DecNumber">0</span><span class="Punctuation">:</span>
    <span class="Identifier">result</span><span class="Operator">.</span><span class="Identifier">add</span> <span class="StringLit">&quot;, &quot;</span>
  <span class="Identifier">result</span><span class="Operator">.</span><span class="Identifier">add</span> <span class="Keyword">case</span> <span class="Identifier">n</span><span class="Punctuation">:</span>
    <span class="Keyword">of</span> <span class="DecNumber">2</span><span class="Punctuation">:</span> <span class="Identifier">c</span><span class="Punctuation">[</span><span class="DecNumber">0</span><span class="Punctuation">]</span><span class="Operator">.</span><span class="Identifier">toLower</span> <span class="Operator">&amp;</span> <span class="StringLit">&quot;: '&quot;</span> <span class="Operator">&amp;</span> <span class="Identifier">c</span><span class="Punctuation">[</span><span class="DecNumber">1</span><span class="Punctuation">]</span> <span class="Operator">&amp;</span> <span class="StringLit">&quot;'&quot;</span>
    <span class="Keyword">of</span> <span class="DecNumber">1</span><span class="Punctuation">:</span> <span class="Identifier">c</span><span class="Punctuation">[</span><span class="DecNumber">0</span><span class="Punctuation">]</span><span class="Operator">.</span><span class="Identifier">toLower</span> <span class="Operator">&amp;</span> <span class="StringLit">&quot;: ''&quot;</span>
    <span class="Keyword">else</span><span class="Punctuation">:</span> <span class="StringLit">&quot;&quot;</span>

<span class="Keyword">let</span> <span class="Identifier">s</span> <span class="Operator">=</span> <span class="StringLit">&quot;Var1=key1;var2=Key2;   VAR3&quot;</span>
<span class="Identifier">echo</span> <span class="Identifier">s</span><span class="Operator">.</span><span class="Identifier">replace</span><span class="Punctuation">(</span><span class="RawData">peg&quot;{\ident}('='{\ident})* ';'* \s*&quot;</span><span class="Punctuation">,</span> <span class="Identifier">handleMatches</span><span class="Punctuation">)</span></pre><p>Results in:</p>
<pre class="listing"><span class="StringLit">&quot;var1: 'key1', var2: 'Key2', var3: ''&quot;</span></pre>
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L1281"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L1281" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="transformFile,string,string,varargs[tuple[Peg,string]]"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#transformFile%2Cstring%2Cstring%2Cvarargs%5Btuple%5BPeg%2Cstring%5D%5D"><span class="Identifier">transformFile</span></a><span class="Other">(</span><span class="Identifier">infile</span><span class="Other">,</span> <span class="Identifier">outfile</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">;</span>
                  <span class="Identifier">subs</span><span class="Other">:</span> <a href="system.html#varargs"><span class="Identifier">varargs</span></a><span class="Other">[</span><span class="Keyword">tuple</span><span class="Other">[</span><span class="Identifier">pattern</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a><span class="Other">,</span> <span class="Identifier">repl</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">]</span><span class="Other">]</span><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">gcsafe</span><span class="Other">,</span>
    <span class="Identifier">extern</span><span class="Other">:</span> <span class="StringLit">&quot;npegs$1&quot;</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ReadIOEffect</span><span class="Other">,</span> <span class="Identifier">WriteIOEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>reads in the file <tt class="docutils literal"><span class="pre">infile</span></tt>, performs a parallel replacement (calls <tt class="docutils literal"><span class="pre">parallelReplace</span></tt>) and writes back to <tt class="docutils literal"><span class="pre">outfile</span></tt>. Raises <tt class="docutils literal"><span class="pre">IOError</span></tt> if an error occurs. This is supposed to be used for quick scripting.</p>
<p><strong>Note</strong>: this proc does not exist while using the JS backend.</p>

&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L1326"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L1326" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="split,string,Peg"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#split%2Cstring%2CPeg"><span class="Identifier">split</span></a><span class="Other">(</span><span class="Identifier">s</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">;</span> <span class="Identifier">sep</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a><span class="Other">)</span><span class="Other">:</span> <a href="system.html#seq"><span class="Identifier">seq</span></a><span class="Other">[</span><a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">]</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">noSideEffect</span><span class="Other">,</span> <span class="Identifier">gcsafe</span><span class="Other">,</span> <span class="Identifier">extern</span><span class="Other">:</span> <span class="StringLit">&quot;npegs$1&quot;</span><span class="Other">,</span>
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Splits the string <tt class="docutils literal"><span class="pre">s</span></tt> into substrings.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L1373"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L1373" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="parsePeg,string,string,int,int"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#parsePeg%2Cstring%2Cstring%2Cint%2Cint"><span class="Identifier">parsePeg</span></a><span class="Other">(</span><span class="Identifier">pattern</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">;</span> <span class="Identifier">filename</span> <span class="Other">=</span> <span class="StringLit">&quot;pattern&quot;</span><span class="Other">;</span> <span class="Identifier">line</span> <span class="Other">=</span> <span class="DecNumber">1</span><span class="Other">;</span> <span class="Identifier">col</span> <span class="Other">=</span> <span class="DecNumber">0</span><span class="Other">)</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma">
    <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">,</span> <span class="Identifier">EInvalidPeg</span><span class="Other">,</span> <span class="Identifier">Exception</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

constructs a Peg object from <tt class="docutils literal"><span class="pre">pattern</span></tt>. <tt class="docutils literal"><span class="pre">filename</span></tt>, <tt class="docutils literal"><span class="pre">line</span></tt>, <tt class="docutils literal"><span class="pre">col</span></tt> are used for error messages, but they only provide start offsets. <tt class="docutils literal"><span class="pre">parsePeg</span></tt> keeps track of line and column numbers within <tt class="docutils literal"><span class="pre">pattern</span></tt>.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L2017"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L2017" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="peg,string"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#peg%2Cstring"><span class="Identifier">peg</span></a><span class="Other">(</span><span class="Identifier">pattern</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">)</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">,</span> <span class="Identifier">EInvalidPeg</span><span class="Other">,</span> <span class="Identifier">Exception</span><span class="Other">]</span><span class="Other">,</span>
                             <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

constructs a Peg object from the <tt class="docutils literal"><span class="pre">pattern</span></tt>. The short name has been chosen to encourage its use as a raw string modifier:<pre>
peg&quot;{\ident} \s* '=' \s* {.*}&quot;</pre>

&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L2032"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L2032" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="escapePeg,string"></a>
<dt><pre><span class="Keyword">proc</span> <a href="#escapePeg%2Cstring"><span class="Identifier">escapePeg</span></a><span class="Other">(</span><span class="Identifier">s</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">)</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

escapes <tt class="docutils literal"><span class="pre">s</span></tt> so that it is matched verbatim when used as a peg.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L2039"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L2039" class="link-seesrc" target="_blank" >Edit</a>

</dd>

</dl></div>
<div class="section" id="15">
<h1><a class="toc-backref" href="#15">Iterators</a></h1>
<dl class="item">
<a id="items.i,Peg"></a>
<dt><pre><span class="Keyword">iterator</span> <a href="#items.i%2CPeg"><span class="Identifier">items</span></a><span class="Other">(</span><span class="Identifier">p</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a><span class="Other">)</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Yields the child nodes of a <em>Peg</em> variant object where present.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L112"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L112" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="pairs.i,Peg"></a>
<dt><pre><span class="Keyword">iterator</span> <a href="#pairs.i%2CPeg"><span class="Identifier">pairs</span></a><span class="Other">(</span><span class="Identifier">p</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Other">(</span><a href="system.html#int"><span class="Identifier">int</span></a><span class="Other">,</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a><span class="Other">)</span> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">inline</span><span class="Other">,</span> <span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

Yields the indices and child nodes of a <em>Peg</em> variant object where present.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L117"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L117" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="findAll.i,string,Peg,int"></a>
<dt><pre><span class="Keyword">iterator</span> <a href="#findAll.i%2Cstring%2CPeg%2Cint"><span class="Identifier">findAll</span></a><span class="Other">(</span><span class="Identifier">s</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">;</span> <span class="Identifier">pattern</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a><span class="Other">;</span> <span class="Identifier">start</span> <span class="Other">=</span> <span class="DecNumber">0</span><span class="Other">)</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

yields all matching <em>substrings</em> of <tt class="docutils literal"><span class="pre">s</span></tt> that match <tt class="docutils literal"><span class="pre">pattern</span></tt>.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L1139"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L1139" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="split.i,string,Peg"></a>
<dt><pre><span class="Keyword">iterator</span> <a href="#split.i%2Cstring%2CPeg"><span class="Identifier">split</span></a><span class="Other">(</span><span class="Identifier">s</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">;</span> <span class="Identifier">sep</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a><span class="Other">)</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a> <span><span class="Other">{</span><span class="Other pragmadots">...</span><span class="Other">}</span></span><span class="pragmawrap"><span class="Other">{.</span><span class="pragma"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span><span class="Other">.}</span></span></pre></dt>
<dd>

<p>Splits the string <tt class="docutils literal"><span class="pre">s</span></tt> into substrings.</p>
<p>Substrings are separated by the PEG <tt class="docutils literal"><span class="pre">sep</span></tt>. Examples:</p>
<pre class="listing"><span class="Keyword">for</span> <span class="Identifier">word</span> <span class="Keyword">in</span> <span class="Identifier">split</span><span class="Punctuation">(</span><span class="StringLit">&quot;00232this02939is39an22example111&quot;</span><span class="Punctuation">,</span> <span class="RawData">peg&quot;\d+&quot;</span><span class="Punctuation">)</span><span class="Punctuation">:</span>
  <span class="Identifier">writeLine</span><span class="Punctuation">(</span><span class="Identifier">stdout</span><span class="Punctuation">,</span> <span class="Identifier">word</span><span class="Punctuation">)</span></pre><p>Results in:</p>
<pre class="listing"><span class="StringLit">&quot;this&quot;</span>
<span class="StringLit">&quot;is&quot;</span>
<span class="StringLit">&quot;an&quot;</span>
<span class="StringLit">&quot;example&quot;</span></pre>
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L1338"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L1338" class="link-seesrc" target="_blank" >Edit</a>

</dd>

</dl></div>
<div class="section" id="18">
<h1><a class="toc-backref" href="#18">Templates</a></h1>
<dl class="item">
<a id="letters.t"></a>
<dt><pre><span class="Keyword">template</span> <a href="#letters.t"><span class="Identifier">letters</span></a><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a></pre></dt>
<dd>

expands to <tt class="docutils literal"><span class="pre">charset({'A'..'Z', 'a'..'z'})</span></tt>
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L358"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L358" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="digits.t"></a>
<dt><pre><span class="Keyword">template</span> <a href="#digits.t"><span class="Identifier">digits</span></a><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a></pre></dt>
<dd>

expands to <tt class="docutils literal"><span class="pre">charset({'0'..'9'})</span></tt>
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L362"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L362" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="whitespace.t"></a>
<dt><pre><span class="Keyword">template</span> <a href="#whitespace.t"><span class="Identifier">whitespace</span></a><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a></pre></dt>
<dd>

expands to <tt class="docutils literal"><span class="pre">charset({' ', '\9'..'\13'})</span></tt>
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L366"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L366" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="identChars.t"></a>
<dt><pre><span class="Keyword">template</span> <a href="#identChars.t"><span class="Identifier">identChars</span></a><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a></pre></dt>
<dd>

expands to <tt class="docutils literal"><span class="pre">charset({'a'..'z', 'A'..'Z', '0'..'9', '_'})</span></tt>
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L370"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L370" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="identStartChars.t"></a>
<dt><pre><span class="Keyword">template</span> <a href="#identStartChars.t"><span class="Identifier">identStartChars</span></a><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a></pre></dt>
<dd>

expands to <tt class="docutils literal"><span class="pre">charset({'A'..'Z', 'a'..'z', '_'})</span></tt>
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L374"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L374" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="ident.t"></a>
<dt><pre><span class="Keyword">template</span> <a href="#ident.t"><span class="Identifier">ident</span></a><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a></pre></dt>
<dd>

same as <tt class="docutils literal"><span class="pre">[a-zA-Z_][a-zA-z_0-9]*</span></tt>; standard identifier
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L378"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L378" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="natural.t"></a>
<dt><pre><span class="Keyword">template</span> <a href="#natural.t"><span class="Identifier">natural</span></a><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a></pre></dt>
<dd>

same as <tt class="docutils literal"><span class="pre">\d+</span></tt>
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L383"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L383" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="eventParser.t,untyped,untyped"></a>
<dt><pre><span class="Keyword">template</span> <a href="#eventParser.t%2Cuntyped%2Cuntyped"><span class="Identifier">eventParser</span></a><span class="Other">(</span><span class="Identifier">pegAst</span><span class="Other">,</span> <span class="Identifier">handlers</span><span class="Other">:</span> <a href="system.html#untyped"><span class="Identifier">untyped</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Other">(</span><span class="Keyword">proc</span> <span class="Other">(</span><span class="Identifier">s</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">)</span><span class="Other">:</span> <a href="system.html#int"><span class="Identifier">int</span></a><span class="Other">)</span></pre></dt>
<dd>

Generates an interpreting event parser <em>proc</em> according to the specified PEG AST and handler code blocks. The <em>proc</em> can be called with a string to be parsed and will execute the handler code blocks whenever their associated grammar element is matched. It returns -1 if the string does not match, else the length of the total match. The following example code evaluates an arithmetic expression defined by a simple PEG:<pre class="listing"><span class="Keyword">import</span> <span class="Identifier">strutils</span><span class="Punctuation">,</span> <span class="Identifier">pegs</span>

<span class="Keyword">let</span>
  <span class="Identifier">pegAst</span> <span class="Operator">=</span> <span class="LongStringLit">&quot;&quot;&quot;
Expr    &lt;- Sum
Sum     &lt;- Product (('+' / '-')Product)*
Product &lt;- Value (('*' / '/')Value)*
Value   &lt;- [0-9]+ / '(' Expr ')'
  &quot;&quot;&quot;</span><span class="Operator">.</span><span class="Identifier">peg</span>
  <span class="Identifier">txt</span> <span class="Operator">=</span> <span class="StringLit">&quot;(5+3)/2-7*22&quot;</span>

<span class="Keyword">var</span>
  <span class="Identifier">pStack</span><span class="Punctuation">:</span> <span class="Identifier">seq</span><span class="Punctuation">[</span><span class="Identifier">string</span><span class="Punctuation">]</span> <span class="Operator">=</span> <span class="Operator">@</span><span class="Punctuation">[</span><span class="Punctuation">]</span>
  <span class="Identifier">valStack</span><span class="Punctuation">:</span> <span class="Identifier">seq</span><span class="Punctuation">[</span><span class="Identifier">float</span><span class="Punctuation">]</span> <span class="Operator">=</span> <span class="Operator">@</span><span class="Punctuation">[</span><span class="Punctuation">]</span>
  <span class="Identifier">opStack</span> <span class="Operator">=</span> <span class="StringLit">&quot;&quot;</span>
<span class="Keyword">let</span>
  <span class="Identifier">parseArithExpr</span> <span class="Operator">=</span> <span class="Identifier">pegAst</span><span class="Operator">.</span><span class="Identifier">eventParser</span><span class="Punctuation">:</span>
    <span class="Identifier">pkNonTerminal</span><span class="Punctuation">:</span>
      <span class="Identifier">enter</span><span class="Punctuation">:</span>
        <span class="Identifier">pStack</span><span class="Operator">.</span><span class="Identifier">add</span> <span class="Identifier">p</span><span class="Operator">.</span><span class="Identifier">nt</span><span class="Operator">.</span><span class="Identifier">name</span>
      <span class="Identifier">leave</span><span class="Punctuation">:</span>
        <span class="Identifier">pStack</span><span class="Operator">.</span><span class="Identifier">setLen</span> <span class="Identifier">pStack</span><span class="Operator">.</span><span class="Identifier">high</span>
        <span class="Keyword">if</span> <span class="Identifier">length</span> <span class="Operator">&gt;</span> <span class="DecNumber">0</span><span class="Punctuation">:</span>
          <span class="Keyword">let</span> <span class="Identifier">matchStr</span> <span class="Operator">=</span> <span class="Identifier">s</span><span class="Operator">.</span><span class="Identifier">substr</span><span class="Punctuation">(</span><span class="Identifier">start</span><span class="Punctuation">,</span> <span class="Identifier">start</span><span class="Operator">+</span><span class="Identifier">length</span><span class="Operator">-</span><span class="DecNumber">1</span><span class="Punctuation">)</span>
          <span class="Keyword">case</span> <span class="Identifier">p</span><span class="Operator">.</span><span class="Identifier">nt</span><span class="Operator">.</span><span class="Identifier">name</span>
          <span class="Keyword">of</span> <span class="StringLit">&quot;Value&quot;</span><span class="Punctuation">:</span>
            <span class="Keyword">try</span><span class="Punctuation">:</span>
              <span class="Identifier">valStack</span><span class="Operator">.</span><span class="Identifier">add</span> <span class="Identifier">matchStr</span><span class="Operator">.</span><span class="Identifier">parseFloat</span>
              <span class="Identifier">echo</span> <span class="Identifier">valStack</span>
            <span class="Keyword">except</span> <span class="Identifier">ValueError</span><span class="Punctuation">:</span>
              <span class="Keyword">discard</span>
          <span class="Keyword">of</span> <span class="StringLit">&quot;Sum&quot;</span><span class="Punctuation">,</span> <span class="StringLit">&quot;Product&quot;</span><span class="Punctuation">:</span>
            <span class="Keyword">try</span><span class="Punctuation">:</span>
              <span class="Keyword">let</span> <span class="Identifier">val</span> <span class="Operator">=</span> <span class="Identifier">matchStr</span><span class="Operator">.</span><span class="Identifier">parseFloat</span>
            <span class="Keyword">except</span> <span class="Identifier">ValueError</span><span class="Punctuation">:</span>
              <span class="Keyword">if</span> <span class="Identifier">valStack</span><span class="Operator">.</span><span class="Identifier">len</span> <span class="Operator">&gt;</span> <span class="DecNumber">1</span> <span class="Keyword">and</span> <span class="Identifier">opStack</span><span class="Operator">.</span><span class="Identifier">len</span> <span class="Operator">&gt;</span> <span class="DecNumber">0</span><span class="Punctuation">:</span>
                <span class="Identifier">valStack</span><span class="Punctuation">[</span><span class="Operator">^</span><span class="DecNumber">2</span><span class="Punctuation">]</span> <span class="Operator">=</span> <span class="Keyword">case</span> <span class="Identifier">opStack</span><span class="Punctuation">[</span><span class="Operator">^</span><span class="DecNumber">1</span><span class="Punctuation">]</span>
                <span class="Keyword">of</span> <span class="CharLit">'+'</span><span class="Punctuation">:</span> <span class="Identifier">valStack</span><span class="Punctuation">[</span><span class="Operator">^</span><span class="DecNumber">2</span><span class="Punctuation">]</span> <span class="Operator">+</span> <span class="Identifier">valStack</span><span class="Punctuation">[</span><span class="Operator">^</span><span class="DecNumber">1</span><span class="Punctuation">]</span>
                <span class="Keyword">of</span> <span class="CharLit">'-'</span><span class="Punctuation">:</span> <span class="Identifier">valStack</span><span class="Punctuation">[</span><span class="Operator">^</span><span class="DecNumber">2</span><span class="Punctuation">]</span> <span class="Operator">-</span> <span class="Identifier">valStack</span><span class="Punctuation">[</span><span class="Operator">^</span><span class="DecNumber">1</span><span class="Punctuation">]</span>
                <span class="Keyword">of</span> <span class="CharLit">'*'</span><span class="Punctuation">:</span> <span class="Identifier">valStack</span><span class="Punctuation">[</span><span class="Operator">^</span><span class="DecNumber">2</span><span class="Punctuation">]</span> <span class="Operator">*</span> <span class="Identifier">valStack</span><span class="Punctuation">[</span><span class="Operator">^</span><span class="DecNumber">1</span><span class="Punctuation">]</span>
                <span class="Keyword">else</span><span class="Punctuation">:</span> <span class="Identifier">valStack</span><span class="Punctuation">[</span><span class="Operator">^</span><span class="DecNumber">2</span><span class="Punctuation">]</span> <span class="Operator">/</span> <span class="Identifier">valStack</span><span class="Punctuation">[</span><span class="Operator">^</span><span class="DecNumber">1</span><span class="Punctuation">]</span>
                <span class="Identifier">valStack</span><span class="Operator">.</span><span class="Identifier">setLen</span> <span class="Identifier">valStack</span><span class="Operator">.</span><span class="Identifier">high</span>
                <span class="Identifier">echo</span> <span class="Identifier">valStack</span>
                <span class="Identifier">opStack</span><span class="Operator">.</span><span class="Identifier">setLen</span> <span class="Identifier">opStack</span><span class="Operator">.</span><span class="Identifier">high</span>
                <span class="Identifier">echo</span> <span class="Identifier">opStack</span>
    <span class="Identifier">pkChar</span><span class="Punctuation">:</span>
      <span class="Identifier">leave</span><span class="Punctuation">:</span>
        <span class="Keyword">if</span> <span class="Identifier">length</span> <span class="Operator">==</span> <span class="DecNumber">1</span> <span class="Keyword">and</span> <span class="StringLit">&quot;Value&quot;</span> <span class="Operator">!=</span> <span class="Identifier">pStack</span><span class="Punctuation">[</span><span class="Operator">^</span><span class="DecNumber">1</span><span class="Punctuation">]</span><span class="Punctuation">:</span>
          <span class="Keyword">let</span> <span class="Identifier">matchChar</span> <span class="Operator">=</span> <span class="Identifier">s</span><span class="Punctuation">[</span><span class="Identifier">start</span><span class="Punctuation">]</span>
          <span class="Identifier">opStack</span><span class="Operator">.</span><span class="Identifier">add</span> <span class="Identifier">matchChar</span>
          <span class="Identifier">echo</span> <span class="Identifier">opStack</span>

<span class="Keyword">let</span> <span class="Identifier">pLen</span> <span class="Operator">=</span> <span class="Identifier">parseArithExpr</span><span class="Punctuation">(</span><span class="Identifier">txt</span><span class="Punctuation">)</span></pre><p>The <em>handlers</em> parameter consists of code blocks for <em>PegKinds</em>, which define the grammar elements of interest. Each block can contain handler code to be executed when the parser enters and leaves text matching the grammar element. An <em>enter</em> handler can access the specific PEG AST node being matched as <em>p</em>, the entire parsed string as <em>s</em> and the position of the matched text segment in <em>s</em> as <em>start</em>. A <em>leave</em> handler can access <em>p</em>, <em>s</em>, <em>start</em> and also the length of the matched text segment as <em>length</em>. For an unsuccessful match, the <em>enter</em> and <em>leave</em> handlers will be executed, with <em>length</em> set to -1.</p>
<p>Symbols  declared in an <em>enter</em> handler can be made visible in the corresponding <em>leave</em> handler by annotating them with an <em>inject</em> pragma.</p>

&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L934"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L934" class="link-seesrc" target="_blank" >Edit</a>

</dd>
<a id="=~.t,string,Peg"></a>
<dt><pre><span class="Keyword">template</span> <a href="#%3D~.t%2Cstring%2CPeg"><span class="Identifier">`=~`</span></a><span class="Other">(</span><span class="Identifier">s</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">;</span> <span class="Identifier">pattern</span><span class="Other">:</span> <a href="pegs.html#Peg"><span class="Identifier">Peg</span></a><span class="Other">)</span><span class="Other">:</span> <a href="system.html#bool"><span class="Identifier">bool</span></a></pre></dt>
<dd>

This calls <tt class="docutils literal"><span class="pre">match</span></tt> with an implicit declared <tt class="docutils literal"><span class="pre">matches</span></tt> array that can be used in the scope of the <tt class="docutils literal"><span class="pre">=~</span></tt> call:<pre class="listing"><span class="Keyword">if</span> <span class="Identifier">line</span> <span class="Operator">=~</span> <span class="RawData">peg&quot;\s* {\w+} \s* '=' \s* {\w+}&quot;</span><span class="Punctuation">:</span>
  <span class="Comment"># matches a key=value pair:</span>
  <span class="Identifier">echo</span><span class="Punctuation">(</span><span class="StringLit">&quot;Key: &quot;</span><span class="Punctuation">,</span> <span class="Identifier">matches</span><span class="Punctuation">[</span><span class="DecNumber">0</span><span class="Punctuation">]</span><span class="Punctuation">)</span>
  <span class="Identifier">echo</span><span class="Punctuation">(</span><span class="StringLit">&quot;Value: &quot;</span><span class="Punctuation">,</span> <span class="Identifier">matches</span><span class="Punctuation">[</span><span class="DecNumber">1</span><span class="Punctuation">]</span><span class="Punctuation">)</span>
<span class="Keyword">elif</span> <span class="Identifier">line</span> <span class="Operator">=~</span> <span class="RawData">peg&quot;\s*{'#'.*}&quot;</span><span class="Punctuation">:</span>
  <span class="Comment"># matches a comment</span>
  <span class="Comment"># note that the implicit ``matches`` array is different from the</span>
  <span class="Comment"># ``matches`` array of the first branch</span>
  <span class="Identifier">echo</span><span class="Punctuation">(</span><span class="StringLit">&quot;comment: &quot;</span><span class="Punctuation">,</span> <span class="Identifier">matches</span><span class="Punctuation">[</span><span class="DecNumber">0</span><span class="Punctuation">]</span><span class="Punctuation">)</span>
<span class="Keyword">else</span><span class="Punctuation">:</span>
  <span class="Identifier">echo</span><span class="Punctuation">(</span><span class="StringLit">&quot;syntax error&quot;</span><span class="Punctuation">)</span></pre>
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/pegs.nim#L1163"
class="link-seesrc" target="_blank">Source</a>
<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/pegs.nim#L1163" class="link-seesrc" target="_blank" >Edit</a>

</dd>

</dl></div>
<div class="section" id="19">
<h1><a class="toc-backref" href="#19">Exports</a></h1>
<dl class="item">
<a href="unicode.html#=="><span class="Identifier">==</span></a>
</dl></div>

  </div>
</div>

    <div class="row">
      <div class="twelve-columns footer">
        <span class="nim-sprite"></span>
        <br/>
        <small style="color: var(--hint);">Made with Nim. Generated: 2020-06-17 02:41:38 UTC</small>
      </div>
    </div>
  </div>
</div>

</body>
</html>
