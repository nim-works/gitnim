<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--  This file is generated by Nim. -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Favicon -->
<link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAUAAAAF////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAIAAABbAAAAlQAAAKIAAACbAAAAmwAAAKIAAACVAAAAWwAAAAL///8A////AP///wD///8A////AAAAABQAAADAAAAAYwAAAA3///8A////AP///wD///8AAAAADQAAAGMAAADAAAAAFP///wD///8A////AP///wAAAACdAAAAOv///wD///8A////AP///wD///8A////AP///wD///8AAAAAOgAAAJ3///8A////AP///wAAAAAnAAAAcP///wAAAAAoAAAASv///wD///8A////AP///wAAAABKAAAAKP///wAAAABwAAAAJ////wD///8AAAAAgQAAABwAAACIAAAAkAAAAJMAAACtAAAAFQAAABUAAACtAAAAkwAAAJAAAACIAAAAHAAAAIH///8A////AAAAAKQAAACrAAAAaP///wD///8AAAAARQAAANIAAADSAAAARf///wD///8AAAAAaAAAAKsAAACk////AAAAADMAAACcAAAAnQAAABj///8A////AP///wAAAAAYAAAAGP///wD///8A////AAAAABgAAACdAAAAnAAAADMAAAB1AAAAwwAAAP8AAADpAAAAsQAAAE4AAAAb////AP///wAAAAAbAAAATgAAALEAAADpAAAA/wAAAMMAAAB1AAAAtwAAAOkAAAD/AAAA/wAAAP8AAADvAAAA3gAAAN4AAADeAAAA3gAAAO8AAAD/AAAA/wAAAP8AAADpAAAAtwAAAGUAAAA/AAAA3wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADfAAAAPwAAAGX///8A////AAAAAEgAAADtAAAAvwAAAL0AAADGAAAA7wAAAO8AAADGAAAAvQAAAL8AAADtAAAASP///wD///8A////AP///wD///8AAAAAO////wD///8A////AAAAAIcAAACH////AP///wD///8AAAAAO////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A//8AAP//AAD4HwAA7/cAAN/7AAD//wAAoYUAAJ55AACf+QAAh+EAAAAAAADAAwAA4AcAAP5/AAD//wAA//8AAA=="/>
<link rel="icon" type="image/png" sizes="32x32" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4QQQEwksSS9ZWwAAAk1JREFUWMPtll2ITVEUx39nn/O7Y5qR8f05wtCUUr6ZIS++8pEnkZInPImneaCQ5METNdOkeFBKUhMPRIkHKfEuUZSUlGlKPN2TrgfncpvmnntnmlEyq1Z7t89/rf9a6+y99oZxGZf/XeIq61EdtgKXgdXA0xrYAvBjOIF1AI9zvjcC74BSpndrJPkBWDScTF8Aa4E3wDlgHbASaANmVqlcCnwHvgDvgVfAJ+AikAAvgfVZwLnSVZHZaOuKoQi3ZOMi4NkYkpe1p4J7A8BpYAD49hfIy/oqG0+hLomiKP2L5L+1ubn5115S+3OAn4EnwBlgMzCjyt6ZAnQCJ4A7wOs88iRJHvw50HoujuPBoCKwHWiosy8MdfZnAdcHk8dxXFJ3VQbQlCTJvRBCGdRbD4M6uc5glpY3eAihpN5S5w12diSEcCCEcKUO4ljdr15T76ur1FDDLIQQ3qv71EdDOe3Kxj3leRXyk+pxdWnFWod6Wt2bY3de3aSuUHcPBVimHs7mK9WrmeOF6lR1o9qnzskh2ar2qm1qizpfXaPeVGdlmGN5pb09qMxz1Xb1kLqgzn1RyH7JUXW52lr5e/Kqi9qpto7V1atuUzfnARrV7jEib1T76gG2qxdGmXyiekkt1GswPTtek0aBfJp6YySGBfWg2tPQ0FAYgf1stUfdmdcjarbYJEniKIq6gY/Aw+zWHAC+p2labGpqiorFYgGYCEzN7oQdQClN07O1/EfDyGgC0ALMBdYAi4FyK+4H3gLPsxfR1zRNi+NP7nH5J+QntnXe5B5mpfQAAAAASUVORK5CYII=">

<!-- Google fonts -->
<link href='https://fonts.googleapis.com/css?family=Lato:400,600,900' rel='stylesheet' type='text/css'/>
<link href='https://fonts.googleapis.com/css?family=Source+Code+Pro:400,500,600' rel='stylesheet' type='text/css'/>

<!-- CSS -->
<title>std/httpclient</title>
<link rel="stylesheet" type="text/css" href="nimdoc.out.css">

<script type="text/javascript" src="dochack.js"></script>

<script type="text/javascript">
function main() {
  var pragmaDots = document.getElementsByClassName("pragmadots");
  for (var i = 0; i < pragmaDots.length; i++) {
    pragmaDots[i].onclick = function(event) {
      // Hide tease
      event.target.parentNode.style.display = "none";
      // Show actual
      event.target.parentNode.nextElementSibling.style.display = "inline";
    }
  }

  function switchTheme(e) {
      if (e.target.checked) {
          document.documentElement.setAttribute('data-theme', 'dark');
          localStorage.setItem('theme', 'dark');
      } else {
          document.documentElement.setAttribute('data-theme', 'light');
          localStorage.setItem('theme', 'light');
      }
  }

  const toggleSwitch = document.querySelector('.theme-switch input[type="checkbox"]');
  if (toggleSwitch !== null) {
    toggleSwitch.addEventListener('change', switchTheme, false);
  }

  var currentTheme = localStorage.getItem('theme');
  if (!currentTheme && window.matchMedia('(prefers-color-scheme: dark)').matches) {
    currentTheme = 'dark';
  }
  if (currentTheme) {
    document.documentElement.setAttribute('data-theme', currentTheme);

    if (currentTheme === 'dark' && toggleSwitch !== null) {
      toggleSwitch.checked = true;
    }
  }
}

window.addEventListener('DOMContentLoaded', main);
</script>

</head>
<body>
<div class="document" id="documentId">
  <div class="container">
    <h1 class="title">std/httpclient</h1>
    <div class="row">
  <div class="three columns">
  <div class="theme-switch-wrapper">
    <label class="theme-switch" for="checkbox">
      <input type="checkbox" id="checkbox" />
      <div class="slider round"></div>
    </label>
    &nbsp;&nbsp;&nbsp; <em>Dark Mode</em>
  </div>
  <div id="global-links">
    <ul class="simple-boot">
      <li><a href="manual.html">Manual</a></li>
      <li><a href="lib.html">Standard library</a></li>
      <li> <a href="theindex.html">Index</a></li>
      <li><a href="compiler/theindex.html">Compiler docs</a></li>
      <li><a href="https://nim-lang.github.io/fusion/theindex.html">Fusion docs</a></li>
      <li><a href="https://nim-lang.github.io/Nim/">devel</a>, <a href="https://nim-lang.org/documentation.html">stable</a></li>
    </ul>
  </div>
  <div id="searchInputDiv">
    Search: <input type="text" id="searchInput"
      onkeyup="search()" />
  </div>
  
  <ul class="simple simple-toc" id="toc-list">
<li><a class="reference" id="retrieving-a-website_toc" href="#retrieving-a-website">Retrieving a website</a></li>
<li><a class="reference" id="using-http-post_toc" href="#using-http-post">Using HTTP POST</a></li>
<li><a class="reference" id="progress-reporting_toc" href="#progress-reporting">Progress reporting</a></li>
<li><a class="reference" id="sslslashtls-support_toc" href="#sslslashtls-support">SSL/TLS support</a></li>
<li><a class="reference" id="timeouts_toc" href="#timeouts">Timeouts</a></li>
<li><a class="reference" id="proxy_toc" href="#proxy">Proxy</a></li>
<li><a class="reference" id="redirects_toc" href="#redirects">Redirects</a></li>
<li>
  <a class="reference reference-toplevel" href="#6" id="56">Imports</a>
  <ul class="simple simple-toc-section">
    
  </ul>
</li>
<li>
  <a class="reference reference-toplevel" href="#7" id="57">Types</a>
  <ul class="simple simple-toc-section">
      <li><a class="reference" href="#AsyncHttpClient"
    title="AsyncHttpClient = HttpClientBase[AsyncSocket]">AsyncHttpClient</a></li>
  <li><a class="reference" href="#AsyncResponse"
    title="AsyncResponse = ref object
  version*: string
  status*: string
  headers*: HttpHeaders
  body: string
  bodyStream*: FutureStream[string]">AsyncResponse</a></li>
  <li><a class="reference" href="#HttpClient"
    title="HttpClient = HttpClientBase[Socket]">HttpClient</a></li>
  <li><a class="reference" href="#HttpClientBase"
    title="HttpClientBase[SocketType] = ref object
  socket: SocketType
  connected: bool
  currentURL: Uri            ## Where we are currently connected.
  headers*: HttpHeaders      ## Headers to send in requests.
  maxRedirects: Natural      ## Maximum redirects, set to `0` to disable.
  userAgent: string
  timeout*: int              ## Only used for blocking HttpClient for now.
  proxy: Proxy               ## `nil` or the callback to call when request progress changes.
  when SocketType is Socket:
    onProgressChanged
  else:
    onProgressChanged
  when false:
    sslContext
  contentTotal: BiggestInt
  contentProgress: BiggestInt
  oneSecondProgress: BiggestInt
  lastProgressReport: MonoTime
  when SocketType is AsyncSocket:
      bodyStream
      parseBodyFut

  else:
    bodyStream
  getBody: bool              ## When `false`, the body is never read in requestAux.">HttpClientBase</a></li>
  <li><a class="reference" href="#HttpRequestError"
    title="HttpRequestError = object of IOError">HttpRequestError</a></li>
  <li><a class="reference" href="#MultipartData"
    title="MultipartData = ref object
  content: seq[MultipartEntry]">MultipartData</a></li>
  <li><a class="reference" href="#MultipartEntries"
    title="MultipartEntries = openArray[tuple[name, content: string]]">MultipartEntries</a></li>
  <li><a class="reference" href="#ProgressChangedProc"
    title="ProgressChangedProc[ReturnType] = proc (total, progress, speed: BiggestInt): ReturnType {.
    closure, gcsafe.}">ProgressChangedProc</a></li>
  <li><a class="reference" href="#ProtocolError"
    title="ProtocolError = object of IOError">ProtocolError</a></li>
  <li><a class="reference" href="#Proxy"
    title="Proxy = ref object
  url*: Uri
  auth*: string">Proxy</a></li>
  <li><a class="reference" href="#Response"
    title="Response = ref object
  version*: string
  status*: string
  headers*: HttpHeaders
  body: string
  bodyStream*: Stream">Response</a></li>

  </ul>
</li>
<li>
  <a class="reference reference-toplevel" href="#10" id="60">Consts</a>
  <ul class="simple simple-toc-section">
      <li><a class="reference" href="#defUserAgent"
    title="defUserAgent = &quot;Nim httpclient/1.5.1&quot;">defUserAgent</a></li>

  </ul>
</li>
<li>
  <a class="reference reference-toplevel" href="#12" id="62">Procs</a>
  <ul class="simple simple-toc-section">
      <ul class="simple nested-toc-section">$
      <li><a class="reference" href="#%24%2CMultipartData"
    title="`$`(data: MultipartData): string">`$`(data: MultipartData): string</a></li>

  </ul>
  <ul class="simple nested-toc-section">[]=
      <li><a class="reference" href="#%5B%5D%3D%2CMultipartData%2Cstring%2Cstring"
    title="`[]=`(p: MultipartData; name, content: string)">`[]=`(p: MultipartData; name, content: string)</a></li>
  <li><a class="reference" href="#%5B%5D%3D%2CMultipartData%2Cstring%2Ctuple%5Bstring%2Cstring%2Cstring%5D"
    title="`[]=`(p: MultipartData; name: string;
      file: tuple[name, contentType, content: string])">`[]=`(p: MultipartData; name: string;
      file: tuple[name, contentType, content: string])</a></li>

  </ul>
  <ul class="simple nested-toc-section">add
      <li><a class="reference" href="#add%2CMultipartData%2Cstring%2Cstring%2Cstring%2Cstring"
    title="add(p: MultipartData; name, content: string; filename: string = &quot;&quot;;
    contentType: string = &quot;&quot;; useStream = true)">add(p: MultipartData; name, content: string; filename: string = &quot;&quot;;
    contentType: string = &quot;&quot;; useStream = true)</a></li>
  <li><a class="reference" href="#add%2CMultipartData%2CMultipartEntries"
    title="add(p: MultipartData; xs: MultipartEntries): MultipartData">add(p: MultipartData; xs: MultipartEntries): MultipartData</a></li>

  </ul>
  <ul class="simple nested-toc-section">addFiles
      <li><a class="reference" href="#addFiles%2CMultipartData%2CopenArray%5Btuple%5Bstring%2Cstring%5D%5D"
    title="addFiles(p: MultipartData; xs: openArray[tuple[name, file: string]];
         mimeDb = newMimetypes(); useStream = true): MultipartData">addFiles(p: MultipartData; xs: openArray[tuple[name, file: string]];
         mimeDb = newMimetypes(); useStream = true): MultipartData</a></li>

  </ul>
  <ul class="simple nested-toc-section">body
      <li><a class="reference" href="#body%2CAsyncResponse"
    title="body(response: AsyncResponse): Future[string]">body(response: AsyncResponse): Future[string]</a></li>
  <li><a class="reference" href="#body%2CResponse"
    title="body(response: Response): string">body(response: Response): string</a></li>

  </ul>
  <ul class="simple nested-toc-section">close
      <li><a class="reference" href="#close"
    title="close(client: HttpClient | AsyncHttpClient)">close(client: HttpClient | AsyncHttpClient)</a></li>

  </ul>
  <ul class="simple nested-toc-section">code
      <li><a class="reference" href="#code"
    title="code(response: Response | AsyncResponse): HttpCode">code(response: Response | AsyncResponse): HttpCode</a></li>

  </ul>
  <ul class="simple nested-toc-section">contentLength
      <li><a class="reference" href="#contentLength"
    title="contentLength(response: Response | AsyncResponse): int">contentLength(response: Response | AsyncResponse): int</a></li>

  </ul>
  <ul class="simple nested-toc-section">contentType
      <li><a class="reference" href="#contentType"
    title="contentType(response: Response | AsyncResponse): string">contentType(response: Response | AsyncResponse): string</a></li>

  </ul>
  <ul class="simple nested-toc-section">delete
      <li><a class="reference" href="#delete%2CAsyncHttpClient%2C"
    title="delete(client: AsyncHttpClient; url: Uri | string): Future[AsyncResponse]">delete(client: AsyncHttpClient; url: Uri | string): Future[AsyncResponse]</a></li>
  <li><a class="reference" href="#delete%2CHttpClient%2C"
    title="delete(client: HttpClient; url: Uri | string): Response">delete(client: HttpClient; url: Uri | string): Response</a></li>

  </ul>
  <ul class="simple nested-toc-section">deleteContent
      <li><a class="reference" href="#deleteContent%2CAsyncHttpClient%2C"
    title="deleteContent(client: AsyncHttpClient; url: Uri | string): Future[string]">deleteContent(client: AsyncHttpClient; url: Uri | string): Future[string]</a></li>
  <li><a class="reference" href="#deleteContent%2CHttpClient%2C"
    title="deleteContent(client: HttpClient; url: Uri | string): string">deleteContent(client: HttpClient; url: Uri | string): string</a></li>

  </ul>
  <ul class="simple nested-toc-section">downloadFile
      <li><a class="reference" href="#downloadFile%2CAsyncHttpClient%2C%2Cstring"
    title="downloadFile(client: AsyncHttpClient; url: Uri | string; filename: string): Future[
    void]">downloadFile(client: AsyncHttpClient; url: Uri | string; filename: string): Future[
    void]</a></li>
  <li><a class="reference" href="#downloadFile%2CHttpClient%2C%2Cstring"
    title="downloadFile(client: HttpClient; url: Uri | string; filename: string)">downloadFile(client: HttpClient; url: Uri | string; filename: string)</a></li>

  </ul>
  <ul class="simple nested-toc-section">get
      <li><a class="reference" href="#get%2CAsyncHttpClient%2C"
    title="get(client: AsyncHttpClient; url: Uri | string): Future[AsyncResponse]">get(client: AsyncHttpClient; url: Uri | string): Future[AsyncResponse]</a></li>
  <li><a class="reference" href="#get%2CHttpClient%2C"
    title="get(client: HttpClient; url: Uri | string): Response">get(client: HttpClient; url: Uri | string): Response</a></li>

  </ul>
  <ul class="simple nested-toc-section">getContent
      <li><a class="reference" href="#getContent%2CAsyncHttpClient%2C"
    title="getContent(client: AsyncHttpClient; url: Uri | string): Future[string]">getContent(client: AsyncHttpClient; url: Uri | string): Future[string]</a></li>
  <li><a class="reference" href="#getContent%2CHttpClient%2C"
    title="getContent(client: HttpClient; url: Uri | string): string">getContent(client: HttpClient; url: Uri | string): string</a></li>

  </ul>
  <ul class="simple nested-toc-section">getSocket
      <li><a class="reference" href="#getSocket%2CAsyncHttpClient"
    title="getSocket(client: AsyncHttpClient): AsyncSocket">getSocket(client: AsyncHttpClient): AsyncSocket</a></li>
  <li><a class="reference" href="#getSocket%2CHttpClient"
    title="getSocket(client: HttpClient): Socket">getSocket(client: HttpClient): Socket</a></li>

  </ul>
  <ul class="simple nested-toc-section">head
      <li><a class="reference" href="#head%2CAsyncHttpClient%2C"
    title="head(client: AsyncHttpClient; url: Uri | string): Future[AsyncResponse]">head(client: AsyncHttpClient; url: Uri | string): Future[AsyncResponse]</a></li>
  <li><a class="reference" href="#head%2CHttpClient%2C"
    title="head(client: HttpClient; url: Uri | string): Response">head(client: HttpClient; url: Uri | string): Response</a></li>

  </ul>
  <ul class="simple nested-toc-section">lastModified
      <li><a class="reference" href="#lastModified"
    title="lastModified(response: Response | AsyncResponse): DateTime">lastModified(response: Response | AsyncResponse): DateTime</a></li>

  </ul>
  <ul class="simple nested-toc-section">newAsyncHttpClient
      <li><a class="reference" href="#newAsyncHttpClient%2Cint%2CProxy"
    title="newAsyncHttpClient(userAgent = defUserAgent; maxRedirects = 5;
                   sslContext = getDefaultSSL(); proxy: Proxy = nil;
                   headers = newHttpHeaders()): AsyncHttpClient">newAsyncHttpClient(userAgent = defUserAgent; maxRedirects = 5;
                   sslContext = getDefaultSSL(); proxy: Proxy = nil;
                   headers = newHttpHeaders()): AsyncHttpClient</a></li>

  </ul>
  <ul class="simple nested-toc-section">newHttpClient
      <li><a class="reference" href="#newHttpClient%2Cint%2CProxy%2Cint"
    title="newHttpClient(userAgent = defUserAgent; maxRedirects = 5;
              sslContext = getDefaultSSL(); proxy: Proxy = nil; timeout = -1;
              headers = newHttpHeaders()): HttpClient">newHttpClient(userAgent = defUserAgent; maxRedirects = 5;
              sslContext = getDefaultSSL(); proxy: Proxy = nil; timeout = -1;
              headers = newHttpHeaders()): HttpClient</a></li>

  </ul>
  <ul class="simple nested-toc-section">newMultipartData
      <li><a class="reference" href="#newMultipartData"
    title="newMultipartData(): MultipartData">newMultipartData(): MultipartData</a></li>
  <li><a class="reference" href="#newMultipartData%2CMultipartEntries"
    title="newMultipartData(xs: MultipartEntries): MultipartData">newMultipartData(xs: MultipartEntries): MultipartData</a></li>

  </ul>
  <ul class="simple nested-toc-section">newProxy
      <li><a class="reference" href="#newProxy%2Cstring%2Cstring"
    title="newProxy(url: string; auth = &quot;&quot;): Proxy">newProxy(url: string; auth = &quot;&quot;): Proxy</a></li>
  <li><a class="reference" href="#newProxy%2CUri%2Cstring"
    title="newProxy(url: Uri; auth = &quot;&quot;): Proxy">newProxy(url: Uri; auth = &quot;&quot;): Proxy</a></li>

  </ul>
  <ul class="simple nested-toc-section">patch
      <li><a class="reference" href="#patch%2CAsyncHttpClient%2C%2Cstring%2CMultipartData"
    title="patch(client: AsyncHttpClient; url: Uri | string; body = &quot;&quot;;
      multipart: MultipartData = nil): Future[AsyncResponse]">patch(client: AsyncHttpClient; url: Uri | string; body = &quot;&quot;;
      multipart: MultipartData = nil): Future[AsyncResponse]</a></li>
  <li><a class="reference" href="#patch%2CHttpClient%2C%2Cstring%2CMultipartData"
    title="patch(client: HttpClient; url: Uri | string; body = &quot;&quot;;
      multipart: MultipartData = nil): Response">patch(client: HttpClient; url: Uri | string; body = &quot;&quot;;
      multipart: MultipartData = nil): Response</a></li>

  </ul>
  <ul class="simple nested-toc-section">patchContent
      <li><a class="reference" href="#patchContent%2CAsyncHttpClient%2C%2Cstring%2CMultipartData"
    title="patchContent(client: AsyncHttpClient; url: Uri | string; body = &quot;&quot;;
             multipart: MultipartData = nil): Future[string]">patchContent(client: AsyncHttpClient; url: Uri | string; body = &quot;&quot;;
             multipart: MultipartData = nil): Future[string]</a></li>
  <li><a class="reference" href="#patchContent%2CHttpClient%2C%2Cstring%2CMultipartData"
    title="patchContent(client: HttpClient; url: Uri | string; body = &quot;&quot;;
             multipart: MultipartData = nil): string">patchContent(client: HttpClient; url: Uri | string; body = &quot;&quot;;
             multipart: MultipartData = nil): string</a></li>

  </ul>
  <ul class="simple nested-toc-section">post
      <li><a class="reference" href="#post%2CAsyncHttpClient%2C%2Cstring%2CMultipartData"
    title="post(client: AsyncHttpClient; url: Uri | string; body = &quot;&quot;;
     multipart: MultipartData = nil): Future[AsyncResponse]">post(client: AsyncHttpClient; url: Uri | string; body = &quot;&quot;;
     multipart: MultipartData = nil): Future[AsyncResponse]</a></li>
  <li><a class="reference" href="#post%2CHttpClient%2C%2Cstring%2CMultipartData"
    title="post(client: HttpClient; url: Uri | string; body = &quot;&quot;;
     multipart: MultipartData = nil): Response">post(client: HttpClient; url: Uri | string; body = &quot;&quot;;
     multipart: MultipartData = nil): Response</a></li>

  </ul>
  <ul class="simple nested-toc-section">postContent
      <li><a class="reference" href="#postContent%2CAsyncHttpClient%2C%2Cstring%2CMultipartData"
    title="postContent(client: AsyncHttpClient; url: Uri | string; body = &quot;&quot;;
            multipart: MultipartData = nil): Future[string]">postContent(client: AsyncHttpClient; url: Uri | string; body = &quot;&quot;;
            multipart: MultipartData = nil): Future[string]</a></li>
  <li><a class="reference" href="#postContent%2CHttpClient%2C%2Cstring%2CMultipartData"
    title="postContent(client: HttpClient; url: Uri | string; body = &quot;&quot;;
            multipart: MultipartData = nil): string">postContent(client: HttpClient; url: Uri | string; body = &quot;&quot;;
            multipart: MultipartData = nil): string</a></li>

  </ul>
  <ul class="simple nested-toc-section">put
      <li><a class="reference" href="#put%2CAsyncHttpClient%2C%2Cstring%2CMultipartData"
    title="put(client: AsyncHttpClient; url: Uri | string; body = &quot;&quot;;
    multipart: MultipartData = nil): Future[AsyncResponse]">put(client: AsyncHttpClient; url: Uri | string; body = &quot;&quot;;
    multipart: MultipartData = nil): Future[AsyncResponse]</a></li>
  <li><a class="reference" href="#put%2CHttpClient%2C%2Cstring%2CMultipartData"
    title="put(client: HttpClient; url: Uri | string; body = &quot;&quot;;
    multipart: MultipartData = nil): Response">put(client: HttpClient; url: Uri | string; body = &quot;&quot;;
    multipart: MultipartData = nil): Response</a></li>

  </ul>
  <ul class="simple nested-toc-section">putContent
      <li><a class="reference" href="#putContent%2CAsyncHttpClient%2C%2Cstring%2CMultipartData"
    title="putContent(client: AsyncHttpClient; url: Uri | string; body = &quot;&quot;;
           multipart: MultipartData = nil): Future[string]">putContent(client: AsyncHttpClient; url: Uri | string; body = &quot;&quot;;
           multipart: MultipartData = nil): Future[string]</a></li>
  <li><a class="reference" href="#putContent%2CHttpClient%2C%2Cstring%2CMultipartData"
    title="putContent(client: HttpClient; url: Uri | string; body = &quot;&quot;;
           multipart: MultipartData = nil): string">putContent(client: HttpClient; url: Uri | string; body = &quot;&quot;;
           multipart: MultipartData = nil): string</a></li>

  </ul>
  <ul class="simple nested-toc-section">request
      <li><a class="reference" href="#request%2CAsyncHttpClient%2C%2Cstring%2CHttpHeaders%2CMultipartData"
    title="request(client: AsyncHttpClient; url: Uri | string;
        httpMethod: HttpMethod | string = HttpGet; body = &quot;&quot;;
        headers: HttpHeaders = nil; multipart: MultipartData = nil): Future[
    AsyncResponse]">request(client: AsyncHttpClient; url: Uri | string;
        httpMethod: HttpMethod | string = HttpGet; body = &quot;&quot;;
        headers: HttpHeaders = nil; multipart: MultipartData = nil): Future[
    AsyncResponse]</a></li>
  <li><a class="reference" href="#request%2CHttpClient%2C%2Cstring%2CHttpHeaders%2CMultipartData"
    title="request(client: HttpClient; url: Uri | string;
        httpMethod: HttpMethod | string = HttpGet; body = &quot;&quot;;
        headers: HttpHeaders = nil; multipart: MultipartData = nil): Response">request(client: HttpClient; url: Uri | string;
        httpMethod: HttpMethod | string = HttpGet; body = &quot;&quot;;
        headers: HttpHeaders = nil; multipart: MultipartData = nil): Response</a></li>

  </ul>

  </ul>
</li>
<li>
  <a class="reference reference-toplevel" href="#19" id="69">Exports</a>
  <ul class="simple simple-toc-section">
    
  </ul>
</li>

</ul>

  </div>
  &nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/httpclient.nim#L1"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L1" class="link-seesrc" target="_blank" >Edit</a>

  <div class="nine columns" id="content">
  <div id="tocRoot"></div>
  
  <p class="module-desc">This module implements a simple HTTP client that can be used to retrieve webpages and other data.
<h1><a class="toc-backref" id="retrieving-a-website" href="#retrieving-a-website">Retrieving a website</a></h1><p>This example uses HTTP GET to retrieve <tt class="docutils literal"><span class="pre"><span class="Identifier">http</span><span class="Punctuation">:</span><span class="Operator">//</span><span class="Identifier">google</span><span class="Operator">.</span><span class="Identifier">com</span></span></tt>:</p>
<pre class="listing"><span class="Keyword">import</span> <span class="Identifier">std</span><span class="Operator">/</span><span class="Identifier">httpclient</span>
<span class="Keyword">var</span> <span class="Identifier">client</span> <span class="Operator">=</span> <span class="Identifier">newHttpClient</span><span class="Punctuation">(</span><span class="Punctuation">)</span>
<span class="Identifier">echo</span> <span class="Identifier">client</span><span class="Operator">.</span><span class="Identifier">getContent</span><span class="Punctuation">(</span><span class="StringLit">&quot;http://google.com&quot;</span><span class="Punctuation">)</span></pre><p>The same action can also be performed asynchronously, simply use the <tt class="docutils literal"><span class="pre"><span class="Identifier">AsyncHttpClient</span></span></tt>:</p>
<pre class="listing"><span class="Keyword">import</span> <span class="Identifier">std</span><span class="Operator">/</span><span class="Punctuation">[</span><span class="Identifier">asyncdispatch</span><span class="Punctuation">,</span> <span class="Identifier">httpclient</span><span class="Punctuation">]</span>

<span class="Keyword">proc</span> <span class="Identifier">asyncProc</span><span class="Punctuation">(</span><span class="Punctuation">)</span><span class="Punctuation">:</span> <span class="Identifier">Future</span><span class="Punctuation">[</span><span class="Identifier">string</span><span class="Punctuation">]</span> <span class="Punctuation">{</span><span class="Operator">.</span><span class="Identifier">async</span><span class="Operator">.</span><span class="Punctuation">}</span> <span class="Operator">=</span>
  <span class="Keyword">var</span> <span class="Identifier">client</span> <span class="Operator">=</span> <span class="Identifier">newAsyncHttpClient</span><span class="Punctuation">(</span><span class="Punctuation">)</span>
  <span class="Keyword">return</span> <span class="Identifier">await</span> <span class="Identifier">client</span><span class="Operator">.</span><span class="Identifier">getContent</span><span class="Punctuation">(</span><span class="StringLit">&quot;http://example.com&quot;</span><span class="Punctuation">)</span>

<span class="Identifier">echo</span> <span class="Identifier">waitFor</span> <span class="Identifier">asyncProc</span><span class="Punctuation">(</span><span class="Punctuation">)</span></pre><p>The functionality implemented by <tt class="docutils literal"><span class="pre"><span class="Identifier">HttpClient</span></span></tt> and <tt class="docutils literal"><span class="pre"><span class="Identifier">AsyncHttpClient</span></span></tt> is the same, so you can use whichever one suits you best in the examples shown here.</p>
<p><strong>Note:</strong> You need to run asynchronous examples in an async proc otherwise you will get an <tt class="docutils literal"><span class="pre"><span class="Identifier">Undeclared</span> <span class="Identifier">identifier</span><span class="Punctuation">:</span> <span class="CharLit">'await'</span></span></tt> error.</p>

<h1><a class="toc-backref" id="using-http-post" href="#using-http-post">Using HTTP POST</a></h1><p>This example demonstrates the usage of the W3 HTML Validator, it uses <tt class="docutils literal"><span class="pre"><span class="Identifier">multipart</span><span class="Operator">/</span><span class="Identifier">form</span><span class="Operator">-</span><span class="Identifier">data</span></span></tt> as the <tt class="docutils literal"><span class="pre"><span class="Identifier">Content</span><span class="Operator">-</span><span class="Keyword">Type</span></span></tt> to send the HTML to be validated to the server.</p>
<pre class="listing"><span class="Keyword">var</span> <span class="Identifier">client</span> <span class="Operator">=</span> <span class="Identifier">newHttpClient</span><span class="Punctuation">(</span><span class="Punctuation">)</span>
<span class="Keyword">var</span> <span class="Identifier">data</span> <span class="Operator">=</span> <span class="Identifier">newMultipartData</span><span class="Punctuation">(</span><span class="Punctuation">)</span>
<span class="Identifier">data</span><span class="Punctuation">[</span><span class="StringLit">&quot;output&quot;</span><span class="Punctuation">]</span> <span class="Operator">=</span> <span class="StringLit">&quot;soap12&quot;</span>
<span class="Identifier">data</span><span class="Punctuation">[</span><span class="StringLit">&quot;uploaded_file&quot;</span><span class="Punctuation">]</span> <span class="Operator">=</span> <span class="Punctuation">(</span><span class="StringLit">&quot;test.html&quot;</span><span class="Punctuation">,</span> <span class="StringLit">&quot;text/html&quot;</span><span class="Punctuation">,</span>
  <span class="StringLit">&quot;&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;p&gt;test&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;&quot;</span><span class="Punctuation">)</span>

<span class="Identifier">echo</span> <span class="Identifier">client</span><span class="Operator">.</span><span class="Identifier">postContent</span><span class="Punctuation">(</span><span class="StringLit">&quot;http://validator.w3.org/check&quot;</span><span class="Punctuation">,</span> <span class="Identifier">multipart</span><span class="Operator">=</span><span class="Identifier">data</span><span class="Punctuation">)</span></pre><p>To stream files from disk when performing the request, use <tt class="docutils literal"><span class="pre"><span class="Identifier">addFiles</span></span></tt>.</p>
<p><strong>Note:</strong> This will allocate a new <tt class="docutils literal"><span class="pre"><span class="Identifier">Mimetypes</span></span></tt> database every time you call it, you can pass your own via the <tt class="docutils literal"><span class="pre"><span class="Identifier">mimeDb</span></span></tt> parameter to avoid this.</p>
<pre class="listing"><span class="Keyword">let</span> <span class="Identifier">mimes</span> <span class="Operator">=</span> <span class="Identifier">newMimetypes</span><span class="Punctuation">(</span><span class="Punctuation">)</span>
<span class="Keyword">var</span> <span class="Identifier">client</span> <span class="Operator">=</span> <span class="Identifier">newHttpClient</span><span class="Punctuation">(</span><span class="Punctuation">)</span>
<span class="Keyword">var</span> <span class="Identifier">data</span> <span class="Operator">=</span> <span class="Identifier">newMultipartData</span><span class="Punctuation">(</span><span class="Punctuation">)</span>
<span class="Identifier">data</span><span class="Operator">.</span><span class="Identifier">addFiles</span><span class="Punctuation">(</span><span class="Punctuation">{</span><span class="StringLit">&quot;uploaded_file&quot;</span><span class="Punctuation">:</span> <span class="StringLit">&quot;test.html&quot;</span><span class="Punctuation">}</span><span class="Punctuation">,</span> <span class="Identifier">mimeDb</span> <span class="Operator">=</span> <span class="Identifier">mimes</span><span class="Punctuation">)</span>

<span class="Identifier">echo</span> <span class="Identifier">client</span><span class="Operator">.</span><span class="Identifier">postContent</span><span class="Punctuation">(</span><span class="StringLit">&quot;http://validator.w3.org/check&quot;</span><span class="Punctuation">,</span> <span class="Identifier">multipart</span><span class="Operator">=</span><span class="Identifier">data</span><span class="Punctuation">)</span></pre><p>You can also make post requests with custom headers. This example sets <tt class="docutils literal"><span class="pre"><span class="Identifier">Content</span><span class="Operator">-</span><span class="Keyword">Type</span></span></tt> to <tt class="docutils literal"><span class="pre"><span class="Identifier">application</span><span class="Operator">/</span><span class="Identifier">json</span></span></tt> and uses a json object for the body</p>
<pre class="listing"><span class="Keyword">import</span> <span class="Identifier">std</span><span class="Operator">/</span><span class="Punctuation">[</span><span class="Identifier">httpclient</span><span class="Punctuation">,</span> <span class="Identifier">json</span><span class="Punctuation">]</span>

<span class="Keyword">let</span> <span class="Identifier">client</span> <span class="Operator">=</span> <span class="Identifier">newHttpClient</span><span class="Punctuation">(</span><span class="Punctuation">)</span>
<span class="Identifier">client</span><span class="Operator">.</span><span class="Identifier">headers</span> <span class="Operator">=</span> <span class="Identifier">newHttpHeaders</span><span class="Punctuation">(</span><span class="Punctuation">{</span> <span class="StringLit">&quot;Content-Type&quot;</span><span class="Punctuation">:</span> <span class="StringLit">&quot;application/json&quot;</span> <span class="Punctuation">}</span><span class="Punctuation">)</span>
<span class="Keyword">let</span> <span class="Identifier">body</span> <span class="Operator">=</span> <span class="Operator">%*</span><span class="Punctuation">{</span>
    <span class="StringLit">&quot;data&quot;</span><span class="Punctuation">:</span> <span class="StringLit">&quot;some text&quot;</span>
<span class="Punctuation">}</span>
<span class="Keyword">let</span> <span class="Identifier">response</span> <span class="Operator">=</span> <span class="Identifier">client</span><span class="Operator">.</span><span class="Identifier">request</span><span class="Punctuation">(</span><span class="StringLit">&quot;http://some.api&quot;</span><span class="Punctuation">,</span> <span class="Identifier">httpMethod</span> <span class="Operator">=</span> <span class="Identifier">HttpPost</span><span class="Punctuation">,</span> <span class="Identifier">body</span> <span class="Operator">=</span> <span class="Operator">$</span><span class="Identifier">body</span><span class="Punctuation">)</span>
<span class="Identifier">echo</span> <span class="Identifier">response</span><span class="Operator">.</span><span class="Identifier">status</span></pre>
<h1><a class="toc-backref" id="progress-reporting" href="#progress-reporting">Progress reporting</a></h1><p>You may specify a callback procedure to be called during an HTTP request. This callback will be executed every second with information about the progress of the HTTP request.</p>
<pre class="listing"><span class="Keyword">import</span> <span class="Identifier">std</span><span class="Operator">/</span><span class="Punctuation">[</span><span class="Identifier">asyncdispatch</span><span class="Punctuation">,</span> <span class="Identifier">httpclient</span><span class="Punctuation">]</span>

<span class="Keyword">proc</span> <span class="Identifier">onProgressChanged</span><span class="Punctuation">(</span><span class="Identifier">total</span><span class="Punctuation">,</span> <span class="Identifier">progress</span><span class="Punctuation">,</span> <span class="Identifier">speed</span><span class="Punctuation">:</span> <span class="Identifier">BiggestInt</span><span class="Punctuation">)</span> <span class="Punctuation">{</span><span class="Operator">.</span><span class="Identifier">async</span><span class="Operator">.</span><span class="Punctuation">}</span> <span class="Operator">=</span>
  <span class="Identifier">echo</span><span class="Punctuation">(</span><span class="StringLit">&quot;Downloaded &quot;</span><span class="Punctuation">,</span> <span class="Identifier">progress</span><span class="Punctuation">,</span> <span class="StringLit">&quot; of &quot;</span><span class="Punctuation">,</span> <span class="Identifier">total</span><span class="Punctuation">)</span>
  <span class="Identifier">echo</span><span class="Punctuation">(</span><span class="StringLit">&quot;Current rate: &quot;</span><span class="Punctuation">,</span> <span class="Identifier">speed</span> <span class="Keyword">div</span> <span class="DecNumber">1000</span><span class="Punctuation">,</span> <span class="StringLit">&quot;kb/s&quot;</span><span class="Punctuation">)</span>

<span class="Keyword">proc</span> <span class="Identifier">asyncProc</span><span class="Punctuation">(</span><span class="Punctuation">)</span> <span class="Punctuation">{</span><span class="Operator">.</span><span class="Identifier">async</span><span class="Operator">.</span><span class="Punctuation">}</span> <span class="Operator">=</span>
  <span class="Keyword">var</span> <span class="Identifier">client</span> <span class="Operator">=</span> <span class="Identifier">newAsyncHttpClient</span><span class="Punctuation">(</span><span class="Punctuation">)</span>
  <span class="Identifier">client</span><span class="Operator">.</span><span class="Identifier">onProgressChanged</span> <span class="Operator">=</span> <span class="Identifier">onProgressChanged</span>
  <span class="Keyword">discard</span> <span class="Identifier">await</span> <span class="Identifier">client</span><span class="Operator">.</span><span class="Identifier">getContent</span><span class="Punctuation">(</span><span class="StringLit">&quot;http://speedtest-ams2.digitalocean.com/100mb.test&quot;</span><span class="Punctuation">)</span>

<span class="Identifier">waitFor</span> <span class="Identifier">asyncProc</span><span class="Punctuation">(</span><span class="Punctuation">)</span></pre><p>If you would like to remove the callback simply set it to <tt class="docutils literal"><span class="pre"><span class="Keyword">nil</span></span></tt>.</p>
<pre class="listing"><span class="Identifier">client</span><span class="Operator">.</span><span class="Identifier">onProgressChanged</span> <span class="Operator">=</span> <span class="Keyword">nil</span></pre><div class="admonition admonition-warning"><span class="admonition-warning-text"><b>Warning:</b></span>
The <tt class="docutils literal"><span class="pre"><span class="Identifier">total</span></span></tt> reported by httpclient may be 0 in some cases.</div>

<h1><a class="toc-backref" id="sslslashtls-support" href="#sslslashtls-support">SSL/TLS support</a></h1><p>This requires the OpenSSL library. Fortunately it's widely used and installed on many operating systems. httpclient will use SSL automatically if you give any of the functions a url with the <tt class="docutils literal"><span class="pre"><span class="Identifier">https</span></span></tt> schema, for example: <tt class="docutils literal"><span class="pre"><span class="Identifier">https</span><span class="Punctuation">:</span><span class="Operator">//</span><span class="Identifier">github</span><span class="Operator">.</span><span class="Identifier">com</span><span class="Operator">/</span></span></tt>.</p>
<p>You will also have to compile with <tt class="docutils literal"><span class="pre"><span class="Identifier">ssl</span></span></tt> defined like so: <tt class="docutils literal"><span class="pre"><span class="Identifier">nim</span> <span class="Identifier">c</span> <span class="Operator">-</span><span class="Identifier">d</span><span class="Punctuation">:</span><span class="Identifier">ssl</span> <span class="Operator">...</span></span></tt>.</p>
<p>Certificate validation is performed by default.</p>
<p>A set of directories and files from the <a class="reference external" href="ssl_certs.html">ssl_certs</a> module are scanned to locate CA certificates.</p>
<p>Example of setting SSL verification parameters in a new client:</p>
<pre class="listing"><span class="Keyword">import</span> <span class="Identifier">httpclient</span>
<span class="Keyword">var</span> <span class="Identifier">client</span> <span class="Operator">=</span> <span class="Identifier">newHttpClient</span><span class="Punctuation">(</span><span class="Identifier">sslContext</span><span class="Operator">=</span><span class="Identifier">newContext</span><span class="Punctuation">(</span><span class="Identifier">verifyMode</span><span class="Operator">=</span><span class="Identifier">CVerifyPeer</span><span class="Punctuation">)</span><span class="Punctuation">)</span></pre><p>There are three options for verify mode:</p>
<ul class="simple"><li><tt class="docutils literal"><span class="pre">CVerifyNone</span></tt>: certificates are not verified;</li>
<li><tt class="docutils literal"><span class="pre">CVerifyPeer</span></tt>: certificates are verified;</li>
<li><tt class="docutils literal"><span class="pre">CVerifyPeerUseEnvVars</span></tt>: certificates are verified and the optional environment variables SSL_CERT_FILE and SSL_CERT_DIR are also used to locate certificates</li>
</ul>
<p>See <a class="reference external" href="net.html#newContext.string,string,string,string">newContext</a> to tweak or disable certificate validation.</p>

<h1><a class="toc-backref" id="timeouts" href="#timeouts">Timeouts</a></h1><p>Currently only the synchronous functions support a timeout. The timeout is measured in milliseconds, once it is set any call on a socket which may block will be susceptible to this timeout.</p>
<p>It may be surprising but the function as a whole can take longer than the specified timeout, only individual internal calls on the socket are affected. In practice this means that as long as the server is sending data an exception will not be raised, if however data does not reach the client within the specified timeout a <tt class="docutils literal"><span class="pre"><span class="Identifier">TimeoutError</span></span></tt> exception will be raised.</p>
<p>Here is how to set a timeout when creating an <tt class="docutils literal"><span class="pre"><span class="Identifier">HttpClient</span></span></tt> instance:</p>
<pre class="listing"><span class="Keyword">import</span> <span class="Identifier">std</span><span class="Operator">/</span><span class="Identifier">httpclient</span>

<span class="Keyword">let</span> <span class="Identifier">client</span> <span class="Operator">=</span> <span class="Identifier">newHttpClient</span><span class="Punctuation">(</span><span class="Identifier">timeout</span> <span class="Operator">=</span> <span class="DecNumber">42</span><span class="Punctuation">)</span></pre>
<h1><a class="toc-backref" id="proxy" href="#proxy">Proxy</a></h1><p>A proxy can be specified as a param to any of the procedures defined in this module. To do this, use the <tt class="docutils literal"><span class="pre"><span class="Identifier">newProxy</span></span></tt> constructor. Unfortunately, only basic authentication is supported at the moment.</p>
<p>Some examples on how to configure a Proxy for <tt class="docutils literal"><span class="pre"><span class="Identifier">HttpClient</span></span></tt>:</p>
<pre class="listing"><span class="Keyword">import</span> <span class="Identifier">std</span><span class="Operator">/</span><span class="Identifier">httpclient</span>

<span class="Keyword">let</span> <span class="Identifier">myProxy</span> <span class="Operator">=</span> <span class="Identifier">newProxy</span><span class="Punctuation">(</span><span class="StringLit">&quot;http://myproxy.network&quot;</span><span class="Punctuation">)</span>
<span class="Keyword">let</span> <span class="Identifier">client</span> <span class="Operator">=</span> <span class="Identifier">newHttpClient</span><span class="Punctuation">(</span><span class="Identifier">proxy</span> <span class="Operator">=</span> <span class="Identifier">myProxy</span><span class="Punctuation">)</span></pre><p>Get Proxy URL from environment variables:</p>
<pre class="listing"><span class="Keyword">import</span> <span class="Identifier">std</span><span class="Operator">/</span><span class="Identifier">httpclient</span>

<span class="Keyword">var</span> <span class="Identifier">url</span> <span class="Operator">=</span> <span class="StringLit">&quot;&quot;</span>
<span class="Keyword">try</span><span class="Punctuation">:</span>
  <span class="Keyword">if</span> <span class="Identifier">existsEnv</span><span class="Punctuation">(</span><span class="StringLit">&quot;http_proxy&quot;</span><span class="Punctuation">)</span><span class="Punctuation">:</span>
    <span class="Identifier">url</span> <span class="Operator">=</span> <span class="Identifier">getEnv</span><span class="Punctuation">(</span><span class="StringLit">&quot;http_proxy&quot;</span><span class="Punctuation">)</span>
  <span class="Keyword">elif</span> <span class="Identifier">existsEnv</span><span class="Punctuation">(</span><span class="StringLit">&quot;https_proxy&quot;</span><span class="Punctuation">)</span><span class="Punctuation">:</span>
    <span class="Identifier">url</span> <span class="Operator">=</span> <span class="Identifier">getEnv</span><span class="Punctuation">(</span><span class="StringLit">&quot;https_proxy&quot;</span><span class="Punctuation">)</span>
<span class="Keyword">except</span> <span class="Identifier">ValueError</span><span class="Punctuation">:</span>
  <span class="Identifier">echo</span> <span class="StringLit">&quot;Unable to parse proxy from environment variables.&quot;</span>

<span class="Keyword">let</span> <span class="Identifier">myProxy</span> <span class="Operator">=</span> <span class="Identifier">newProxy</span><span class="Punctuation">(</span><span class="Identifier">url</span> <span class="Operator">=</span> <span class="Identifier">url</span><span class="Punctuation">)</span>
<span class="Keyword">let</span> <span class="Identifier">client</span> <span class="Operator">=</span> <span class="Identifier">newHttpClient</span><span class="Punctuation">(</span><span class="Identifier">proxy</span> <span class="Operator">=</span> <span class="Identifier">myProxy</span><span class="Punctuation">)</span></pre>
<h1><a class="toc-backref" id="redirects" href="#redirects">Redirects</a></h1><p>The maximum redirects can be set with the <tt class="docutils literal"><span class="pre"><span class="Identifier">maxRedirects</span></span></tt> of <tt class="docutils literal"><span class="pre"><span class="Identifier">int</span></span></tt> type, it specifies the maximum amount of redirects to follow, it defaults to <tt class="docutils literal"><span class="pre"><span class="DecNumber">5</span></span></tt>, you can set it to <tt class="docutils literal"><span class="pre"><span class="DecNumber">0</span></span></tt> to disable redirects.</p>
<p>Here you can see an example about how to set the <tt class="docutils literal"><span class="pre"><span class="Identifier">maxRedirects</span></span></tt> of <tt class="docutils literal"><span class="pre"><span class="Identifier">HttpClient</span></span></tt>:</p>
<pre class="listing"><span class="Keyword">import</span> <span class="Identifier">std</span><span class="Operator">/</span><span class="Identifier">httpclient</span>

<span class="Keyword">let</span> <span class="Identifier">client</span> <span class="Operator">=</span> <span class="Identifier">newHttpClient</span><span class="Punctuation">(</span><span class="Identifier">maxRedirects</span> <span class="Operator">=</span> <span class="DecNumber">0</span><span class="Punctuation">)</span></pre></p>
  <div class="section" id="6">
<h1><a class="toc-backref" href="#6">Imports</a></h1>
<dl class="item">
<a class="reference external" href="since.html">since</a>, <a class="reference external" href="net.html">net</a>, <a class="reference external" href="strutils.html">strutils</a>, <a class="reference external" href="uri.html">uri</a>, <a class="reference external" href="parseutils.html">parseutils</a>, <a class="reference external" href="base64.html">base64</a>, <a class="reference external" href="os.html">os</a>, <a class="reference external" href="mimetypes.html">mimetypes</a>, <a class="reference external" href="math.html">math</a>, <a class="reference external" href="random.html">random</a>, <a class="reference external" href="httpcore.html">httpcore</a>, <a class="reference external" href="times.html">times</a>, <a class="reference external" href="tables.html">tables</a>, <a class="reference external" href="streams.html">streams</a>, <a class="reference external" href="monotimes.html">monotimes</a>, <a class="reference external" href="asyncnet.html">asyncnet</a>, <a class="reference external" href="asyncdispatch.html">asyncdispatch</a>, <a class="reference external" href="asyncfile.html">asyncfile</a>, <a class="reference external" href="nativesockets.html">nativesockets</a>
</dl></div>
<div class="section" id="7">
<h1><a class="toc-backref" href="#7">Types</a></h1>
<dl class="item">
<div id="AsyncHttpClient">
<dt><pre><a href="httpclient.html#AsyncHttpClient"><span class="Identifier">AsyncHttpClient</span></a> <span class="Other">=</span> <a href="httpclient.html#HttpClientBase"><span class="Identifier">HttpClientBase</span></a><span class="Other">[</span><a href="asyncnet.html#AsyncSocket"><span class="Identifier">AsyncSocket</span></a><span class="Other">]</span></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/httpclient.nim#L609"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L609" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="AsyncResponse">
<dt><pre><a href="httpclient.html#AsyncResponse"><span class="Identifier">AsyncResponse</span></a> <span class="Other">=</span> <span class="Keyword">ref</span> <span class="Keyword">object</span>
  <span class="Identifier">version</span><span class="Operator">*</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a>
  <span class="Identifier">status</span><span class="Operator">*</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a>
  <span class="Identifier">headers</span><span class="Operator">*</span><span class="Other">:</span> <a href="httpcore.html#HttpHeaders"><span class="Identifier">HttpHeaders</span></a>
  <span class="Identifier">body</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a>
  <span class="Identifier">bodyStream</span><span class="Operator">*</span><span class="Other">:</span> <a href="asyncstreams.html#FutureStream"><span class="Identifier">FutureStream</span></a><span class="Other">[</span><a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">]</span>
</pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/httpclient.nim#L234"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L234" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="HttpClient">
<dt><pre><a href="httpclient.html#HttpClient"><span class="Identifier">HttpClient</span></a> <span class="Other">=</span> <a href="httpclient.html#HttpClientBase"><span class="Identifier">HttpClientBase</span></a><span class="Other">[</span><a href="net.html#Socket"><span class="Identifier">Socket</span></a><span class="Other">]</span></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/httpclient.nim#L566"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L566" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="HttpClientBase">
<dt><pre><a href="httpclient.html#HttpClientBase"><span class="Identifier">HttpClientBase</span></a><span class="Other">[</span><span class="Identifier">SocketType</span><span class="Other">]</span> <span class="Other">=</span> <span class="Keyword">ref</span> <span class="Keyword">object</span>
  <span class="Identifier">socket</span><span class="Other">:</span> <span class="Identifier">SocketType</span>
  <span class="Identifier">connected</span><span class="Other">:</span> <a href="system.html#bool"><span class="Identifier">bool</span></a>
  <span class="Identifier">currentURL</span><span class="Other">:</span> <a href="uri.html#Uri"><span class="Identifier">Uri</span></a>            <span class="Comment">## Where we are currently connected.</span>
  <span class="Identifier">headers</span><span class="Operator">*</span><span class="Other">:</span> <a href="httpcore.html#HttpHeaders"><span class="Identifier">HttpHeaders</span></a>      <span class="Comment">## Headers to send in requests.</span>
  <span class="Identifier">maxRedirects</span><span class="Other">:</span> <a href="system.html#Natural"><span class="Identifier">Natural</span></a>      <span class="Comment">## Maximum redirects, set to `0` to disable.</span>
  <span class="Identifier">userAgent</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a>
  <span class="Identifier">timeout</span><span class="Operator">*</span><span class="Other">:</span> <a href="system.html#int"><span class="Identifier">int</span></a>              <span class="Comment">## Only used for blocking HttpClient for now.</span>
  <span class="Identifier">proxy</span><span class="Other">:</span> <a href="httpclient.html#Proxy"><span class="Identifier">Proxy</span></a>               <span class="Comment">## `nil` or the callback to call when request progress changes.</span>
  <span class="Keyword">when</span> <span class="Identifier">SocketType</span> <span class="Identifier">is</span> Socket<span class="Other">:</span>
    <span class="Identifier">onProgressChanged</span>
  <span class="Keyword">else</span><span class="Other">:</span>
    <span class="Identifier">onProgressChanged</span>
  <span class="Keyword">when</span> <span class="DecNumber">false</span><span class="Other">:</span>
    <span class="Identifier">sslContext</span>
  <span class="Identifier">contentTotal</span><span class="Other">:</span> <a href="system.html#BiggestInt"><span class="Identifier">BiggestInt</span></a>
  <span class="Identifier">contentProgress</span><span class="Other">:</span> <a href="system.html#BiggestInt"><span class="Identifier">BiggestInt</span></a>
  <span class="Identifier">oneSecondProgress</span><span class="Other">:</span> <a href="system.html#BiggestInt"><span class="Identifier">BiggestInt</span></a>
  <span class="Identifier">lastProgressReport</span><span class="Other">:</span> <a href="monotimes.html#MonoTime"><span class="Identifier">MonoTime</span></a>
  <span class="Keyword">when</span> <span class="Identifier">SocketType</span> <span class="Identifier">is</span> AsyncSocket<span class="Other">:</span>
      <span class="Identifier">bodyStream</span>
      <span class="Identifier">parseBodyFut</span>

  <span class="Keyword">else</span><span class="Other">:</span>
    <span class="Identifier">bodyStream</span>
  <span class="Identifier">getBody</span><span class="Other">:</span> <a href="system.html#bool"><span class="Identifier">bool</span></a>              <span class="Comment">## When `false`, the body is never read in requestAux.</span>
  </pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/httpclient.nim#L538"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L538" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="HttpRequestError">
<dt><pre><a href="httpclient.html#HttpRequestError"><span class="Identifier">HttpRequestError</span></a> <span class="Other">=</span> <span class="Keyword">object</span> <span class="Keyword">of</span> <a href="system.html#IOError"><span class="Identifier">IOError</span></a></pre></dt>
<dd>

Thrown in the <tt class="docutils literal"><span class="pre"><span class="Identifier">getContent</span></span></tt> proc and <tt class="docutils literal"><span class="pre"><span class="Identifier">postContent</span></span></tt> proc, when the server returns an error
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/httpclient.nim#L312"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L312" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="MultipartData">
<dt><pre><a href="httpclient.html#MultipartData"><span class="Identifier">MultipartData</span></a> <span class="Other">=</span> <span class="Keyword">ref</span> <span class="Keyword">object</span>
  <span class="Identifier">content</span><span class="Other">:</span> <a href="system.html#seq"><span class="Identifier">seq</span></a><span class="Other">[</span><span class="Identifier">MultipartEntry</span><span class="Other">]</span>
</pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/httpclient.nim#L305"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L305" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="MultipartEntries">
<dt><pre><a href="httpclient.html#MultipartEntries"><span class="Identifier">MultipartEntries</span></a> <span class="Other">=</span> <a href="system.html#openArray"><span class="Identifier">openArray</span></a><span class="Other">[</span><span class="Keyword">tuple</span><span class="Other">[</span><span class="Identifier">name</span><span class="Other">,</span> <span class="Identifier">content</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">]</span><span class="Other">]</span></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/httpclient.nim#L304"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L304" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="ProgressChangedProc">
<dt><pre><a href="httpclient.html#ProgressChangedProc"><span class="Identifier">ProgressChangedProc</span></a><span class="Other">[</span><span class="Identifier">ReturnType</span><span class="Other">]</span> <span class="Other">=</span> <span class="Keyword">proc</span> <span class="Other">(</span><span class="Identifier">total</span><span class="Other">,</span> <span class="Identifier">progress</span><span class="Other">,</span> <span class="Identifier">speed</span><span class="Other">:</span> <a href="system.html#BiggestInt"><span class="Identifier">BiggestInt</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">ReturnType</span> {.
    <span class="Identifier">closure</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">gcsafe</span></span>.}</pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/httpclient.nim#L534"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L534" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="ProtocolError">
<dt><pre><a href="httpclient.html#ProtocolError"><span class="Identifier">ProtocolError</span></a> <span class="Other">=</span> <span class="Keyword">object</span> <span class="Keyword">of</span> <a href="system.html#IOError"><span class="Identifier">IOError</span></a></pre></dt>
<dd>

exception that is raised when server does not conform to the implemented protocol
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/httpclient.nim#L308"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L308" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="Proxy">
<dt><pre><a href="httpclient.html#Proxy"><span class="Identifier">Proxy</span></a> <span class="Other">=</span> <span class="Keyword">ref</span> <span class="Keyword">object</span>
  <span class="Identifier">url</span><span class="Operator">*</span><span class="Other">:</span> <a href="uri.html#Uri"><span class="Identifier">Uri</span></a>
  <span class="Identifier">auth</span><span class="Operator">*</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a>
</pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/httpclient.nim#L291"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L291" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="Response">
<dt><pre><a href="httpclient.html#Response"><span class="Identifier">Response</span></a> <span class="Other">=</span> <span class="Keyword">ref</span> <span class="Keyword">object</span>
  <span class="Identifier">version</span><span class="Operator">*</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a>
  <span class="Identifier">status</span><span class="Operator">*</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a>
  <span class="Identifier">headers</span><span class="Operator">*</span><span class="Other">:</span> <a href="httpcore.html#HttpHeaders"><span class="Identifier">HttpHeaders</span></a>
  <span class="Identifier">body</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a>
  <span class="Identifier">bodyStream</span><span class="Operator">*</span><span class="Other">:</span> <a href="streams.html#Stream"><span class="Identifier">Stream</span></a>
</pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/httpclient.nim#L227"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L227" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>

</dl></div>
<div class="section" id="10">
<h1><a class="toc-backref" href="#10">Consts</a></h1>
<dl class="item">
<div id="defUserAgent">
<dt><pre><a href="httpclient.html#defUserAgent"><span class="Identifier">defUserAgent</span></a> <span class="Other">=</span> <span class="StringLit">&quot;Nim httpclient/1.5.1&quot;</span></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/httpclient.nim#L316"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L316" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>

</dl></div>
<div class="section" id="12">
<h1><a class="toc-backref" href="#12">Procs</a></h1>
<dl class="item">
<div id="$,MultipartData">
<dt><pre><span class="Keyword">proc</span> <a href="#%24%2CMultipartData"><span class="Identifier">`$`</span></a><span class="Other">(</span><span class="Identifier">data</span><span class="Other">:</span> <a href="httpclient.html#MultipartData"><span class="Identifier">MultipartData</span></a><span class="Other">)</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

convert MultipartData to string so it's human readable when echo see <a class="reference external" href="https://github.com/nim-lang/Nim/issues/11863">https://github.com/nim-lang/Nim/issues/11863</a>
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/httpclient.nim#L354"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L354" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="[]=,MultipartData,string,string">
<dt><pre><span class="Keyword">proc</span> <a href="#%5B%5D%3D%2CMultipartData%2Cstring%2Cstring"><span class="Identifier">`[]=`</span></a><span class="Other">(</span><span class="Identifier">p</span><span class="Other">:</span> <a href="httpclient.html#MultipartData"><span class="Identifier">MultipartData</span></a><span class="Other">;</span> <span class="Identifier">name</span><span class="Other">,</span> <span class="Identifier">content</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">)</span> {.<span class="Identifier">inline</span><span class="Other">,</span>
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Add a multipart entry to the multipart data <tt class="docutils literal"><span class="pre"><span class="Identifier">p</span></span></tt>. The value is added without a filename and without a content type.<pre class="listing"><span class="Identifier">data</span><span class="Punctuation">[</span><span class="StringLit">&quot;username&quot;</span><span class="Punctuation">]</span> <span class="Operator">=</span> <span class="StringLit">&quot;NimUser&quot;</span></pre>
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/httpclient.nim#L436"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L436" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="[]=,MultipartData,string,tuple[string,string,string]">
<dt><pre><span class="Keyword">proc</span> <a href="#%5B%5D%3D%2CMultipartData%2Cstring%2Ctuple%5Bstring%2Cstring%2Cstring%5D"><span class="Identifier">`[]=`</span></a><span class="Other">(</span><span class="Identifier">p</span><span class="Other">:</span> <a href="httpclient.html#MultipartData"><span class="Identifier">MultipartData</span></a><span class="Other">;</span> <span class="Identifier">name</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">;</span>
           <span class="Identifier">file</span><span class="Other">:</span> <span class="Keyword">tuple</span><span class="Other">[</span><span class="Identifier">name</span><span class="Other">,</span> <span class="Identifier">contentType</span><span class="Other">,</span> <span class="Identifier">content</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">]</span><span class="Other">)</span> {.<span class="Identifier">inline</span><span class="Other">,</span>
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Add a file to the multipart data <tt class="docutils literal"><span class="pre"><span class="Identifier">p</span></span></tt>, specifying filename, contentType and content manually.<pre class="listing"><span class="Identifier">data</span><span class="Punctuation">[</span><span class="StringLit">&quot;uploaded_file&quot;</span><span class="Punctuation">]</span> <span class="Operator">=</span> <span class="Punctuation">(</span><span class="StringLit">&quot;test.html&quot;</span><span class="Punctuation">,</span> <span class="StringLit">&quot;text/html&quot;</span><span class="Punctuation">,</span>
  <span class="StringLit">&quot;&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;p&gt;test&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;&quot;</span><span class="Punctuation">)</span></pre>
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/httpclient.nim#L444"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L444" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="add,MultipartData,string,string,string,string">
<dt><pre><span class="Keyword">proc</span> <a href="#add%2CMultipartData%2Cstring%2Cstring%2Cstring%2Cstring"><span class="Identifier">add</span></a><span class="Other">(</span><span class="Identifier">p</span><span class="Other">:</span> <a href="httpclient.html#MultipartData"><span class="Identifier">MultipartData</span></a><span class="Other">;</span> <span class="Identifier">name</span><span class="Other">,</span> <span class="Identifier">content</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">;</span> <span class="Identifier">filename</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span>
         <span class="Identifier">contentType</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span> <span class="Identifier">useStream</span> <span class="Other">=</span> <span class="Identifier">true</span><span class="Other">)</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

<p>Add a value to the multipart data.</p>
<p>When <tt class="docutils literal"><span class="pre"><span class="Identifier">useStream</span></span></tt> is <tt class="docutils literal"><span class="pre"><span class="Identifier">false</span></span></tt>, the file will be read into memory.</p>
<p>Raises a <tt class="docutils literal"><span class="pre"><span class="Identifier">ValueError</span></span></tt> exception if <tt class="docutils literal"><span class="pre"><span class="Identifier">name</span></span></tt>, <tt class="docutils literal"><span class="pre"><span class="Identifier">filename</span></span></tt> or <tt class="docutils literal"><span class="pre"><span class="Identifier">contentType</span></span></tt> contain newline characters.</p>

&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/httpclient.nim#L366"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L366" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="add,MultipartData,MultipartEntries">
<dt><pre><span class="Keyword">proc</span> <a href="#add%2CMultipartData%2CMultipartEntries"><span class="Identifier">add</span></a><span class="Other">(</span><span class="Identifier">p</span><span class="Other">:</span> <a href="httpclient.html#MultipartData"><span class="Identifier">MultipartData</span></a><span class="Other">;</span> <span class="Identifier">xs</span><span class="Other">:</span> <a href="httpclient.html#MultipartEntries"><span class="Identifier">MultipartEntries</span></a><span class="Other">)</span><span class="Other">:</span> <a href="httpclient.html#MultipartData"><span class="Identifier">MultipartData</span></a> {.<span class="Identifier">discardable</span><span class="Other">,</span>
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Add a list of multipart entries to the multipart data <tt class="docutils literal"><span class="pre"><span class="Identifier">p</span></span></tt>. All values are added without a filename and without a content type.<pre class="listing"><span class="Identifier">data</span><span class="Operator">.</span><span class="Identifier">add</span><span class="Punctuation">(</span><span class="Punctuation">{</span><span class="StringLit">&quot;action&quot;</span><span class="Punctuation">:</span> <span class="StringLit">&quot;login&quot;</span><span class="Punctuation">,</span> <span class="StringLit">&quot;format&quot;</span><span class="Punctuation">:</span> <span class="StringLit">&quot;json&quot;</span><span class="Punctuation">}</span><span class="Punctuation">)</span></pre>
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/httpclient.nim#L394"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L394" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="addFiles,MultipartData,openArray[tuple[string,string]]">
<dt><pre><span class="Keyword">proc</span> <a href="#addFiles%2CMultipartData%2CopenArray%5Btuple%5Bstring%2Cstring%5D%5D"><span class="Identifier">addFiles</span></a><span class="Other">(</span><span class="Identifier">p</span><span class="Other">:</span> <a href="httpclient.html#MultipartData"><span class="Identifier">MultipartData</span></a><span class="Other">;</span> <span class="Identifier">xs</span><span class="Other">:</span> <a href="system.html#openArray"><span class="Identifier">openArray</span></a><span class="Other">[</span><span class="Keyword">tuple</span><span class="Other">[</span><span class="Identifier">name</span><span class="Other">,</span> <span class="Identifier">file</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">]</span><span class="Other">]</span><span class="Other">;</span>
              <span class="Identifier">mimeDb</span> <span class="Other">=</span> <span class="Identifier">newMimetypes</span><span class="Other">(</span><span class="Other">)</span><span class="Other">;</span> <span class="Identifier">useStream</span> <span class="Other">=</span> <span class="Identifier">true</span><span class="Other">)</span><span class="Other">:</span> <a href="httpclient.html#MultipartData"><span class="Identifier">MultipartData</span></a> {.
    <span class="Identifier">discardable</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ReadIOEffect</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Add files to a multipart data object. The files will be streamed from disk when the request is being made. When <tt class="docutils literal"><span class="pre"><span class="Identifier">stream</span></span></tt> is <tt class="docutils literal"><span class="pre"><span class="Identifier">false</span></span></tt>, the files are instead read into memory, but beware this is very memory ineffecient even for small files. The MIME types will automatically be determined. Raises an <tt class="docutils literal"><span class="pre"><span class="Identifier">IOError</span></span></tt> if the file cannot be opened or reading fails. To manually specify file content, filename and MIME type, use <tt class="docutils literal"><span class="pre"><span class="Punctuation">[</span><span class="Punctuation">]</span><span class="Operator">=</span></span></tt> instead.<pre class="listing"><span class="Identifier">data</span><span class="Operator">.</span><span class="Identifier">addFiles</span><span class="Punctuation">(</span><span class="Punctuation">{</span><span class="StringLit">&quot;uploaded_file&quot;</span><span class="Punctuation">:</span> <span class="StringLit">&quot;public/test.html&quot;</span><span class="Punctuation">}</span><span class="Punctuation">)</span></pre>
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/httpclient.nim#L415"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L415" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="body,AsyncResponse">
<dt><pre><span class="Keyword">proc</span> <a href="#body%2CAsyncResponse"><span class="Identifier">body</span></a><span class="Other">(</span><span class="Identifier">response</span><span class="Other">:</span> <a href="httpclient.html#AsyncResponse"><span class="Identifier">AsyncResponse</span></a><span class="Other">)</span><span class="Other">:</span> <a href="asyncfutures.html#Future"><span class="Identifier">Future</span></a><span class="Other">[</span><a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">]</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">Exception</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Reads the response's body and caches it. The read is performed only once.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/httpclient.nim#L283"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L283" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="body,Response">
<dt><pre><span class="Keyword">proc</span> <a href="#body%2CResponse"><span class="Identifier">body</span></a><span class="Other">(</span><span class="Identifier">response</span><span class="Other">:</span> <a href="httpclient.html#Response"><span class="Identifier">Response</span></a><span class="Other">)</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">IOError</span><span class="Other">,</span> <span class="Identifier">OSError</span><span class="Other">]</span><span class="Other">,</span>
                                        <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ReadIOEffect</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

<p>Retrieves the specified response's body.</p>
<p>The response's body stream is read synchronously.</p>

&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/httpclient.nim#L275"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L275" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="close">
<dt><pre><span class="Keyword">proc</span> <a href="#close"><span class="Identifier">close</span></a><span class="Other">(</span><span class="Identifier">client</span><span class="Other">:</span> <a href="httpclient.html#HttpClient"><span class="Identifier">HttpClient</span></a> <span class="Operator">|</span> <a href="httpclient.html#AsyncHttpClient"><span class="Identifier">AsyncHttpClient</span></a><span class="Other">)</span></pre></dt>
<dd>

Closes any connections held by the HTTP client.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/httpclient.nim#L651"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L651" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="code">
<dt><pre><span class="Keyword">proc</span> <a href="#code"><span class="Identifier">code</span></a><span class="Other">(</span><span class="Identifier">response</span><span class="Other">:</span> <a href="httpclient.html#Response"><span class="Identifier">Response</span></a> <span class="Operator">|</span> <a href="httpclient.html#AsyncResponse"><span class="Identifier">AsyncResponse</span></a><span class="Other">)</span><span class="Other">:</span> <a href="httpcore.html#HttpCode"><span class="Identifier">HttpCode</span></a> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><a href="system.html#ValueError"><span class="Identifier">ValueError</span></a><span class="Other">,</span> <a href="system.html#OverflowDefect"><span class="Identifier">OverflowDefect</span></a><span class="Other">]</span></span>.}</pre></dt>
<dd>

<p>Retrieves the specified response's <tt class="docutils literal"><span class="pre"><span class="Identifier">HttpCode</span></span></tt>.</p>
<p>Raises a <tt class="docutils literal"><span class="pre"><span class="Identifier">ValueError</span></span></tt> if the response's <tt class="docutils literal"><span class="pre"><span class="Identifier">status</span></span></tt> does not have a corresponding <tt class="docutils literal"><span class="pre"><span class="Identifier">HttpCode</span></span></tt>.</p>

&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/httpclient.nim#L241"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L241" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="contentLength">
<dt><pre><span class="Keyword">proc</span> <a href="#contentLength"><span class="Identifier">contentLength</span></a><span class="Other">(</span><span class="Identifier">response</span><span class="Other">:</span> <a href="httpclient.html#Response"><span class="Identifier">Response</span></a> <span class="Operator">|</span> <a href="httpclient.html#AsyncResponse"><span class="Identifier">AsyncResponse</span></a><span class="Other">)</span><span class="Other">:</span> <a href="system.html#int"><span class="Identifier">int</span></a></pre></dt>
<dd>

<p>Retrieves the specified response's content length.</p>
<p>This is effectively the value of the &quot;Content-Length&quot; header.</p>
<p>A <tt class="docutils literal"><span class="pre"><span class="Identifier">ValueError</span></span></tt> exception will be raised if the value is not an integer.</p>

&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/httpclient.nim#L255"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L255" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="contentType">
<dt><pre><span class="Keyword">proc</span> <a href="#contentType"><span class="Identifier">contentType</span></a><span class="Other">(</span><span class="Identifier">response</span><span class="Other">:</span> <a href="httpclient.html#Response"><span class="Identifier">Response</span></a> <span class="Operator">|</span> <a href="httpclient.html#AsyncResponse"><span class="Identifier">AsyncResponse</span></a><span class="Other">)</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a> {.<span class="Identifier">inline</span>.}</pre></dt>
<dd>

<p>Retrieves the specified response's content type.</p>
<p>This is effectively the value of the &quot;Content-Type&quot; header.</p>

&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/httpclient.nim#L249"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L249" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="delete,AsyncHttpClient,">
<dt><pre><span class="Keyword">proc</span> <a href="#delete%2CAsyncHttpClient%2C"><span class="Identifier">delete</span></a><span class="Other">(</span><span class="Identifier">client</span><span class="Other">:</span> <a href="httpclient.html#AsyncHttpClient"><span class="Identifier">AsyncHttpClient</span></a><span class="Other">;</span> <span class="Identifier">url</span><span class="Other">:</span> <a href="uri.html#Uri"><span class="Identifier">Uri</span></a> <span class="Operator">|</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">)</span><span class="Other">:</span> <a href="asyncfutures.html#Future"><span class="Identifier">Future</span></a><span class="Other">[</span><a href="httpclient.html#AsyncResponse"><span class="Identifier">AsyncResponse</span></a><span class="Other">]</span></pre></dt>
<dd>

Connects to the hostname specified by the URL and performs a DELETE request. This procedure uses httpClient values such as <tt class="docutils literal"><span class="pre"><span class="Identifier">client</span><span class="Operator">.</span><span class="Identifier">maxRedirects</span></span></tt>.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/httpclient.nim#L1191"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L1191" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="delete,HttpClient,">
<dt><pre><span class="Keyword">proc</span> <a href="#delete%2CHttpClient%2C"><span class="Identifier">delete</span></a><span class="Other">(</span><span class="Identifier">client</span><span class="Other">:</span> <a href="httpclient.html#HttpClient"><span class="Identifier">HttpClient</span></a><span class="Other">;</span> <span class="Identifier">url</span><span class="Other">:</span> <a href="uri.html#Uri"><span class="Identifier">Uri</span></a> <span class="Operator">|</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">)</span><span class="Other">:</span> <a href="httpclient.html#Response"><span class="Identifier">Response</span></a></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/httpclient.nim#L1192"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L1192" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="deleteContent,AsyncHttpClient,">
<dt><pre><span class="Keyword">proc</span> <a href="#deleteContent%2CAsyncHttpClient%2C"><span class="Identifier">deleteContent</span></a><span class="Other">(</span><span class="Identifier">client</span><span class="Other">:</span> <a href="httpclient.html#AsyncHttpClient"><span class="Identifier">AsyncHttpClient</span></a><span class="Other">;</span> <span class="Identifier">url</span><span class="Other">:</span> <a href="uri.html#Uri"><span class="Identifier">Uri</span></a> <span class="Operator">|</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">)</span><span class="Other">:</span> <a href="asyncfutures.html#Future"><span class="Identifier">Future</span></a><span class="Other">[</span><a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">]</span></pre></dt>
<dd>

Connects to the hostname specified by the URL and returns the content of a DELETE request.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/httpclient.nim#L1197"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L1197" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="deleteContent,HttpClient,">
<dt><pre><span class="Keyword">proc</span> <a href="#deleteContent%2CHttpClient%2C"><span class="Identifier">deleteContent</span></a><span class="Other">(</span><span class="Identifier">client</span><span class="Other">:</span> <a href="httpclient.html#HttpClient"><span class="Identifier">HttpClient</span></a><span class="Other">;</span> <span class="Identifier">url</span><span class="Other">:</span> <a href="uri.html#Uri"><span class="Identifier">Uri</span></a> <span class="Operator">|</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">)</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/httpclient.nim#L1198"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L1198" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="downloadFile,AsyncHttpClient,,string">
<dt><pre><span class="Keyword">proc</span> <a href="#downloadFile%2CAsyncHttpClient%2C%2Cstring"><span class="Identifier">downloadFile</span></a><span class="Other">(</span><span class="Identifier">client</span><span class="Other">:</span> <a href="httpclient.html#AsyncHttpClient"><span class="Identifier">AsyncHttpClient</span></a><span class="Other">;</span> <span class="Identifier">url</span><span class="Other">:</span> <a href="uri.html#Uri"><span class="Identifier">Uri</span></a> <span class="Operator">|</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">;</span> <span class="Identifier">filename</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">)</span><span class="Other">:</span> <a href="asyncfutures.html#Future"><span class="Identifier">Future</span></a><span class="Other">[</span>
    <a href="system.html#void"><span class="Identifier">void</span></a><span class="Other">]</span></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/httpclient.nim#L1282"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L1282" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="downloadFile,HttpClient,,string">
<dt><pre><span class="Keyword">proc</span> <a href="#downloadFile%2CHttpClient%2C%2Cstring"><span class="Identifier">downloadFile</span></a><span class="Other">(</span><span class="Identifier">client</span><span class="Other">:</span> <a href="httpclient.html#HttpClient"><span class="Identifier">HttpClient</span></a><span class="Other">;</span> <span class="Identifier">url</span><span class="Other">:</span> <a href="uri.html#Uri"><span class="Identifier">Uri</span></a> <span class="Operator">|</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">;</span> <span class="Identifier">filename</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">)</span></pre></dt>
<dd>

Downloads <tt class="docutils literal"><span class="pre"><span class="Identifier">url</span></span></tt> and saves it to <tt class="docutils literal"><span class="pre"><span class="Identifier">filename</span></span></tt>.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/httpclient.nim#L1244"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L1244" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="get,AsyncHttpClient,">
<dt><pre><span class="Keyword">proc</span> <a href="#get%2CAsyncHttpClient%2C"><span class="Identifier">get</span></a><span class="Other">(</span><span class="Identifier">client</span><span class="Other">:</span> <a href="httpclient.html#AsyncHttpClient"><span class="Identifier">AsyncHttpClient</span></a><span class="Other">;</span> <span class="Identifier">url</span><span class="Other">:</span> <a href="uri.html#Uri"><span class="Identifier">Uri</span></a> <span class="Operator">|</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">)</span><span class="Other">:</span> <a href="asyncfutures.html#Future"><span class="Identifier">Future</span></a><span class="Other">[</span><a href="httpclient.html#AsyncResponse"><span class="Identifier">AsyncResponse</span></a><span class="Other">]</span></pre></dt>
<dd>

<p>Connects to the hostname specified by the URL and performs a GET request.</p>
<p>This procedure uses httpClient values such as <tt class="docutils literal"><span class="pre"><span class="Identifier">client</span><span class="Operator">.</span><span class="Identifier">maxRedirects</span></span></tt>.</p>

&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/httpclient.nim#L1178"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L1178" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="get,HttpClient,">
<dt><pre><span class="Keyword">proc</span> <a href="#get%2CHttpClient%2C"><span class="Identifier">get</span></a><span class="Other">(</span><span class="Identifier">client</span><span class="Other">:</span> <a href="httpclient.html#HttpClient"><span class="Identifier">HttpClient</span></a><span class="Other">;</span> <span class="Identifier">url</span><span class="Other">:</span> <a href="uri.html#Uri"><span class="Identifier">Uri</span></a> <span class="Operator">|</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">)</span><span class="Other">:</span> <a href="httpclient.html#Response"><span class="Identifier">Response</span></a></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/httpclient.nim#L1179"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L1179" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="getContent,AsyncHttpClient,">
<dt><pre><span class="Keyword">proc</span> <a href="#getContent%2CAsyncHttpClient%2C"><span class="Identifier">getContent</span></a><span class="Other">(</span><span class="Identifier">client</span><span class="Other">:</span> <a href="httpclient.html#AsyncHttpClient"><span class="Identifier">AsyncHttpClient</span></a><span class="Other">;</span> <span class="Identifier">url</span><span class="Other">:</span> <a href="uri.html#Uri"><span class="Identifier">Uri</span></a> <span class="Operator">|</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">)</span><span class="Other">:</span> <a href="asyncfutures.html#Future"><span class="Identifier">Future</span></a><span class="Other">[</span><a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">]</span></pre></dt>
<dd>

Connects to the hostname specified by the URL and returns the content of a GET request.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/httpclient.nim#L1185"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L1185" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="getContent,HttpClient,">
<dt><pre><span class="Keyword">proc</span> <a href="#getContent%2CHttpClient%2C"><span class="Identifier">getContent</span></a><span class="Other">(</span><span class="Identifier">client</span><span class="Other">:</span> <a href="httpclient.html#HttpClient"><span class="Identifier">HttpClient</span></a><span class="Other">;</span> <span class="Identifier">url</span><span class="Other">:</span> <a href="uri.html#Uri"><span class="Identifier">Uri</span></a> <span class="Operator">|</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">)</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/httpclient.nim#L1186"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L1186" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="getSocket,AsyncHttpClient">
<dt><pre><span class="Keyword">proc</span> <a href="#getSocket%2CAsyncHttpClient"><span class="Identifier">getSocket</span></a><span class="Other">(</span><span class="Identifier">client</span><span class="Other">:</span> <a href="httpclient.html#AsyncHttpClient"><span class="Identifier">AsyncHttpClient</span></a><span class="Other">)</span><span class="Other">:</span> <a href="asyncnet.html#AsyncSocket"><span class="Identifier">AsyncSocket</span></a> {.<span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/httpclient.nim#L669"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L669" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="getSocket,HttpClient">
<dt><pre><span class="Keyword">proc</span> <a href="#getSocket%2CHttpClient"><span class="Identifier">getSocket</span></a><span class="Other">(</span><span class="Identifier">client</span><span class="Other">:</span> <a href="httpclient.html#HttpClient"><span class="Identifier">HttpClient</span></a><span class="Other">)</span><span class="Other">:</span> <a href="net.html#Socket"><span class="Identifier">Socket</span></a> {.<span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

<p>Get network socket, useful if you want to find out more details about the connection</p>
<p>this example shows info about local and remote endpoints</p>
<pre class="listing"><span class="Keyword">if</span> <span class="Identifier">client</span><span class="Operator">.</span><span class="Identifier">connected</span><span class="Punctuation">:</span>
  <span class="Identifier">echo</span> <span class="Identifier">client</span><span class="Operator">.</span><span class="Identifier">getSocket</span><span class="Operator">.</span><span class="Identifier">getLocalAddr</span>
  <span class="Identifier">echo</span> <span class="Identifier">client</span><span class="Operator">.</span><span class="Identifier">getSocket</span><span class="Operator">.</span><span class="Identifier">getPeerAddr</span></pre>
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/httpclient.nim#L657"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L657" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="head,AsyncHttpClient,">
<dt><pre><span class="Keyword">proc</span> <a href="#head%2CAsyncHttpClient%2C"><span class="Identifier">head</span></a><span class="Other">(</span><span class="Identifier">client</span><span class="Other">:</span> <a href="httpclient.html#AsyncHttpClient"><span class="Identifier">AsyncHttpClient</span></a><span class="Other">;</span> <span class="Identifier">url</span><span class="Other">:</span> <a href="uri.html#Uri"><span class="Identifier">Uri</span></a> <span class="Operator">|</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">)</span><span class="Other">:</span> <a href="asyncfutures.html#Future"><span class="Identifier">Future</span></a><span class="Other">[</span><a href="httpclient.html#AsyncResponse"><span class="Identifier">AsyncResponse</span></a><span class="Other">]</span></pre></dt>
<dd>

<p>Connects to the hostname specified by the URL and performs a HEAD request.</p>
<p>This procedure uses httpClient values such as <tt class="docutils literal"><span class="pre"><span class="Identifier">client</span><span class="Operator">.</span><span class="Identifier">maxRedirects</span></span></tt>.</p>

&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/httpclient.nim#L1171"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L1171" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="head,HttpClient,">
<dt><pre><span class="Keyword">proc</span> <a href="#head%2CHttpClient%2C"><span class="Identifier">head</span></a><span class="Other">(</span><span class="Identifier">client</span><span class="Other">:</span> <a href="httpclient.html#HttpClient"><span class="Identifier">HttpClient</span></a><span class="Other">;</span> <span class="Identifier">url</span><span class="Other">:</span> <a href="uri.html#Uri"><span class="Identifier">Uri</span></a> <span class="Operator">|</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">)</span><span class="Other">:</span> <a href="httpclient.html#Response"><span class="Identifier">Response</span></a></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/httpclient.nim#L1172"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L1172" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="lastModified">
<dt><pre><span class="Keyword">proc</span> <a href="#lastModified"><span class="Identifier">lastModified</span></a><span class="Other">(</span><span class="Identifier">response</span><span class="Other">:</span> <a href="httpclient.html#Response"><span class="Identifier">Response</span></a> <span class="Operator">|</span> <a href="httpclient.html#AsyncResponse"><span class="Identifier">AsyncResponse</span></a><span class="Other">)</span><span class="Other">:</span> <a href="times.html#DateTime"><span class="Identifier">DateTime</span></a></pre></dt>
<dd>

<p>Retrieves the specified response's last modified time.</p>
<p>This is effectively the value of the &quot;Last-Modified&quot; header.</p>
<p>Raises a <tt class="docutils literal"><span class="pre"><span class="Identifier">ValueError</span></span></tt> if the parsing fails or the value is not a correctly formatted time.</p>

&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/httpclient.nim#L265"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L265" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="newAsyncHttpClient,int,Proxy">
<dt><pre><span class="Keyword">proc</span> <a href="#newAsyncHttpClient%2Cint%2CProxy"><span class="Identifier">newAsyncHttpClient</span></a><span class="Other">(</span><span class="Identifier">userAgent</span> <span class="Other">=</span> <span class="Identifier">defUserAgent</span><span class="Other">;</span> <span class="Identifier">maxRedirects</span> <span class="Other">=</span> <span class="DecNumber">5</span><span class="Other">;</span>
                        <span class="Identifier">sslContext</span> <span class="Other">=</span> <span class="Identifier">getDefaultSSL</span><span class="Other">(</span><span class="Other">)</span><span class="Other">;</span> <span class="Identifier">proxy</span><span class="Other">:</span> <a href="httpclient.html#Proxy"><span class="Identifier">Proxy</span></a> <span class="Other">=</span> <span class="Keyword">nil</span><span class="Other">;</span>
                        <span class="Identifier">headers</span> <span class="Other">=</span> <span class="Identifier">newHttpHeaders</span><span class="Other">(</span><span class="Other">)</span><span class="Other">)</span><span class="Other">:</span> <a href="httpclient.html#AsyncHttpClient"><span class="Identifier">AsyncHttpClient</span></a> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

<p>Creates a new AsyncHttpClient instance.</p>
<p><tt class="docutils literal"><span class="pre"><span class="Identifier">userAgent</span></span></tt> specifies the user agent that will be used when making requests.</p>
<p><tt class="docutils literal"><span class="pre"><span class="Identifier">maxRedirects</span></span></tt> specifies the maximum amount of redirects to follow, default is 5.</p>
<p><tt class="docutils literal"><span class="pre"><span class="Identifier">sslContext</span></span></tt> specifies the SSL context to use for HTTPS requests.</p>
<p><tt class="docutils literal"><span class="pre"><span class="Identifier">proxy</span></span></tt> specifies an HTTP proxy to use for this HTTP client's connections.</p>
<p><tt class="docutils literal"><span class="pre"><span class="Identifier">headers</span></span></tt> specifies the HTTP Headers.</p>

<p><strong class="examples_text">Example:</strong></p>
<pre class="listing"><span class="Keyword">import</span> <span class="Identifier">std</span><span class="Operator">/</span><span class="Punctuation">[</span><span class="Identifier">asyncdispatch</span><span class="Punctuation">,</span> <span class="Identifier">strutils</span><span class="Punctuation">]</span>

<span class="Keyword">proc</span> <span class="Identifier">asyncProc</span><span class="Punctuation">(</span><span class="Punctuation">)</span><span class="Punctuation">:</span> <span class="Identifier">Future</span><span class="Punctuation">[</span><span class="Identifier">string</span><span class="Punctuation">]</span> <span class="Punctuation">{</span><span class="Operator">.</span><span class="Identifier">async</span><span class="Operator">.</span><span class="Punctuation">}</span> <span class="Operator">=</span>
  <span class="Keyword">let</span> <span class="Identifier">client</span> <span class="Operator">=</span> <span class="Identifier">newAsyncHttpClient</span><span class="Punctuation">(</span><span class="Punctuation">)</span>
  <span class="Identifier">result</span> <span class="Operator">=</span> <span class="Identifier">await</span> <span class="Identifier">client</span><span class="Operator">.</span><span class="Identifier">getContent</span><span class="Punctuation">(</span><span class="StringLit">&quot;http://example.com&quot;</span><span class="Punctuation">)</span>

<span class="Keyword">let</span> <span class="Identifier">exampleHtml</span> <span class="Operator">=</span> <span class="Identifier">waitFor</span> <span class="Identifier">asyncProc</span><span class="Punctuation">(</span><span class="Punctuation">)</span>
<span class="Identifier">assert</span> <span class="StringLit">&quot;Example Domain&quot;</span> <span class="Keyword">in</span> <span class="Identifier">exampleHtml</span>
<span class="Identifier">assert</span> <span class="StringLit">&quot;Pizza&quot;</span> <span class="Keyword">notin</span> <span class="Identifier">exampleHtml</span></pre>
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/httpclient.nim#L611"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L611" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="newHttpClient,int,Proxy,int">
<dt><pre><span class="Keyword">proc</span> <a href="#newHttpClient%2Cint%2CProxy%2Cint"><span class="Identifier">newHttpClient</span></a><span class="Other">(</span><span class="Identifier">userAgent</span> <span class="Other">=</span> <span class="Identifier">defUserAgent</span><span class="Other">;</span> <span class="Identifier">maxRedirects</span> <span class="Other">=</span> <span class="DecNumber">5</span><span class="Other">;</span>
                   <span class="Identifier">sslContext</span> <span class="Other">=</span> <span class="Identifier">getDefaultSSL</span><span class="Other">(</span><span class="Other">)</span><span class="Other">;</span> <span class="Identifier">proxy</span><span class="Other">:</span> <a href="httpclient.html#Proxy"><span class="Identifier">Proxy</span></a> <span class="Other">=</span> <span class="Keyword">nil</span><span class="Other">;</span>
                   <span class="Identifier">timeout</span> <span class="Other">=</span> <span class="DecNumber">-1</span><span class="Other">;</span> <span class="Identifier">headers</span> <span class="Other">=</span> <span class="Identifier">newHttpHeaders</span><span class="Other">(</span><span class="Other">)</span><span class="Other">)</span><span class="Other">:</span> <a href="httpclient.html#HttpClient"><span class="Identifier">HttpClient</span></a> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

<p>Creates a new HttpClient instance.</p>
<p><tt class="docutils literal"><span class="pre"><span class="Identifier">userAgent</span></span></tt> specifies the user agent that will be used when making requests.</p>
<p><tt class="docutils literal"><span class="pre"><span class="Identifier">maxRedirects</span></span></tt> specifies the maximum amount of redirects to follow, default is 5.</p>
<p><tt class="docutils literal"><span class="pre"><span class="Identifier">sslContext</span></span></tt> specifies the SSL context to use for HTTPS requests. See <a class="reference external" href="#sslslashtls-support">SSL/TLS support</a></p>
<p><tt class="docutils literal"><span class="pre"><span class="Identifier">proxy</span></span></tt> specifies an HTTP proxy to use for this HTTP client's connections.</p>
<p><tt class="docutils literal"><span class="pre"><span class="Identifier">timeout</span></span></tt> specifies the number of milliseconds to allow before a <tt class="docutils literal"><span class="pre"><span class="Identifier">TimeoutError</span></span></tt> is raised.</p>
<p><tt class="docutils literal"><span class="pre"><span class="Identifier">headers</span></span></tt> specifies the HTTP Headers.</p>

<p><strong class="examples_text">Example:</strong></p>
<pre class="listing"><span class="Keyword">import</span> <span class="Identifier">std</span><span class="Operator">/</span><span class="Identifier">strutils</span>

<span class="Keyword">let</span> <span class="Identifier">exampleHtml</span> <span class="Operator">=</span> <span class="Identifier">newHttpClient</span><span class="Punctuation">(</span><span class="Punctuation">)</span><span class="Operator">.</span><span class="Identifier">getContent</span><span class="Punctuation">(</span><span class="StringLit">&quot;http://example.com&quot;</span><span class="Punctuation">)</span>
<span class="Identifier">assert</span> <span class="StringLit">&quot;Example Domain&quot;</span> <span class="Keyword">in</span> <span class="Identifier">exampleHtml</span>
<span class="Identifier">assert</span> <span class="StringLit">&quot;Pizza&quot;</span> <span class="Keyword">notin</span> <span class="Identifier">exampleHtml</span></pre>
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/httpclient.nim#L568"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L568" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="newMultipartData">
<dt><pre><span class="Keyword">proc</span> <a href="#newMultipartData"><span class="Identifier">newMultipartData</span></a><span class="Other">(</span><span class="Other">)</span><span class="Other">:</span> <a href="httpclient.html#MultipartData"><span class="Identifier">MultipartData</span></a> {.<span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Constructs a new <tt class="docutils literal"><span class="pre"><span class="Identifier">MultipartData</span></span></tt> object.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/httpclient.nim#L350"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L350" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="newMultipartData,MultipartEntries">
<dt><pre><span class="Keyword">proc</span> <a href="#newMultipartData%2CMultipartEntries"><span class="Identifier">newMultipartData</span></a><span class="Other">(</span><span class="Identifier">xs</span><span class="Other">:</span> <a href="httpclient.html#MultipartEntries"><span class="Identifier">MultipartEntries</span></a><span class="Other">)</span><span class="Other">:</span> <a href="httpclient.html#MultipartData"><span class="Identifier">MultipartData</span></a> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">ValueError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Create a new multipart data object and fill it with the entries <tt class="docutils literal"><span class="pre"><span class="Identifier">xs</span></span></tt> directly.<pre class="listing"><span class="Keyword">var</span> <span class="Identifier">data</span> <span class="Operator">=</span> <span class="Identifier">newMultipartData</span><span class="Punctuation">(</span><span class="Punctuation">{</span><span class="StringLit">&quot;action&quot;</span><span class="Punctuation">:</span> <span class="StringLit">&quot;login&quot;</span><span class="Punctuation">,</span> <span class="StringLit">&quot;format&quot;</span><span class="Punctuation">:</span> <span class="StringLit">&quot;json&quot;</span><span class="Punctuation">}</span><span class="Punctuation">)</span></pre>
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/httpclient.nim#L405"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L405" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="newProxy,string,string">
<dt><pre><span class="Keyword">proc</span> <a href="#newProxy%2Cstring%2Cstring"><span class="Identifier">newProxy</span></a><span class="Other">(</span><span class="Identifier">url</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">;</span> <span class="Identifier">auth</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">)</span><span class="Other">:</span> <a href="httpclient.html#Proxy"><span class="Identifier">Proxy</span></a> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Constructs a new <tt class="docutils literal"><span class="pre"><span class="Identifier">TProxy</span></span></tt> object.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/httpclient.nim#L342"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L342" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="newProxy,Uri,string">
<dt><pre><span class="Keyword">proc</span> <a href="#newProxy%2CUri%2Cstring"><span class="Identifier">newProxy</span></a><span class="Other">(</span><span class="Identifier">url</span><span class="Other">:</span> <a href="uri.html#Uri"><span class="Identifier">Uri</span></a><span class="Other">;</span> <span class="Identifier">auth</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">)</span><span class="Other">:</span> <a href="httpclient.html#Proxy"><span class="Identifier">Proxy</span></a> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
<dd>

Constructs a new <tt class="docutils literal"><span class="pre"><span class="Identifier">TProxy</span></span></tt> object.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/httpclient.nim#L346"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L346" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="patch,AsyncHttpClient,,string,MultipartData">
<dt><pre><span class="Keyword">proc</span> <a href="#patch%2CAsyncHttpClient%2C%2Cstring%2CMultipartData"><span class="Identifier">patch</span></a><span class="Other">(</span><span class="Identifier">client</span><span class="Other">:</span> <a href="httpclient.html#AsyncHttpClient"><span class="Identifier">AsyncHttpClient</span></a><span class="Other">;</span> <span class="Identifier">url</span><span class="Other">:</span> <a href="uri.html#Uri"><span class="Identifier">Uri</span></a> <span class="Operator">|</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">;</span> <span class="Identifier">body</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span>
           <span class="Identifier">multipart</span><span class="Other">:</span> <a href="httpclient.html#MultipartData"><span class="Identifier">MultipartData</span></a> <span class="Other">=</span> <span class="Keyword">nil</span><span class="Other">)</span><span class="Other">:</span> <a href="asyncfutures.html#Future"><span class="Identifier">Future</span></a><span class="Other">[</span><a href="httpclient.html#AsyncResponse"><span class="Identifier">AsyncResponse</span></a><span class="Other">]</span></pre></dt>
<dd>

Connects to the hostname specified by the URL and performs a PATCH request. This procedure uses httpClient values such as <tt class="docutils literal"><span class="pre"><span class="Identifier">client</span><span class="Operator">.</span><span class="Identifier">maxRedirects</span></span></tt>.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/httpclient.nim#L1230"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L1230" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="patch,HttpClient,,string,MultipartData">
<dt><pre><span class="Keyword">proc</span> <a href="#patch%2CHttpClient%2C%2Cstring%2CMultipartData"><span class="Identifier">patch</span></a><span class="Other">(</span><span class="Identifier">client</span><span class="Other">:</span> <a href="httpclient.html#HttpClient"><span class="Identifier">HttpClient</span></a><span class="Other">;</span> <span class="Identifier">url</span><span class="Other">:</span> <a href="uri.html#Uri"><span class="Identifier">Uri</span></a> <span class="Operator">|</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">;</span> <span class="Identifier">body</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span>
           <span class="Identifier">multipart</span><span class="Other">:</span> <a href="httpclient.html#MultipartData"><span class="Identifier">MultipartData</span></a> <span class="Other">=</span> <span class="Keyword">nil</span><span class="Other">)</span><span class="Other">:</span> <a href="httpclient.html#Response"><span class="Identifier">Response</span></a></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/httpclient.nim#L1232"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L1232" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="patchContent,AsyncHttpClient,,string,MultipartData">
<dt><pre><span class="Keyword">proc</span> <a href="#patchContent%2CAsyncHttpClient%2C%2Cstring%2CMultipartData"><span class="Identifier">patchContent</span></a><span class="Other">(</span><span class="Identifier">client</span><span class="Other">:</span> <a href="httpclient.html#AsyncHttpClient"><span class="Identifier">AsyncHttpClient</span></a><span class="Other">;</span> <span class="Identifier">url</span><span class="Other">:</span> <a href="uri.html#Uri"><span class="Identifier">Uri</span></a> <span class="Operator">|</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">;</span> <span class="Identifier">body</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span>
                  <span class="Identifier">multipart</span><span class="Other">:</span> <a href="httpclient.html#MultipartData"><span class="Identifier">MultipartData</span></a> <span class="Other">=</span> <span class="Keyword">nil</span><span class="Other">)</span><span class="Other">:</span> <a href="asyncfutures.html#Future"><span class="Identifier">Future</span></a><span class="Other">[</span><a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">]</span></pre></dt>
<dd>

Connects to the hostname specified by the URL and returns the content of a PATCH request.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/httpclient.nim#L1237"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L1237" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="patchContent,HttpClient,,string,MultipartData">
<dt><pre><span class="Keyword">proc</span> <a href="#patchContent%2CHttpClient%2C%2Cstring%2CMultipartData"><span class="Identifier">patchContent</span></a><span class="Other">(</span><span class="Identifier">client</span><span class="Other">:</span> <a href="httpclient.html#HttpClient"><span class="Identifier">HttpClient</span></a><span class="Other">;</span> <span class="Identifier">url</span><span class="Other">:</span> <a href="uri.html#Uri"><span class="Identifier">Uri</span></a> <span class="Operator">|</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">;</span> <span class="Identifier">body</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span>
                  <span class="Identifier">multipart</span><span class="Other">:</span> <a href="httpclient.html#MultipartData"><span class="Identifier">MultipartData</span></a> <span class="Other">=</span> <span class="Keyword">nil</span><span class="Other">)</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/httpclient.nim#L1239"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L1239" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="post,AsyncHttpClient,,string,MultipartData">
<dt><pre><span class="Keyword">proc</span> <a href="#post%2CAsyncHttpClient%2C%2Cstring%2CMultipartData"><span class="Identifier">post</span></a><span class="Other">(</span><span class="Identifier">client</span><span class="Other">:</span> <a href="httpclient.html#AsyncHttpClient"><span class="Identifier">AsyncHttpClient</span></a><span class="Other">;</span> <span class="Identifier">url</span><span class="Other">:</span> <a href="uri.html#Uri"><span class="Identifier">Uri</span></a> <span class="Operator">|</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">;</span> <span class="Identifier">body</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span>
          <span class="Identifier">multipart</span><span class="Other">:</span> <a href="httpclient.html#MultipartData"><span class="Identifier">MultipartData</span></a> <span class="Other">=</span> <span class="Keyword">nil</span><span class="Other">)</span><span class="Other">:</span> <a href="asyncfutures.html#Future"><span class="Identifier">Future</span></a><span class="Other">[</span><a href="httpclient.html#AsyncResponse"><span class="Identifier">AsyncResponse</span></a><span class="Other">]</span></pre></dt>
<dd>

Connects to the hostname specified by the URL and performs a POST request. This procedure uses httpClient values such as <tt class="docutils literal"><span class="pre"><span class="Identifier">client</span><span class="Operator">.</span><span class="Identifier">maxRedirects</span></span></tt>.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/httpclient.nim#L1203"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L1203" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="post,HttpClient,,string,MultipartData">
<dt><pre><span class="Keyword">proc</span> <a href="#post%2CHttpClient%2C%2Cstring%2CMultipartData"><span class="Identifier">post</span></a><span class="Other">(</span><span class="Identifier">client</span><span class="Other">:</span> <a href="httpclient.html#HttpClient"><span class="Identifier">HttpClient</span></a><span class="Other">;</span> <span class="Identifier">url</span><span class="Other">:</span> <a href="uri.html#Uri"><span class="Identifier">Uri</span></a> <span class="Operator">|</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">;</span> <span class="Identifier">body</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span>
          <span class="Identifier">multipart</span><span class="Other">:</span> <a href="httpclient.html#MultipartData"><span class="Identifier">MultipartData</span></a> <span class="Other">=</span> <span class="Keyword">nil</span><span class="Other">)</span><span class="Other">:</span> <a href="httpclient.html#Response"><span class="Identifier">Response</span></a></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/httpclient.nim#L1205"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L1205" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="postContent,AsyncHttpClient,,string,MultipartData">
<dt><pre><span class="Keyword">proc</span> <a href="#postContent%2CAsyncHttpClient%2C%2Cstring%2CMultipartData"><span class="Identifier">postContent</span></a><span class="Other">(</span><span class="Identifier">client</span><span class="Other">:</span> <a href="httpclient.html#AsyncHttpClient"><span class="Identifier">AsyncHttpClient</span></a><span class="Other">;</span> <span class="Identifier">url</span><span class="Other">:</span> <a href="uri.html#Uri"><span class="Identifier">Uri</span></a> <span class="Operator">|</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">;</span> <span class="Identifier">body</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span>
                 <span class="Identifier">multipart</span><span class="Other">:</span> <a href="httpclient.html#MultipartData"><span class="Identifier">MultipartData</span></a> <span class="Other">=</span> <span class="Keyword">nil</span><span class="Other">)</span><span class="Other">:</span> <a href="asyncfutures.html#Future"><span class="Identifier">Future</span></a><span class="Other">[</span><a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">]</span></pre></dt>
<dd>

Connects to the hostname specified by the URL and returns the content of a POST request.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/httpclient.nim#L1210"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L1210" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="postContent,HttpClient,,string,MultipartData">
<dt><pre><span class="Keyword">proc</span> <a href="#postContent%2CHttpClient%2C%2Cstring%2CMultipartData"><span class="Identifier">postContent</span></a><span class="Other">(</span><span class="Identifier">client</span><span class="Other">:</span> <a href="httpclient.html#HttpClient"><span class="Identifier">HttpClient</span></a><span class="Other">;</span> <span class="Identifier">url</span><span class="Other">:</span> <a href="uri.html#Uri"><span class="Identifier">Uri</span></a> <span class="Operator">|</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">;</span> <span class="Identifier">body</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span>
                 <span class="Identifier">multipart</span><span class="Other">:</span> <a href="httpclient.html#MultipartData"><span class="Identifier">MultipartData</span></a> <span class="Other">=</span> <span class="Keyword">nil</span><span class="Other">)</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/httpclient.nim#L1212"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L1212" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="put,AsyncHttpClient,,string,MultipartData">
<dt><pre><span class="Keyword">proc</span> <a href="#put%2CAsyncHttpClient%2C%2Cstring%2CMultipartData"><span class="Identifier">put</span></a><span class="Other">(</span><span class="Identifier">client</span><span class="Other">:</span> <a href="httpclient.html#AsyncHttpClient"><span class="Identifier">AsyncHttpClient</span></a><span class="Other">;</span> <span class="Identifier">url</span><span class="Other">:</span> <a href="uri.html#Uri"><span class="Identifier">Uri</span></a> <span class="Operator">|</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">;</span> <span class="Identifier">body</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span>
         <span class="Identifier">multipart</span><span class="Other">:</span> <a href="httpclient.html#MultipartData"><span class="Identifier">MultipartData</span></a> <span class="Other">=</span> <span class="Keyword">nil</span><span class="Other">)</span><span class="Other">:</span> <a href="asyncfutures.html#Future"><span class="Identifier">Future</span></a><span class="Other">[</span><a href="httpclient.html#AsyncResponse"><span class="Identifier">AsyncResponse</span></a><span class="Other">]</span></pre></dt>
<dd>

Connects to the hostname specified by the URL and performs a PUT request. This procedure uses httpClient values such as <tt class="docutils literal"><span class="pre"><span class="Identifier">client</span><span class="Operator">.</span><span class="Identifier">maxRedirects</span></span></tt>.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/httpclient.nim#L1217"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L1217" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="put,HttpClient,,string,MultipartData">
<dt><pre><span class="Keyword">proc</span> <a href="#put%2CHttpClient%2C%2Cstring%2CMultipartData"><span class="Identifier">put</span></a><span class="Other">(</span><span class="Identifier">client</span><span class="Other">:</span> <a href="httpclient.html#HttpClient"><span class="Identifier">HttpClient</span></a><span class="Other">;</span> <span class="Identifier">url</span><span class="Other">:</span> <a href="uri.html#Uri"><span class="Identifier">Uri</span></a> <span class="Operator">|</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">;</span> <span class="Identifier">body</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span>
         <span class="Identifier">multipart</span><span class="Other">:</span> <a href="httpclient.html#MultipartData"><span class="Identifier">MultipartData</span></a> <span class="Other">=</span> <span class="Keyword">nil</span><span class="Other">)</span><span class="Other">:</span> <a href="httpclient.html#Response"><span class="Identifier">Response</span></a></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/httpclient.nim#L1219"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L1219" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="putContent,AsyncHttpClient,,string,MultipartData">
<dt><pre><span class="Keyword">proc</span> <a href="#putContent%2CAsyncHttpClient%2C%2Cstring%2CMultipartData"><span class="Identifier">putContent</span></a><span class="Other">(</span><span class="Identifier">client</span><span class="Other">:</span> <a href="httpclient.html#AsyncHttpClient"><span class="Identifier">AsyncHttpClient</span></a><span class="Other">;</span> <span class="Identifier">url</span><span class="Other">:</span> <a href="uri.html#Uri"><span class="Identifier">Uri</span></a> <span class="Operator">|</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">;</span> <span class="Identifier">body</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span>
                <span class="Identifier">multipart</span><span class="Other">:</span> <a href="httpclient.html#MultipartData"><span class="Identifier">MultipartData</span></a> <span class="Other">=</span> <span class="Keyword">nil</span><span class="Other">)</span><span class="Other">:</span> <a href="asyncfutures.html#Future"><span class="Identifier">Future</span></a><span class="Other">[</span><a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">]</span></pre></dt>
<dd>

Connects to the hostname specified by the URL andreturns the content of a PUT request.
&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/httpclient.nim#L1224"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L1224" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="putContent,HttpClient,,string,MultipartData">
<dt><pre><span class="Keyword">proc</span> <a href="#putContent%2CHttpClient%2C%2Cstring%2CMultipartData"><span class="Identifier">putContent</span></a><span class="Other">(</span><span class="Identifier">client</span><span class="Other">:</span> <a href="httpclient.html#HttpClient"><span class="Identifier">HttpClient</span></a><span class="Other">;</span> <span class="Identifier">url</span><span class="Other">:</span> <a href="uri.html#Uri"><span class="Identifier">Uri</span></a> <span class="Operator">|</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">;</span> <span class="Identifier">body</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span>
                <span class="Identifier">multipart</span><span class="Other">:</span> <a href="httpclient.html#MultipartData"><span class="Identifier">MultipartData</span></a> <span class="Other">=</span> <span class="Keyword">nil</span><span class="Other">)</span><span class="Other">:</span> <a href="system.html#string"><span class="Identifier">string</span></a></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/httpclient.nim#L1225"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L1225" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="request,AsyncHttpClient,,string,HttpHeaders,MultipartData">
<dt><pre><span class="Keyword">proc</span> <a href="#request%2CAsyncHttpClient%2C%2Cstring%2CHttpHeaders%2CMultipartData"><span class="Identifier">request</span></a><span class="Other">(</span><span class="Identifier">client</span><span class="Other">:</span> <a href="httpclient.html#AsyncHttpClient"><span class="Identifier">AsyncHttpClient</span></a><span class="Other">;</span> <span class="Identifier">url</span><span class="Other">:</span> <a href="uri.html#Uri"><span class="Identifier">Uri</span></a> <span class="Operator">|</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">;</span>
             <span class="Identifier">httpMethod</span><span class="Other">:</span> <a href="httpcore.html#HttpMethod"><span class="Identifier">HttpMethod</span></a> <span class="Operator">|</span> <a href="system.html#string"><span class="Identifier">string</span></a> <span class="Other">=</span> <span class="Identifier">HttpGet</span><span class="Other">;</span> <span class="Identifier">body</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span>
             <span class="Identifier">headers</span><span class="Other">:</span> <a href="httpcore.html#HttpHeaders"><span class="Identifier">HttpHeaders</span></a> <span class="Other">=</span> <span class="Keyword">nil</span><span class="Other">;</span> <span class="Identifier">multipart</span><span class="Other">:</span> <a href="httpclient.html#MultipartData"><span class="Identifier">MultipartData</span></a> <span class="Other">=</span> <span class="Keyword">nil</span><span class="Other">)</span><span class="Other">:</span> <a href="asyncfutures.html#Future"><span class="Identifier">Future</span></a><span class="Other">[</span>
    <a href="httpclient.html#AsyncResponse"><span class="Identifier">AsyncResponse</span></a><span class="Other">]</span></pre></dt>
<dd>

<p>Connects to the hostname specified by the URL and performs a request using the custom method string specified by <tt class="docutils literal"><span class="pre"><span class="Identifier">httpMethod</span></span></tt>.</p>
<p>Connection will be kept alive. Further requests on the same <tt class="docutils literal"><span class="pre"><span class="Identifier">client</span></span></tt> to the same hostname will not require a new connection to be made. The connection can be closed by using the <tt class="docutils literal"><span class="pre"><span class="Identifier">close</span></span></tt> procedure.</p>
<p>This procedure will follow redirects up to a maximum number of redirects specified in <tt class="docutils literal"><span class="pre"><span class="Identifier">client</span><span class="Operator">.</span><span class="Identifier">maxRedirects</span></span></tt>.</p>
<p>You need to make sure that the <tt class="docutils literal"><span class="pre"><span class="Identifier">url</span></span></tt> doesn't contain any newline characters. Failing to do so will raise <tt class="docutils literal"><span class="pre"><span class="Identifier">AssertionDefect</span></span></tt>.</p>
<p><tt class="docutils literal"><span class="pre"><span class="Identifier">headers</span></span></tt> are HTTP headers that override the <tt class="docutils literal"><span class="pre"><span class="Identifier">client</span><span class="Operator">.</span><span class="Identifier">headers</span></span></tt> for this specific request only and will not be persisted.</p>
<p><strong>Deprecated since v1.5</strong>: use HttpMethod enum instead; string parameter httpMethod is deprecated</p>

&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/httpclient.nim#L1059"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L1059" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>
<div id="request,HttpClient,,string,HttpHeaders,MultipartData">
<dt><pre><span class="Keyword">proc</span> <a href="#request%2CHttpClient%2C%2Cstring%2CHttpHeaders%2CMultipartData"><span class="Identifier">request</span></a><span class="Other">(</span><span class="Identifier">client</span><span class="Other">:</span> <a href="httpclient.html#HttpClient"><span class="Identifier">HttpClient</span></a><span class="Other">;</span> <span class="Identifier">url</span><span class="Other">:</span> <a href="uri.html#Uri"><span class="Identifier">Uri</span></a> <span class="Operator">|</span> <a href="system.html#string"><span class="Identifier">string</span></a><span class="Other">;</span>
             <span class="Identifier">httpMethod</span><span class="Other">:</span> <a href="httpcore.html#HttpMethod"><span class="Identifier">HttpMethod</span></a> <span class="Operator">|</span> <a href="system.html#string"><span class="Identifier">string</span></a> <span class="Other">=</span> <span class="Identifier">HttpGet</span><span class="Other">;</span> <span class="Identifier">body</span> <span class="Other">=</span> <span class="StringLit">&quot;&quot;</span><span class="Other">;</span>
             <span class="Identifier">headers</span><span class="Other">:</span> <a href="httpcore.html#HttpHeaders"><span class="Identifier">HttpHeaders</span></a> <span class="Other">=</span> <span class="Keyword">nil</span><span class="Other">;</span> <span class="Identifier">multipart</span><span class="Other">:</span> <a href="httpclient.html#MultipartData"><span class="Identifier">MultipartData</span></a> <span class="Other">=</span> <span class="Keyword">nil</span><span class="Other">)</span><span class="Other">:</span> <a href="httpclient.html#Response"><span class="Identifier">Response</span></a></pre></dt>
<dd>


&nbsp;&nbsp;<a
href="https://github.com/nim-lang/Nim/tree/devel/lib/pure/httpclient.nim#L1063"
class="link-seesrc" target="_blank">Source</a>
&nbsp;&nbsp;<a href="https://github.com/nim-lang/Nim/edit/devel/lib/pure/httpclient.nim#L1063" class="link-seesrc" target="_blank" >Edit</a>

</dd>
</div>

</dl></div>
<div class="section" id="19">
<h1><a class="toc-backref" href="#19">Exports</a></h1>
<dl class="item">
<a href="httpcore.html#Http417"><span class="Identifier">Http417</span></a>, <a href="httpcore.html#Http503"><span class="Identifier">Http503</span></a>, <a href="httpcore.html#Http431"><span class="Identifier">Http431</span></a>, <a href="httpcore.html#HttpTrace"><span class="Identifier">HttpTrace</span></a>, <a href="httpcore.html#contains,set[HttpMethod],string"><span class="Identifier">contains</span></a>, <a href="httpcore.html#Http304"><span class="Identifier">Http304</span></a>, <a href="httpcore.html#Http406"><span class="Identifier">Http406</span></a>, <a href="httpcore.html#==,string,HttpCode"><span class="Identifier">==</span></a>, <a href="httpcore.html#$,HttpHeaders"><span class="Identifier">$</span></a>, <a href="httpcore.html#HttpMethod"><span class="Identifier">HttpMethod</span></a>, <a href="httpcore.html#Http408"><span class="Identifier">Http408</span></a>, <a href="httpcore.html#is4xx,HttpCode"><span class="Identifier">is4xx</span></a>, <a href="httpcore.html#is1xx,HttpCode"><span class="Identifier">is1xx</span></a>, <a href="httpcore.html#Http411"><span class="Identifier">Http411</span></a>, <a href="httpcore.html#is3xx,HttpCode"><span class="Identifier">is3xx</span></a>, <a href="httpcore.html#Http207"><span class="Identifier">Http207</span></a>, <a href="httpcore.html#Http418"><span class="Identifier">Http418</span></a>, <a href="httpcore.html#Http206"><span class="Identifier">Http206</span></a>, <a href="httpcore.html#HttpHead"><span class="Identifier">HttpHead</span></a>, <a href="httpcore.html#HttpPost"><span class="Identifier">HttpPost</span></a>, <a href="httpcore.html#clear,HttpHeaders"><span class="Identifier">clear</span></a>, <a href="httpcore.html#Http101"><span class="Identifier">Http101</span></a>, <a href="httpcore.html#httpNewLine"><span class="Identifier">httpNewLine</span></a>, <a href="httpcore.html#Http505"><span class="Identifier">Http505</span></a>, <a href="httpcore.html#Http413"><span class="Identifier">Http413</span></a>, <a href="httpcore.html#Http423"><span class="Identifier">Http423</span></a>, <a href="httpcore.html#Http409"><span class="Identifier">Http409</span></a>, <a href="httpcore.html#hasKey,HttpHeaders,string"><span class="Identifier">hasKey</span></a>, <a href="httpcore.html#Http200"><span class="Identifier">Http200</span></a>, <a href="httpcore.html#[]=,HttpHeaders,string,seq[string]"><span class="Identifier">[]=</span></a>, <a href="httpcore.html#Http414"><span class="Identifier">Http414</span></a>, <a href="httpcore.html#add,HttpHeaders,string,string"><span class="Identifier">add</span></a>, <a href="httpcore.html#Http401"><span class="Identifier">Http401</span></a>, <a href="httpcore.html#Http511"><span class="Identifier">Http511</span></a>, <a href="httpcore.html#Http205"><span class="Identifier">Http205</span></a>, <a href="httpcore.html#==,HttpCode,HttpCode"><span class="Identifier">==</span></a>, <a href="httpcore.html#Http407"><span class="Identifier">Http407</span></a>, <a href="httpcore.html#Http500"><span class="Identifier">Http500</span></a>, <a href="httpcore.html#Http404"><span class="Identifier">Http404</span></a>, <a href="httpcore.html#Http416"><span class="Identifier">Http416</span></a>, <a href="httpcore.html#Http507"><span class="Identifier">Http507</span></a>, <a href="httpcore.html#Http302"><span class="Identifier">Http302</span></a>, <a href="httpcore.html#HttpHeaders"><span class="Identifier">HttpHeaders</span></a>, <a href="httpcore.html#Http300"><span class="Identifier">Http300</span></a>, <a href="httpcore.html#Http428"><span class="Identifier">Http428</span></a>, <a href="httpcore.html#Http410"><span class="Identifier">Http410</span></a>, <a href="httpcore.html#is2xx,HttpCode"><span class="Identifier">is2xx</span></a>, <a href="httpcore.html#Http202"><span class="Identifier">Http202</span></a>, <a href="httpcore.html#Http502"><span class="Identifier">Http502</span></a>, <a href="httpcore.html#headerLimit"><span class="Identifier">headerLimit</span></a>, <a href="httpcore.html#HttpHeaderValues"><span class="Identifier">HttpHeaderValues</span></a>, <a href="httpcore.html#Http425"><span class="Identifier">Http425</span></a>, <a href="httpcore.html#contains,HttpHeaderValues,string"><span class="Identifier">contains</span></a>, <a href="httpcore.html#newHttpHeaders"><span class="Identifier">newHttpHeaders</span></a>, <a href="httpcore.html#$,HttpCode"><span class="Identifier">$</span></a>, <a href="httpcore.html#[],HttpHeaders,string,int"><span class="Identifier">[]</span></a>, <a href="httpcore.html#Http510"><span class="Identifier">Http510</span></a>, <a href="httpcore.html#newHttpHeaders,openArray[tuple[string,string]]"><span class="Identifier">newHttpHeaders</span></a>, <a href="httpcore.html#Http305"><span class="Identifier">Http305</span></a>, <a href="httpcore.html#Http451"><span class="Identifier">Http451</span></a>, <a href="httpcore.html#Http504"><span class="Identifier">Http504</span></a>, <a href="httpcore.html#Http426"><span class="Identifier">Http426</span></a>, <a href="httpcore.html#HttpConnect"><span class="Identifier">HttpConnect</span></a>, <a href="httpcore.html#==,tuple[string,int,int],HttpVersion"><span class="Identifier">==</span></a>, <a href="httpcore.html#Http308"><span class="Identifier">Http308</span></a>, <a href="httpcore.html#del,HttpHeaders,string"><span class="Identifier">del</span></a>, <a href="httpcore.html#HttpPut"><span class="Identifier">HttpPut</span></a>, <a href="httpcore.html#Http402"><span class="Identifier">Http402</span></a>, <a href="httpcore.html#pairs.i,HttpHeaders"><span class="Identifier">pairs</span></a>, <a href="httpcore.html#Http429"><span class="Identifier">Http429</span></a>, <a href="httpcore.html#HttpVersion"><span class="Identifier">HttpVersion</span></a>, <a href="httpcore.html#HttpDelete"><span class="Identifier">HttpDelete</span></a>, <a href="httpcore.html#is5xx,HttpCode"><span class="Identifier">is5xx</span></a>, <a href="httpcore.html#Http421"><span class="Identifier">Http421</span></a>, <a href="httpcore.html#HttpOptions"><span class="Identifier">HttpOptions</span></a>, <a href="httpcore.html#Http307"><span class="Identifier">Http307</span></a>, <a href="httpcore.html#Http102"><span class="Identifier">Http102</span></a>, <a href="httpcore.html#Http301"><span class="Identifier">Http301</span></a>, <a href="httpcore.html#HttpPatch"><span class="Identifier">HttpPatch</span></a>, <a href="httpcore.html#Http201"><span class="Identifier">Http201</span></a>, <a href="httpcore.html#Http203"><span class="Identifier">Http203</span></a>, <a href="httpcore.html#getOrDefault,HttpHeaders,string"><span class="Identifier">getOrDefault</span></a>, <a href="httpcore.html#Http100"><span class="Identifier">Http100</span></a>, <a href="httpcore.html#Http208"><span class="Identifier">Http208</span></a>, <a href="httpcore.html#Http501"><span class="Identifier">Http501</span></a>, <a href="httpcore.html#[]=,HttpHeaders,string,string"><span class="Identifier">[]=</span></a>, <a href="httpcore.html#len,HttpHeaders"><span class="Identifier">len</span></a>, <a href="httpcore.html#Http506"><span class="Identifier">Http506</span></a>, <a href="httpcore.html#Http400"><span class="Identifier">Http400</span></a>, <a href="httpcore.html#Http403"><span class="Identifier">Http403</span></a>, <a href="httpcore.html#HttpGet"><span class="Identifier">HttpGet</span></a>, <a href="httpcore.html#Http508"><span class="Identifier">Http508</span></a>, <a href="httpcore.html#Http415"><span class="Identifier">Http415</span></a>, <a href="httpcore.html#toString.c,HttpHeaderValues"><span class="Identifier">toString</span></a>, <a href="httpcore.html#Http412"><span class="Identifier">Http412</span></a>, <a href="httpcore.html#Http103"><span class="Identifier">Http103</span></a>, <a href="httpcore.html#Http405"><span class="Identifier">Http405</span></a>, <a href="httpcore.html#Http303"><span class="Identifier">Http303</span></a>, <a href="httpcore.html#Http204"><span class="Identifier">Http204</span></a>, <a href="httpcore.html#Http424"><span class="Identifier">Http424</span></a>, <a href="httpcore.html#HttpCode"><span class="Identifier">HttpCode</span></a>, <a href="httpcore.html#Http422"><span class="Identifier">Http422</span></a>, <a href="httpcore.html#Http226"><span class="Identifier">Http226</span></a>, <a href="httpcore.html#[],HttpHeaders,string"><span class="Identifier">[]</span></a>
</dl></div>

  </div>
</div>

    <div class="row">
      <div class="twelve-columns footer">
        <span class="nim-sprite"></span>
        <br/>
        <small style="color: var(--hint);">Made with Nim. Generated: 2021-09-01 00:56:56 UTC</small>
      </div>
    </div>
  </div>
</div>

</body>
</html>
